{"/Users/scott/Dev/Code/react-redux-firebase/src/actions/auth.js":{"path":"/Users/scott/Dev/Code/react-redux-firebase/src/actions/auth.js","statementMap":{"0":{"start":{"line":1,"column":40},"end":{"line":1,"column":95}},"1":{"start":{"line":1,"column":96},"end":{"line":1,"column":803}},"2":{"start":{"line":1,"column":827},"end":{"line":1,"column":902}},"3":{"start":{"line":1,"column":920},"end":{"line":1,"column":992}},"4":{"start":{"line":1,"column":1000},"end":{"line":1,"column":1046}},"5":{"start":{"line":1,"column":1054},"end":{"line":1,"column":1100}},"6":{"start":{"line":1,"column":1111},"end":{"line":1,"column":1160}},"7":{"start":{"line":1,"column":1172},"end":{"line":1,"column":1195}},"8":{"start":{"line":1,"column":1205},"end":{"line":1,"column":1226}},"9":{"start":{"line":1,"column":1234},"end":{"line":1,"column":1253}},"10":{"start":{"line":1,"column":1260},"end":{"line":1,"column":1284}},"11":{"start":{"line":1,"column":1295},"end":{"line":1,"column":1323}},"12":{"start":{"line":1,"column":1373},"end":{"line":1,"column":1392}},"13":{"start":{"line":1,"column":1393},"end":{"line":1,"column":1624}},"14":{"start":{"line":1,"column":1438},"end":{"line":1,"column":1474}},"15":{"start":{"line":1,"column":1475},"end":{"line":1,"column":1623}},"16":{"start":{"line":1,"column":1529},"end":{"line":1,"column":1590}},"17":{"start":{"line":1,"column":1624},"end":{"line":1,"column":1635}},"18":{"start":{"line":1,"column":1667},"end":{"line":1,"column":2075}},"19":{"start":{"line":1,"column":1684},"end":{"line":1,"column":1685}},"20":{"start":{"line":1,"column":1709},"end":{"line":1,"column":2075}},"21":{"start":{"line":1,"column":1796},"end":{"line":1,"column":1848}},"22":{"start":{"line":1,"column":1995},"end":{"line":1,"column":2072}},"23":{"start":{"line":1,"column":2075},"end":{"line":1,"column":2088}},"24":{"start":{"line":1,"column":2137},"end":{"line":1,"column":2215}},"25":{"start":{"line":5,"column":57},"end":{"line":5,"column":67}},"26":{"start":{"line":5,"column":76},"end":{"line":5,"column":95}},"27":{"start":{"line":5,"column":115},"end":{"line":5,"column":133}},"28":{"start":{"line":5,"column":146},"end":{"line":5,"column":176}},"29":{"start":{"line":5,"column":200},"end":{"line":5,"column":241}},"30":{"start":{"line":5,"column":242},"end":{"line":5,"column":479}},"31":{"start":{"line":9,"column":0},"end":{"line":9,"column":79}},"32":{"start":{"line":18,"column":104},"end":{"line":18,"column":121}},"33":{"start":{"line":18,"column":146},"end":{"line":18,"column":189}},"34":{"start":{"line":18,"column":210},"end":{"line":18,"column":249}},"35":{"start":{"line":18,"column":273},"end":{"line":18,"column":315}},"36":{"start":{"line":18,"column":326},"end":{"line":18,"column":355}},"37":{"start":{"line":18,"column":364},"end":{"line":18,"column":399}},"38":{"start":{"line":18,"column":400},"end":{"line":22,"column":522}},"39":{"start":{"line":19,"column":202},"end":{"line":20,"column":279}},"40":{"start":{"line":19,"column":254},"end":{"line":19,"column":367}},"41":{"start":{"line":19,"column":391},"end":{"line":19,"column":505}},"42":{"start":{"line":20,"column":14},"end":{"line":20,"column":68}},"43":{"start":{"line":20,"column":78},"end":{"line":20,"column":99}},"44":{"start":{"line":20,"column":100},"end":{"line":20,"column":278}},"45":{"start":{"line":22,"column":0},"end":{"line":22,"column":285}},"46":{"start":{"line":29,"column":86},"end":{"line":29,"column":103}},"47":{"start":{"line":29,"column":127},"end":{"line":29,"column":169}},"48":{"start":{"line":29,"column":180},"end":{"line":29,"column":209}},"49":{"start":{"line":29,"column":210},"end":{"line":30,"column":89}},"50":{"start":{"line":29,"column":231},"end":{"line":30,"column":62}},"51":{"start":{"line":29,"column":381},"end":{"line":29,"column":417}},"52":{"start":{"line":30,"column":0},"end":{"line":30,"column":61}},"53":{"start":{"line":30,"column":41},"end":{"line":30,"column":61}},"54":{"start":{"line":30,"column":62},"end":{"line":30,"column":88}},"55":{"start":{"line":36,"column":24},"end":{"line":38,"column":480}},"56":{"start":{"line":36,"column":69},"end":{"line":36,"column":79}},"57":{"start":{"line":36,"column":88},"end":{"line":36,"column":108}},"58":{"start":{"line":36,"column":129},"end":{"line":36,"column":148}},"59":{"start":{"line":36,"column":161},"end":{"line":36,"column":192}},"60":{"start":{"line":36,"column":216},"end":{"line":36,"column":258}},"61":{"start":{"line":36,"column":272},"end":{"line":36,"column":304}},"62":{"start":{"line":36,"column":305},"end":{"line":38,"column":479}},"63":{"start":{"line":36,"column":349},"end":{"line":38,"column":479}},"64":{"start":{"line":36,"column":395},"end":{"line":37,"column":373}},"65":{"start":{"line":37,"column":87},"end":{"line":37,"column":320}},"66":{"start":{"line":37,"column":177},"end":{"line":37,"column":251}},"67":{"start":{"line":37,"column":378},"end":{"line":38,"column":479}},"68":{"start":{"line":37,"column":399},"end":{"line":38,"column":384}},"69":{"start":{"line":38,"column":105},"end":{"line":38,"column":331}},"70":{"start":{"line":38,"column":188},"end":{"line":38,"column":262}},"71":{"start":{"line":38,"column":389},"end":{"line":38,"column":479}},"72":{"start":{"line":48,"column":3},"end":{"line":48,"column":45}},"73":{"start":{"line":48,"column":67},"end":{"line":61,"column":1}},"74":{"start":{"line":48,"column":123},"end":{"line":48,"column":140}},"75":{"start":{"line":48,"column":141},"end":{"line":48,"column":238}},"76":{"start":{"line":48,"column":205},"end":{"line":48,"column":238}},"77":{"start":{"line":49,"column":0},"end":{"line":50,"column":210}},"78":{"start":{"line":50,"column":0},"end":{"line":50,"column":210}},"79":{"start":{"line":50,"column":4},"end":{"line":50,"column":60}},"80":{"start":{"line":50,"column":102},"end":{"line":50,"column":209}},"81":{"start":{"line":51,"column":0},"end":{"line":60,"column":212}},"82":{"start":{"line":52,"column":0},"end":{"line":52,"column":78}},"83":{"start":{"line":52,"column":52},"end":{"line":52,"column":78}},"84":{"start":{"line":52,"column":93},"end":{"line":52,"column":100}},"85":{"start":{"line":53,"column":0},"end":{"line":56,"column":3}},"86":{"start":{"line":54,"column":19},"end":{"line":54,"column":132}},"87":{"start":{"line":55,"column":0},"end":{"line":56,"column":2}},"88":{"start":{"line":58,"column":0},"end":{"line":58,"column":289}},"89":{"start":{"line":58,"column":127},"end":{"line":58,"column":207}},"90":{"start":{"line":58,"column":270},"end":{"line":58,"column":287}},"91":{"start":{"line":58,"column":312},"end":{"line":58,"column":411}},"92":{"start":{"line":58,"column":575},"end":{"line":59,"column":137}},"93":{"start":{"line":59,"column":102},"end":{"line":59,"column":116}},"94":{"start":{"line":60,"column":22},"end":{"line":60,"column":209}},"95":{"start":{"line":67,"column":3},"end":{"line":67,"column":47}},"96":{"start":{"line":67,"column":73},"end":{"line":67,"column":683}},"97":{"start":{"line":67,"column":121},"end":{"line":67,"column":138}},"98":{"start":{"line":67,"column":139},"end":{"line":67,"column":682}},"99":{"start":{"line":67,"column":705},"end":{"line":67,"column":1271}},"100":{"start":{"line":67,"column":742},"end":{"line":67,"column":1270}},"101":{"start":{"line":67,"column":897},"end":{"line":67,"column":910}},"102":{"start":{"line":67,"column":911},"end":{"line":67,"column":1269}},"103":{"start":{"line":74,"column":3},"end":{"line":74,"column":53}},"104":{"start":{"line":80,"column":12},"end":{"line":83,"column":699}},"105":{"start":{"line":81,"column":0},"end":{"line":83,"column":698}},"106":{"start":{"line":83,"column":122},"end":{"line":83,"column":178}},"107":{"start":{"line":83,"column":455},"end":{"line":83,"column":510}},"108":{"start":{"line":83,"column":535},"end":{"line":83,"column":598}},"109":{"start":{"line":97,"column":3},"end":{"line":97,"column":21}},"110":{"start":{"line":97,"column":31},"end":{"line":104,"column":408}},"111":{"start":{"line":97,"column":90},"end":{"line":97,"column":160}},"112":{"start":{"line":97,"column":186},"end":{"line":97,"column":241}},"113":{"start":{"line":97,"column":249},"end":{"line":97,"column":277}},"114":{"start":{"line":97,"column":285},"end":{"line":97,"column":313}},"115":{"start":{"line":97,"column":314},"end":{"line":104,"column":407}},"116":{"start":{"line":98,"column":0},"end":{"line":98,"column":42}},"117":{"start":{"line":98,"column":13},"end":{"line":98,"column":42}},"118":{"start":{"line":99,"column":0},"end":{"line":99,"column":117}},"119":{"start":{"line":99,"column":95},"end":{"line":99,"column":117}},"120":{"start":{"line":101,"column":0},"end":{"line":101,"column":213}},"121":{"start":{"line":101,"column":85},"end":{"line":101,"column":213}},"122":{"start":{"line":101,"column":213},"end":{"line":103,"column":335}},"123":{"start":{"line":102,"column":0},"end":{"line":103,"column":335}},"124":{"start":{"line":102,"column":65},"end":{"line":103,"column":331}},"125":{"start":{"line":103,"column":52},"end":{"line":103,"column":61}},"126":{"start":{"line":103,"column":81},"end":{"line":103,"column":104}},"127":{"start":{"line":103,"column":105},"end":{"line":103,"column":328}},"128":{"start":{"line":103,"column":255},"end":{"line":103,"column":326}},"129":{"start":{"line":104,"column":9},"end":{"line":104,"column":32}},"130":{"start":{"line":104,"column":33},"end":{"line":104,"column":323}},"131":{"start":{"line":104,"column":273},"end":{"line":104,"column":321}},"132":{"start":{"line":104,"column":346},"end":{"line":104,"column":405}},"133":{"start":{"line":110,"column":3},"end":{"line":110,"column":23}},"134":{"start":{"line":110,"column":34},"end":{"line":110,"column":336}},"135":{"start":{"line":110,"column":62},"end":{"line":110,"column":335}},"136":{"start":{"line":110,"column":151},"end":{"line":110,"column":187}},"137":{"start":{"line":110,"column":188},"end":{"line":110,"column":333}},"138":{"start":{"line":120,"column":3},"end":{"line":120,"column":25}},"139":{"start":{"line":120,"column":40},"end":{"line":121,"column":154}},"140":{"start":{"line":120,"column":92},"end":{"line":120,"column":103}},"141":{"start":{"line":120,"column":113},"end":{"line":120,"column":127}},"142":{"start":{"line":120,"column":128},"end":{"line":120,"column":318}},"143":{"start":{"line":120,"column":194},"end":{"line":120,"column":253}},"144":{"start":{"line":120,"column":254},"end":{"line":120,"column":317}},"145":{"start":{"line":120,"column":318},"end":{"line":121,"column":153}},"146":{"start":{"line":120,"column":412},"end":{"line":121,"column":69}},"147":{"start":{"line":121,"column":92},"end":{"line":121,"column":151}},"148":{"start":{"line":128,"column":3},"end":{"line":128,"column":33}},"149":{"start":{"line":128,"column":51},"end":{"line":128,"column":406}},"150":{"start":{"line":128,"column":85},"end":{"line":128,"column":405}},"151":{"start":{"line":128,"column":192},"end":{"line":128,"column":403}},"152":{"start":{"line":128,"column":200},"end":{"line":128,"column":376}},"153":{"start":{"line":128,"column":243},"end":{"line":128,"column":328}},"154":{"start":{"line":128,"column":328},"end":{"line":128,"column":334}},"155":{"start":{"line":128,"column":342},"end":{"line":128,"column":375}},"156":{"start":{"line":128,"column":376},"end":{"line":128,"column":402}},"157":{"start":{"line":136,"column":3},"end":{"line":136,"column":39}},"158":{"start":{"line":136,"column":64},"end":{"line":136,"column":831}},"159":{"start":{"line":136,"column":106},"end":{"line":136,"column":830}},"160":{"start":{"line":136,"column":219},"end":{"line":136,"column":828}},"161":{"start":{"line":136,"column":227},"end":{"line":136,"column":801}},"162":{"start":{"line":136,"column":275},"end":{"line":136,"column":346}},"163":{"start":{"line":136,"column":346},"end":{"line":136,"column":352}},"164":{"start":{"line":136,"column":383},"end":{"line":136,"column":453}},"165":{"start":{"line":136,"column":453},"end":{"line":136,"column":459}},"166":{"start":{"line":136,"column":484},"end":{"line":136,"column":548}},"167":{"start":{"line":136,"column":548},"end":{"line":136,"column":554}},"168":{"start":{"line":136,"column":580},"end":{"line":136,"column":645}},"169":{"start":{"line":136,"column":645},"end":{"line":136,"column":651}},"170":{"start":{"line":136,"column":676},"end":{"line":136,"column":753}},"171":{"start":{"line":136,"column":753},"end":{"line":136,"column":759}},"172":{"start":{"line":136,"column":767},"end":{"line":136,"column":800}},"173":{"start":{"line":136,"column":801},"end":{"line":136,"column":827}},"174":{"start":{"line":143,"column":3},"end":{"line":143,"column":53}},"175":{"start":{"line":143,"column":81},"end":{"line":143,"column":288}},"176":{"start":{"line":143,"column":114},"end":{"line":143,"column":287}},"177":{"start":{"line":143,"column":221},"end":{"line":143,"column":285}},"178":{"start":{"line":151,"column":3},"end":{"line":151,"column":59}},"179":{"start":{"line":151,"column":77},"end":{"line":152,"column":442}},"180":{"start":{"line":151,"column":138},"end":{"line":151,"column":155}},"181":{"start":{"line":151,"column":156},"end":{"line":151,"column":239}},"182":{"start":{"line":152,"column":18},"end":{"line":152,"column":104}},"183":{"start":{"line":152,"column":105},"end":{"line":152,"column":441}},"184":{"start":{"line":152,"column":178},"end":{"line":152,"column":313}},"185":{"start":{"line":152,"column":338},"end":{"line":152,"column":439}},"186":{"start":{"line":161,"column":3},"end":{"line":161,"column":39}},"187":{"start":{"line":161,"column":54},"end":{"line":161,"column":759}},"188":{"start":{"line":161,"column":109},"end":{"line":161,"column":382}},"189":{"start":{"line":161,"column":229},"end":{"line":161,"column":280}},"190":{"start":{"line":161,"column":281},"end":{"line":161,"column":381}},"191":{"start":{"line":161,"column":382},"end":{"line":161,"column":758}},"192":{"start":{"line":161,"column":466},"end":{"line":161,"column":633}},"193":{"start":{"line":161,"column":658},"end":{"line":161,"column":756}},"194":{"start":{"line":171,"column":3},"end":{"line":171,"column":33}},"195":{"start":{"line":171,"column":49},"end":{"line":171,"column":739}},"196":{"start":{"line":171,"column":102},"end":{"line":171,"column":374}},"197":{"start":{"line":171,"column":221},"end":{"line":171,"column":273}},"198":{"start":{"line":171,"column":274},"end":{"line":171,"column":373}},"199":{"start":{"line":171,"column":374},"end":{"line":171,"column":738}},"200":{"start":{"line":171,"column":454},"end":{"line":171,"column":612}},"201":{"start":{"line":171,"column":637},"end":{"line":171,"column":736}},"202":{"start":{"line":177,"column":3},"end":{"line":177,"column":35}},"203":{"start":{"line":177,"column":50},"end":{"line":178,"column":559}},"204":{"start":{"line":178,"column":0},"end":{"line":178,"column":252}},"205":{"start":{"line":178,"column":101},"end":{"line":178,"column":152}},"206":{"start":{"line":178,"column":153},"end":{"line":178,"column":251}},"207":{"start":{"line":178,"column":252},"end":{"line":178,"column":558}},"208":{"start":{"line":178,"column":321},"end":{"line":178,"column":348}},"209":{"start":{"line":178,"column":349},"end":{"line":178,"column":433}},"210":{"start":{"line":178,"column":458},"end":{"line":178,"column":556}},"211":{"start":{"line":185,"column":3},"end":{"line":185,"column":33}},"212":{"start":{"line":185,"column":56},"end":{"line":186,"column":549}},"213":{"start":{"line":186,"column":0},"end":{"line":186,"column":257}},"214":{"start":{"line":186,"column":99},"end":{"line":186,"column":159}},"215":{"start":{"line":186,"column":160},"end":{"line":186,"column":256}},"216":{"start":{"line":186,"column":257},"end":{"line":186,"column":548}},"217":{"start":{"line":186,"column":343},"end":{"line":186,"column":425}},"218":{"start":{"line":186,"column":450},"end":{"line":186,"column":546}},"219":{"start":{"line":193,"column":3},"end":{"line":193,"column":49}},"220":{"start":{"line":194,"column":0},"end":{"line":194,"column":257}},"221":{"start":{"line":194,"column":99},"end":{"line":194,"column":159}},"222":{"start":{"line":194,"column":160},"end":{"line":194,"column":256}},"223":{"start":{"line":194,"column":257},"end":{"line":194,"column":553}},"224":{"start":{"line":194,"column":348},"end":{"line":194,"column":430}},"225":{"start":{"line":194,"column":455},"end":{"line":194,"column":551}},"226":{"start":{"line":201,"column":76},"end":{"line":201,"column":197}},"227":{"start":{"line":208,"column":56},"end":{"line":208,"column":157}},"228":{"start":{"line":215,"column":57},"end":{"line":215,"column":159}},"229":{"start":{"line":226,"column":97},"end":{"line":226,"column":154}},"230":{"start":{"line":226,"column":155},"end":{"line":226,"column":275}}},"fnMap":{"0":{"name":"ownKeys","decl":{"start":{"line":1,"column":1333},"end":{"line":1,"column":1340}},"loc":{"start":{"line":1,"column":1363},"end":{"line":1,"column":1636}},"line":1},"1":{"name":"(anonymous_1)","decl":{"start":{"line":1,"column":1515},"end":{"line":1,"column":1516}},"loc":{"start":{"line":1,"column":1528},"end":{"line":1,"column":1591}},"line":1},"2":{"name":"_objectSpread","decl":{"start":{"line":1,"column":1645},"end":{"line":1,"column":1658}},"loc":{"start":{"line":1,"column":1666},"end":{"line":1,"column":2089}},"line":1},"3":{"name":"(anonymous_3)","decl":{"start":{"line":1,"column":1782},"end":{"line":1,"column":1783}},"loc":{"start":{"line":1,"column":1795},"end":{"line":1,"column":1849}},"line":1},"4":{"name":"(anonymous_4)","decl":{"start":{"line":1,"column":1981},"end":{"line":1,"column":1982}},"loc":{"start":{"line":1,"column":1994},"end":{"line":1,"column":2073}},"line":1},"5":{"name":"dispatchLoginError","decl":{"start":{"line":1,"column":2098},"end":{"line":1,"column":2116}},"loc":{"start":{"line":1,"column":2136},"end":{"line":1,"column":2216}},"line":1},"6":{"name":"unWatchUserProfile","decl":{"start":{"line":5,"column":12},"end":{"line":5,"column":30}},"loc":{"start":{"line":5,"column":40},"end":{"line":5,"column":480}},"line":5},"7":{"name":"getProfileFromSnap","decl":{"start":{"line":8,"column":12},"end":{"line":8,"column":30}},"loc":{"start":{"line":8,"column":36},"end":{"line":10,"column":1}},"line":8},"8":{"name":"handleProfileWatchResponse","decl":{"start":{"line":18,"column":12},"end":{"line":18,"column":38}},"loc":{"start":{"line":18,"column":79},"end":{"line":22,"column":523}},"line":18},"9":{"name":"(anonymous_9)","decl":{"start":{"line":19,"column":187},"end":{"line":19,"column":188}},"loc":{"start":{"line":19,"column":201},"end":{"line":20,"column":280}},"line":19},"10":{"name":"(anonymous_10)","decl":{"start":{"line":19,"column":232},"end":{"line":19,"column":233}},"loc":{"start":{"line":19,"column":253},"end":{"line":19,"column":368}},"line":19},"11":{"name":"(anonymous_11)","decl":{"start":{"line":20,"column":288},"end":{"line":20,"column":289}},"loc":{"start":{"line":20,"column":301},"end":{"line":22,"column":286}},"line":20},"12":{"name":"createProfileWatchErrorHandler","decl":{"start":{"line":29,"column":12},"end":{"line":29,"column":42}},"loc":{"start":{"line":29,"column":61},"end":{"line":30,"column":90}},"line":29},"13":{"name":"(anonymous_13)","decl":{"start":{"line":29,"column":217},"end":{"line":29,"column":218}},"loc":{"start":{"line":29,"column":230},"end":{"line":30,"column":89}},"line":29},"14":{"name":"(anonymous_14)","decl":{"start":{"line":36,"column":24},"end":{"line":36,"column":25}},"loc":{"start":{"line":36,"column":51},"end":{"line":38,"column":480}},"line":36},"15":{"name":"(anonymous_15)","decl":{"start":{"line":37,"column":61},"end":{"line":37,"column":62}},"loc":{"start":{"line":37,"column":86},"end":{"line":37,"column":321}},"line":37},"16":{"name":"(anonymous_16)","decl":{"start":{"line":37,"column":161},"end":{"line":37,"column":162}},"loc":{"start":{"line":37,"column":176},"end":{"line":37,"column":252}},"line":37},"17":{"name":"(anonymous_17)","decl":{"start":{"line":38,"column":79},"end":{"line":38,"column":80}},"loc":{"start":{"line":38,"column":104},"end":{"line":38,"column":332}},"line":38},"18":{"name":"(anonymous_18)","decl":{"start":{"line":38,"column":172},"end":{"line":38,"column":173}},"loc":{"start":{"line":38,"column":187},"end":{"line":38,"column":263}},"line":38},"19":{"name":"(anonymous_19)","decl":{"start":{"line":48,"column":67},"end":{"line":48,"column":68}},"loc":{"start":{"line":48,"column":111},"end":{"line":61,"column":1}},"line":48},"20":{"name":"(anonymous_20)","decl":{"start":{"line":51,"column":137},"end":{"line":51,"column":138}},"loc":{"start":{"line":51,"column":158},"end":{"line":58,"column":290}},"line":51},"21":{"name":"(anonymous_21)","decl":{"start":{"line":58,"column":100},"end":{"line":58,"column":101}},"loc":{"start":{"line":58,"column":126},"end":{"line":58,"column":208}},"line":58},"22":{"name":"(anonymous_22)","decl":{"start":{"line":58,"column":259},"end":{"line":58,"column":260}},"loc":{"start":{"line":58,"column":269},"end":{"line":58,"column":288}},"line":58},"23":{"name":"(anonymous_23)","decl":{"start":{"line":58,"column":298},"end":{"line":58,"column":299}},"loc":{"start":{"line":58,"column":311},"end":{"line":58,"column":412}},"line":58},"24":{"name":"(anonymous_24)","decl":{"start":{"line":58,"column":553},"end":{"line":58,"column":554}},"loc":{"start":{"line":58,"column":574},"end":{"line":59,"column":138}},"line":58},"25":{"name":"(anonymous_25)","decl":{"start":{"line":59,"column":91},"end":{"line":59,"column":92}},"loc":{"start":{"line":59,"column":101},"end":{"line":59,"column":117}},"line":59},"26":{"name":"(anonymous_26)","decl":{"start":{"line":60,"column":8},"end":{"line":60,"column":9}},"loc":{"start":{"line":60,"column":21},"end":{"line":60,"column":210}},"line":60},"27":{"name":"(anonymous_27)","decl":{"start":{"line":67,"column":73},"end":{"line":67,"column":74}},"loc":{"start":{"line":67,"column":109},"end":{"line":67,"column":683}},"line":67},"28":{"name":"(anonymous_28)","decl":{"start":{"line":67,"column":705},"end":{"line":67,"column":706}},"loc":{"start":{"line":67,"column":741},"end":{"line":67,"column":1271}},"line":67},"29":{"name":"(anonymous_29)","decl":{"start":{"line":80,"column":12},"end":{"line":80,"column":13}},"loc":{"start":{"line":80,"column":39},"end":{"line":83,"column":699}},"line":80},"30":{"name":"(anonymous_30)","decl":{"start":{"line":83,"column":103},"end":{"line":83,"column":104}},"loc":{"start":{"line":83,"column":121},"end":{"line":83,"column":179}},"line":83},"31":{"name":"(anonymous_31)","decl":{"start":{"line":83,"column":436},"end":{"line":83,"column":437}},"loc":{"start":{"line":83,"column":454},"end":{"line":83,"column":511}},"line":83},"32":{"name":"(anonymous_32)","decl":{"start":{"line":83,"column":519},"end":{"line":83,"column":520}},"loc":{"start":{"line":83,"column":534},"end":{"line":83,"column":599}},"line":83},"33":{"name":"(anonymous_33)","decl":{"start":{"line":97,"column":31},"end":{"line":97,"column":32}},"loc":{"start":{"line":97,"column":70},"end":{"line":104,"column":408}},"line":97},"34":{"name":"(anonymous_34)","decl":{"start":{"line":97,"column":428},"end":{"line":97,"column":429}},"loc":{"start":{"line":97,"column":446},"end":{"line":104,"column":324}},"line":97},"35":{"name":"confirm","decl":{"start":{"line":102,"column":51},"end":{"line":102,"column":58}},"loc":{"start":{"line":102,"column":64},"end":{"line":103,"column":332}},"line":102},"36":{"name":"(anonymous_36)","decl":{"start":{"line":103,"column":28},"end":{"line":103,"column":29}},"loc":{"start":{"line":103,"column":42},"end":{"line":103,"column":329}},"line":103},"37":{"name":"(anonymous_37)","decl":{"start":{"line":103,"column":237},"end":{"line":103,"column":238}},"loc":{"start":{"line":103,"column":254},"end":{"line":103,"column":327}},"line":103},"38":{"name":"(anonymous_38)","decl":{"start":{"line":104,"column":255},"end":{"line":104,"column":256}},"loc":{"start":{"line":104,"column":272},"end":{"line":104,"column":322}},"line":104},"39":{"name":"(anonymous_39)","decl":{"start":{"line":104,"column":332},"end":{"line":104,"column":333}},"loc":{"start":{"line":104,"column":345},"end":{"line":104,"column":406}},"line":104},"40":{"name":"(anonymous_40)","decl":{"start":{"line":110,"column":34},"end":{"line":110,"column":35}},"loc":{"start":{"line":110,"column":61},"end":{"line":110,"column":336}},"line":110},"41":{"name":"(anonymous_41)","decl":{"start":{"line":110,"column":129},"end":{"line":110,"column":130}},"loc":{"start":{"line":110,"column":139},"end":{"line":110,"column":334}},"line":110},"42":{"name":"(anonymous_42)","decl":{"start":{"line":120,"column":40},"end":{"line":120,"column":41}},"loc":{"start":{"line":120,"column":81},"end":{"line":121,"column":154}},"line":120},"43":{"name":"(anonymous_43)","decl":{"start":{"line":120,"column":393},"end":{"line":120,"column":394}},"loc":{"start":{"line":120,"column":411},"end":{"line":121,"column":70}},"line":120},"44":{"name":"(anonymous_44)","decl":{"start":{"line":121,"column":78},"end":{"line":121,"column":79}},"loc":{"start":{"line":121,"column":91},"end":{"line":121,"column":152}},"line":121},"45":{"name":"(anonymous_45)","decl":{"start":{"line":128,"column":51},"end":{"line":128,"column":52}},"loc":{"start":{"line":128,"column":84},"end":{"line":128,"column":406}},"line":128},"46":{"name":"(anonymous_46)","decl":{"start":{"line":128,"column":178},"end":{"line":128,"column":179}},"loc":{"start":{"line":128,"column":191},"end":{"line":128,"column":404}},"line":128},"47":{"name":"(anonymous_47)","decl":{"start":{"line":136,"column":64},"end":{"line":136,"column":65}},"loc":{"start":{"line":136,"column":105},"end":{"line":136,"column":831}},"line":136},"48":{"name":"(anonymous_48)","decl":{"start":{"line":136,"column":205},"end":{"line":136,"column":206}},"loc":{"start":{"line":136,"column":218},"end":{"line":136,"column":829}},"line":136},"49":{"name":"(anonymous_49)","decl":{"start":{"line":143,"column":81},"end":{"line":143,"column":82}},"loc":{"start":{"line":143,"column":113},"end":{"line":143,"column":288}},"line":143},"50":{"name":"(anonymous_50)","decl":{"start":{"line":143,"column":207},"end":{"line":143,"column":208}},"loc":{"start":{"line":143,"column":220},"end":{"line":143,"column":286}},"line":143},"51":{"name":"(anonymous_51)","decl":{"start":{"line":151,"column":77},"end":{"line":151,"column":78}},"loc":{"start":{"line":151,"column":126},"end":{"line":152,"column":442}},"line":151},"52":{"name":"(anonymous_52)","decl":{"start":{"line":152,"column":163},"end":{"line":152,"column":164}},"loc":{"start":{"line":152,"column":177},"end":{"line":152,"column":314}},"line":152},"53":{"name":"(anonymous_53)","decl":{"start":{"line":152,"column":322},"end":{"line":152,"column":323}},"loc":{"start":{"line":152,"column":337},"end":{"line":152,"column":440}},"line":152},"54":{"name":"(anonymous_54)","decl":{"start":{"line":161,"column":54},"end":{"line":161,"column":55}},"loc":{"start":{"line":161,"column":108},"end":{"line":161,"column":759}},"line":161},"55":{"name":"(anonymous_55)","decl":{"start":{"line":161,"column":448},"end":{"line":161,"column":449}},"loc":{"start":{"line":161,"column":465},"end":{"line":161,"column":634}},"line":161},"56":{"name":"(anonymous_56)","decl":{"start":{"line":161,"column":642},"end":{"line":161,"column":643}},"loc":{"start":{"line":161,"column":657},"end":{"line":161,"column":757}},"line":161},"57":{"name":"(anonymous_57)","decl":{"start":{"line":171,"column":49},"end":{"line":171,"column":50}},"loc":{"start":{"line":171,"column":101},"end":{"line":171,"column":739}},"line":171},"58":{"name":"(anonymous_58)","decl":{"start":{"line":171,"column":436},"end":{"line":171,"column":437}},"loc":{"start":{"line":171,"column":453},"end":{"line":171,"column":613}},"line":171},"59":{"name":"(anonymous_59)","decl":{"start":{"line":171,"column":621},"end":{"line":171,"column":622}},"loc":{"start":{"line":171,"column":636},"end":{"line":171,"column":737}},"line":171},"60":{"name":"(anonymous_60)","decl":{"start":{"line":177,"column":50},"end":{"line":177,"column":51}},"loc":{"start":{"line":177,"column":77},"end":{"line":178,"column":559}},"line":177},"61":{"name":"(anonymous_61)","decl":{"start":{"line":178,"column":301},"end":{"line":178,"column":302}},"loc":{"start":{"line":178,"column":311},"end":{"line":178,"column":434}},"line":178},"62":{"name":"(anonymous_62)","decl":{"start":{"line":178,"column":442},"end":{"line":178,"column":443}},"loc":{"start":{"line":178,"column":457},"end":{"line":178,"column":557}},"line":178},"63":{"name":"(anonymous_63)","decl":{"start":{"line":185,"column":56},"end":{"line":185,"column":57}},"loc":{"start":{"line":185,"column":94},"end":{"line":186,"column":549}},"line":185},"64":{"name":"(anonymous_64)","decl":{"start":{"line":186,"column":328},"end":{"line":186,"column":329}},"loc":{"start":{"line":186,"column":342},"end":{"line":186,"column":426}},"line":186},"65":{"name":"(anonymous_65)","decl":{"start":{"line":186,"column":434},"end":{"line":186,"column":435}},"loc":{"start":{"line":186,"column":449},"end":{"line":186,"column":547}},"line":186},"66":{"name":"linkWithAuthDispatch","decl":{"start":{"line":193,"column":58},"end":{"line":193,"column":78}},"loc":{"start":{"line":193,"column":114},"end":{"line":194,"column":554}},"line":193},"67":{"name":"(anonymous_67)","decl":{"start":{"line":194,"column":333},"end":{"line":194,"column":334}},"loc":{"start":{"line":194,"column":347},"end":{"line":194,"column":431}},"line":194},"68":{"name":"(anonymous_68)","decl":{"start":{"line":194,"column":439},"end":{"line":194,"column":440}},"loc":{"start":{"line":194,"column":454},"end":{"line":194,"column":552}},"line":194},"69":{"name":"linkAndRetrieveDataWithCredential","decl":{"start":{"line":201,"column":12},"end":{"line":201,"column":45}},"loc":{"start":{"line":201,"column":75},"end":{"line":201,"column":198}},"line":201},"70":{"name":"linkWithPopup","decl":{"start":{"line":208,"column":12},"end":{"line":208,"column":25}},"loc":{"start":{"line":208,"column":55},"end":{"line":208,"column":158}},"line":208},"71":{"name":"linkWithRedirect","decl":{"start":{"line":215,"column":12},"end":{"line":215,"column":28}},"loc":{"start":{"line":215,"column":56},"end":{"line":215,"column":160}},"line":215},"72":{"name":"signInWithPhoneNumber","decl":{"start":{"line":226,"column":12},"end":{"line":226,"column":33}},"loc":{"start":{"line":226,"column":84},"end":{"line":226,"column":276}},"line":226}},"branchMap":{"0":{"loc":{"start":{"line":1,"column":1393},"end":{"line":1,"column":1624}},"type":"if","locations":[{"start":{"line":1,"column":1393},"end":{"line":1,"column":1624}},{"start":{"line":1,"column":1393},"end":{"line":1,"column":1624}}],"line":1},"1":{"loc":{"start":{"line":1,"column":1475},"end":{"line":1,"column":1593}},"type":"binary-expr","locations":[{"start":{"line":1,"column":1475},"end":{"line":1,"column":1489}},{"start":{"line":1,"column":1492},"end":{"line":1,"column":1592}}],"line":1},"2":{"loc":{"start":{"line":1,"column":1716},"end":{"line":1,"column":1750}},"type":"cond-expr","locations":[{"start":{"line":1,"column":1735},"end":{"line":1,"column":1737}},{"start":{"line":1,"column":1738},"end":{"line":1,"column":1750}}],"line":1},"3":{"loc":{"start":{"line":1,"column":1751},"end":{"line":1,"column":2074}},"type":"cond-expr","locations":[{"start":{"line":1,"column":1755},"end":{"line":1,"column":1850}},{"start":{"line":1,"column":1851},"end":{"line":1,"column":2074}}],"line":1},"4":{"loc":{"start":{"line":1,"column":1851},"end":{"line":1,"column":2074}},"type":"cond-expr","locations":[{"start":{"line":1,"column":1884},"end":{"line":1,"column":1956}},{"start":{"line":1,"column":1957},"end":{"line":1,"column":2074}}],"line":1},"5":{"loc":{"start":{"line":5,"column":242},"end":{"line":5,"column":479}},"type":"binary-expr","locations":[{"start":{"line":5,"column":242},"end":{"line":5,"column":265}},{"start":{"line":5,"column":268},"end":{"line":5,"column":478}}],"line":5},"6":{"loc":{"start":{"line":5,"column":268},"end":{"line":5,"column":449}},"type":"cond-expr","locations":[{"start":{"line":5,"column":311},"end":{"line":5,"column":336}},{"start":{"line":5,"column":337},"end":{"line":5,"column":449}}],"line":5},"7":{"loc":{"start":{"line":5,"column":268},"end":{"line":5,"column":310}},"type":"binary-expr","locations":[{"start":{"line":5,"column":268},"end":{"line":5,"column":290}},{"start":{"line":5,"column":292},"end":{"line":5,"column":310}}],"line":5},"8":{"loc":{"start":{"line":9,"column":7},"end":{"line":9,"column":78}},"type":"cond-expr","locations":[{"start":{"line":9,"column":22},"end":{"line":9,"column":32}},{"start":{"line":9,"column":33},"end":{"line":9,"column":78}}],"line":9},"9":{"loc":{"start":{"line":9,"column":7},"end":{"line":9,"column":21}},"type":"binary-expr","locations":[{"start":{"line":9,"column":7},"end":{"line":9,"column":11}},{"start":{"line":9,"column":13},"end":{"line":9,"column":21}}],"line":9},"10":{"loc":{"start":{"line":9,"column":33},"end":{"line":9,"column":78}},"type":"cond-expr","locations":[{"start":{"line":9,"column":62},"end":{"line":9,"column":73}},{"start":{"line":9,"column":74},"end":{"line":9,"column":78}}],"line":9},"11":{"loc":{"start":{"line":9,"column":33},"end":{"line":9,"column":61}},"type":"binary-expr","locations":[{"start":{"line":9,"column":33},"end":{"line":9,"column":37}},{"start":{"line":9,"column":39},"end":{"line":9,"column":48}},{"start":{"line":9,"column":50},"end":{"line":9,"column":61}}],"line":9},"12":{"loc":{"start":{"line":18,"column":400},"end":{"line":22,"column":522}},"type":"cond-expr","locations":[{"start":{"line":19,"column":86},"end":{"line":22,"column":287}},{"start":{"line":22,"column":289},"end":{"line":22,"column":521}}],"line":18},"13":{"loc":{"start":{"line":18,"column":400},"end":{"line":19,"column":85}},"type":"binary-expr","locations":[{"start":{"line":18,"column":400},"end":{"line":18,"column":423}},{"start":{"line":18,"column":425},"end":{"line":18,"column":448}},{"start":{"line":19,"column":0},"end":{"line":19,"column":38}},{"start":{"line":19,"column":40},"end":{"line":19,"column":84}}],"line":18},"14":{"loc":{"start":{"line":19,"column":202},"end":{"line":20,"column":279}},"type":"if","locations":[{"start":{"line":19,"column":202},"end":{"line":20,"column":279}},{"start":{"line":19,"column":202},"end":{"line":20,"column":279}}],"line":19},"15":{"loc":{"start":{"line":19,"column":449},"end":{"line":19,"column":502}},"type":"cond-expr","locations":[{"start":{"line":19,"column":455},"end":{"line":19,"column":494}},{"start":{"line":19,"column":495},"end":{"line":19,"column":502}}],"line":19},"16":{"loc":{"start":{"line":20,"column":189},"end":{"line":20,"column":244}},"type":"cond-expr","locations":[{"start":{"line":20,"column":195},"end":{"line":20,"column":235}},{"start":{"line":20,"column":236},"end":{"line":20,"column":244}}],"line":20},"17":{"loc":{"start":{"line":22,"column":0},"end":{"line":22,"column":92}},"type":"binary-expr","locations":[{"start":{"line":22,"column":0},"end":{"line":22,"column":9}},{"start":{"line":22,"column":11},"end":{"line":22,"column":92}}],"line":22},"18":{"loc":{"start":{"line":22,"column":289},"end":{"line":22,"column":407}},"type":"binary-expr","locations":[{"start":{"line":22,"column":289},"end":{"line":22,"column":311}},{"start":{"line":22,"column":313},"end":{"line":22,"column":336}},{"start":{"line":22,"column":338},"end":{"line":22,"column":407}}],"line":22},"19":{"loc":{"start":{"line":22,"column":466},"end":{"line":22,"column":519}},"type":"cond-expr","locations":[{"start":{"line":22,"column":472},"end":{"line":22,"column":511}},{"start":{"line":22,"column":512},"end":{"line":22,"column":519}}],"line":22},"20":{"loc":{"start":{"line":29,"column":231},"end":{"line":30,"column":62}},"type":"if","locations":[{"start":{"line":29,"column":231},"end":{"line":30,"column":62}},{"start":{"line":29,"column":231},"end":{"line":30,"column":62}}],"line":29},"21":{"loc":{"start":{"line":29,"column":234},"end":{"line":29,"column":319}},"type":"binary-expr","locations":[{"start":{"line":29,"column":234},"end":{"line":29,"column":243}},{"start":{"line":29,"column":245},"end":{"line":29,"column":319}}],"line":29},"22":{"loc":{"start":{"line":29,"column":298},"end":{"line":29,"column":313}},"type":"binary-expr","locations":[{"start":{"line":29,"column":298},"end":{"line":29,"column":309}},{"start":{"line":29,"column":311},"end":{"line":29,"column":313}}],"line":29},"23":{"loc":{"start":{"line":30,"column":0},"end":{"line":30,"column":61}},"type":"if","locations":[{"start":{"line":30,"column":0},"end":{"line":30,"column":61}},{"start":{"line":30,"column":0},"end":{"line":30,"column":61}}],"line":30},"24":{"loc":{"start":{"line":36,"column":305},"end":{"line":38,"column":479}},"type":"if","locations":[{"start":{"line":36,"column":305},"end":{"line":38,"column":479}},{"start":{"line":36,"column":305},"end":{"line":38,"column":479}}],"line":36},"25":{"loc":{"start":{"line":36,"column":349},"end":{"line":38,"column":479}},"type":"if","locations":[{"start":{"line":36,"column":349},"end":{"line":38,"column":479}},{"start":{"line":36,"column":349},"end":{"line":38,"column":479}}],"line":36},"26":{"loc":{"start":{"line":36,"column":352},"end":{"line":36,"column":394}},"type":"binary-expr","locations":[{"start":{"line":36,"column":352},"end":{"line":36,"column":374}},{"start":{"line":36,"column":376},"end":{"line":36,"column":394}}],"line":36},"27":{"loc":{"start":{"line":37,"column":94},"end":{"line":37,"column":320}},"type":"cond-expr","locations":[{"start":{"line":37,"column":107},"end":{"line":37,"column":253}},{"start":{"line":37,"column":254},"end":{"line":37,"column":320}}],"line":37},"28":{"loc":{"start":{"line":37,"column":378},"end":{"line":38,"column":479}},"type":"if","locations":[{"start":{"line":37,"column":378},"end":{"line":38,"column":479}},{"start":{"line":37,"column":378},"end":{"line":38,"column":479}}],"line":37},"29":{"loc":{"start":{"line":38,"column":105},"end":{"line":38,"column":331}},"type":"cond-expr","locations":[{"start":{"line":38,"column":118},"end":{"line":38,"column":264}},{"start":{"line":38,"column":265},"end":{"line":38,"column":331}}],"line":38},"30":{"loc":{"start":{"line":48,"column":141},"end":{"line":48,"column":238}},"type":"if","locations":[{"start":{"line":48,"column":141},"end":{"line":48,"column":238}},{"start":{"line":48,"column":141},"end":{"line":48,"column":238}}],"line":48},"31":{"loc":{"start":{"line":48,"column":144},"end":{"line":48,"column":204}},"type":"binary-expr","locations":[{"start":{"line":48,"column":144},"end":{"line":48,"column":163}},{"start":{"line":48,"column":165},"end":{"line":48,"column":183}},{"start":{"line":48,"column":185},"end":{"line":48,"column":204}}],"line":48},"32":{"loc":{"start":{"line":49,"column":0},"end":{"line":50,"column":210}},"type":"if","locations":[{"start":{"line":49,"column":0},"end":{"line":50,"column":210}},{"start":{"line":49,"column":0},"end":{"line":50,"column":210}}],"line":49},"33":{"loc":{"start":{"line":50,"column":172},"end":{"line":50,"column":188}},"type":"binary-expr","locations":[{"start":{"line":50,"column":172},"end":{"line":50,"column":183}},{"start":{"line":50,"column":185},"end":{"line":50,"column":188}}],"line":50},"34":{"loc":{"start":{"line":51,"column":7},"end":{"line":60,"column":211}},"type":"cond-expr","locations":[{"start":{"line":51,"column":37},"end":{"line":58,"column":413}},{"start":{"line":58,"column":414},"end":{"line":60,"column":211}}],"line":51},"35":{"loc":{"start":{"line":51,"column":93},"end":{"line":51,"column":124}},"type":"binary-expr","locations":[{"start":{"line":51,"column":93},"end":{"line":51,"column":105}},{"start":{"line":51,"column":107},"end":{"line":51,"column":124}}],"line":51},"36":{"loc":{"start":{"line":52,"column":0},"end":{"line":52,"column":78}},"type":"if","locations":[{"start":{"line":52,"column":0},"end":{"line":52,"column":78}},{"start":{"line":52,"column":0},"end":{"line":52,"column":78}}],"line":52},"37":{"loc":{"start":{"line":52,"column":3},"end":{"line":52,"column":51}},"type":"binary-expr","locations":[{"start":{"line":52,"column":3},"end":{"line":52,"column":31}},{"start":{"line":52,"column":33},"end":{"line":52,"column":51}}],"line":52},"38":{"loc":{"start":{"line":53,"column":0},"end":{"line":56,"column":3}},"type":"if","locations":[{"start":{"line":53,"column":0},"end":{"line":56,"column":3}},{"start":{"line":53,"column":0},"end":{"line":56,"column":3}}],"line":53},"39":{"loc":{"start":{"line":54,"column":19},"end":{"line":54,"column":132}},"type":"cond-expr","locations":[{"start":{"line":54,"column":32},"end":{"line":54,"column":74}},{"start":{"line":54,"column":75},"end":{"line":54,"column":132}}],"line":54},"40":{"loc":{"start":{"line":54,"column":32},"end":{"line":54,"column":74}},"type":"cond-expr","locations":[{"start":{"line":54,"column":48},"end":{"line":54,"column":65}},{"start":{"line":54,"column":66},"end":{"line":54,"column":74}}],"line":54},"41":{"loc":{"start":{"line":54,"column":75},"end":{"line":54,"column":132}},"type":"cond-expr","locations":[{"start":{"line":54,"column":96},"end":{"line":54,"column":118}},{"start":{"line":54,"column":119},"end":{"line":54,"column":132}}],"line":54},"42":{"loc":{"start":{"line":58,"column":7},"end":{"line":58,"column":210}},"type":"binary-expr","locations":[{"start":{"line":58,"column":7},"end":{"line":58,"column":45}},{"start":{"line":58,"column":48},"end":{"line":58,"column":209}}],"line":58},"43":{"loc":{"start":{"line":58,"column":487},"end":{"line":58,"column":531}},"type":"cond-expr","locations":[{"start":{"line":58,"column":501},"end":{"line":58,"column":518}},{"start":{"line":58,"column":519},"end":{"line":58,"column":531}}],"line":58},"44":{"loc":{"start":{"line":59,"column":0},"end":{"line":59,"column":136}},"type":"cond-expr","locations":[{"start":{"line":59,"column":54},"end":{"line":59,"column":118}},{"start":{"line":59,"column":119},"end":{"line":59,"column":136}}],"line":59},"45":{"loc":{"start":{"line":59,"column":0},"end":{"line":59,"column":53}},"type":"binary-expr","locations":[{"start":{"line":59,"column":0},"end":{"line":59,"column":27}},{"start":{"line":59,"column":29},"end":{"line":59,"column":53}}],"line":59},"46":{"loc":{"start":{"line":60,"column":102},"end":{"line":60,"column":189}},"type":"binary-expr","locations":[{"start":{"line":60,"column":102},"end":{"line":60,"column":147}},{"start":{"line":60,"column":149},"end":{"line":60,"column":189}}],"line":60},"47":{"loc":{"start":{"line":67,"column":139},"end":{"line":67,"column":682}},"type":"cond-expr","locations":[{"start":{"line":67,"column":149},"end":{"line":67,"column":468}},{"start":{"line":67,"column":471},"end":{"line":67,"column":681}}],"line":67},"48":{"loc":{"start":{"line":67,"column":181},"end":{"line":67,"column":240}},"type":"binary-expr","locations":[{"start":{"line":67,"column":181},"end":{"line":67,"column":196}},{"start":{"line":67,"column":198},"end":{"line":67,"column":240}}],"line":67},"49":{"loc":{"start":{"line":67,"column":369},"end":{"line":67,"column":468}},"type":"binary-expr","locations":[{"start":{"line":67,"column":369},"end":{"line":67,"column":413}},{"start":{"line":67,"column":415},"end":{"line":67,"column":468}}],"line":67},"50":{"loc":{"start":{"line":67,"column":471},"end":{"line":67,"column":581}},"type":"binary-expr","locations":[{"start":{"line":67,"column":471},"end":{"line":67,"column":515}},{"start":{"line":67,"column":517},"end":{"line":67,"column":581}}],"line":67},"51":{"loc":{"start":{"line":67,"column":742},"end":{"line":67,"column":1270}},"type":"if","locations":[{"start":{"line":67,"column":742},"end":{"line":67,"column":1270}},{"start":{"line":67,"column":742},"end":{"line":67,"column":1270}}],"line":67},"52":{"loc":{"start":{"line":67,"column":745},"end":{"line":67,"column":862}},"type":"binary-expr","locations":[{"start":{"line":67,"column":745},"end":{"line":67,"column":798}},{"start":{"line":67,"column":800},"end":{"line":67,"column":862}}],"line":67},"53":{"loc":{"start":{"line":67,"column":863},"end":{"line":67,"column":886}},"type":"binary-expr","locations":[{"start":{"line":67,"column":863},"end":{"line":67,"column":871}},{"start":{"line":67,"column":873},"end":{"line":67,"column":886}}],"line":67},"54":{"loc":{"start":{"line":67,"column":1152},"end":{"line":67,"column":1196}},"type":"binary-expr","locations":[{"start":{"line":67,"column":1152},"end":{"line":67,"column":1184}},{"start":{"line":67,"column":1186},"end":{"line":67,"column":1196}}],"line":67},"55":{"loc":{"start":{"line":81,"column":0},"end":{"line":83,"column":698}},"type":"binary-expr","locations":[{"start":{"line":81,"column":0},"end":{"line":81,"column":13}},{"start":{"line":83,"column":0},"end":{"line":83,"column":697}}],"line":81},"56":{"loc":{"start":{"line":83,"column":181},"end":{"line":83,"column":600}},"type":"binary-expr","locations":[{"start":{"line":83,"column":181},"end":{"line":83,"column":221}},{"start":{"line":83,"column":223},"end":{"line":83,"column":275}},{"start":{"line":83,"column":277},"end":{"line":83,"column":303}},{"start":{"line":83,"column":305},"end":{"line":83,"column":320}},{"start":{"line":83,"column":322},"end":{"line":83,"column":346}},{"start":{"line":83,"column":348},"end":{"line":83,"column":393}},{"start":{"line":83,"column":395},"end":{"line":83,"column":600}}],"line":83},"57":{"loc":{"start":{"line":97,"column":90},"end":{"line":97,"column":159}},"type":"binary-expr","locations":[{"start":{"line":97,"column":90},"end":{"line":97,"column":124}},{"start":{"line":97,"column":126},"end":{"line":97,"column":159}}],"line":97},"58":{"loc":{"start":{"line":98,"column":0},"end":{"line":98,"column":42}},"type":"if","locations":[{"start":{"line":98,"column":0},"end":{"line":98,"column":42}},{"start":{"line":98,"column":0},"end":{"line":98,"column":42}}],"line":98},"59":{"loc":{"start":{"line":99,"column":0},"end":{"line":99,"column":117}},"type":"if","locations":[{"start":{"line":99,"column":0},"end":{"line":99,"column":117}},{"start":{"line":99,"column":0},"end":{"line":99,"column":117}}],"line":99},"60":{"loc":{"start":{"line":101,"column":0},"end":{"line":101,"column":213}},"type":"if","locations":[{"start":{"line":101,"column":0},"end":{"line":101,"column":213}},{"start":{"line":101,"column":0},"end":{"line":101,"column":213}}],"line":101},"61":{"loc":{"start":{"line":101,"column":92},"end":{"line":101,"column":212}},"type":"cond-expr","locations":[{"start":{"line":101,"column":131},"end":{"line":101,"column":196}},{"start":{"line":101,"column":197},"end":{"line":101,"column":212}}],"line":101},"62":{"loc":{"start":{"line":101,"column":213},"end":{"line":103,"column":335}},"type":"if","locations":[{"start":{"line":101,"column":213},"end":{"line":103,"column":335}},{"start":{"line":101,"column":213},"end":{"line":103,"column":335}}],"line":101},"63":{"loc":{"start":{"line":104,"column":9},"end":{"line":104,"column":32}},"type":"binary-expr","locations":[{"start":{"line":104,"column":9},"end":{"line":104,"column":22}},{"start":{"line":104,"column":24},"end":{"line":104,"column":32}}],"line":104},"64":{"loc":{"start":{"line":104,"column":81},"end":{"line":104,"column":248}},"type":"binary-expr","locations":[{"start":{"line":104,"column":81},"end":{"line":104,"column":100}},{"start":{"line":104,"column":102},"end":{"line":104,"column":248}}],"line":104},"65":{"loc":{"start":{"line":104,"column":132},"end":{"line":104,"column":176}},"type":"binary-expr","locations":[{"start":{"line":104,"column":132},"end":{"line":104,"column":164}},{"start":{"line":104,"column":166},"end":{"line":104,"column":176}}],"line":104},"66":{"loc":{"start":{"line":110,"column":195},"end":{"line":110,"column":283}},"type":"binary-expr","locations":[{"start":{"line":110,"column":195},"end":{"line":110,"column":229}},{"start":{"line":110,"column":232},"end":{"line":110,"column":282}}],"line":110},"67":{"loc":{"start":{"line":120,"column":128},"end":{"line":120,"column":318}},"type":"if","locations":[{"start":{"line":120,"column":128},"end":{"line":120,"column":318}},{"start":{"line":120,"column":128},"end":{"line":120,"column":318}}],"line":120},"68":{"loc":{"start":{"line":120,"column":165},"end":{"line":120,"column":182}},"type":"binary-expr","locations":[{"start":{"line":120,"column":165},"end":{"line":120,"column":171}},{"start":{"line":120,"column":173},"end":{"line":120,"column":182}}],"line":120},"69":{"loc":{"start":{"line":121,"column":45},"end":{"line":121,"column":67}},"type":"binary-expr","locations":[{"start":{"line":121,"column":45},"end":{"line":121,"column":52}},{"start":{"line":121,"column":54},"end":{"line":121,"column":67}}],"line":121},"70":{"loc":{"start":{"line":128,"column":192},"end":{"line":128,"column":403}},"type":"if","locations":[{"start":{"line":128,"column":192},"end":{"line":128,"column":403}},{"start":{"line":128,"column":192},"end":{"line":128,"column":403}}],"line":128},"71":{"loc":{"start":{"line":128,"column":200},"end":{"line":128,"column":376}},"type":"switch","locations":[{"start":{"line":128,"column":217},"end":{"line":128,"column":334}},{"start":{"line":128,"column":334},"end":{"line":128,"column":375}}],"line":128},"72":{"loc":{"start":{"line":136,"column":219},"end":{"line":136,"column":828}},"type":"if","locations":[{"start":{"line":136,"column":219},"end":{"line":136,"column":828}},{"start":{"line":136,"column":219},"end":{"line":136,"column":828}}],"line":136},"73":{"loc":{"start":{"line":136,"column":227},"end":{"line":136,"column":801}},"type":"switch","locations":[{"start":{"line":136,"column":244},"end":{"line":136,"column":352}},{"start":{"line":136,"column":352},"end":{"line":136,"column":459}},{"start":{"line":136,"column":459},"end":{"line":136,"column":554}},{"start":{"line":136,"column":554},"end":{"line":136,"column":651}},{"start":{"line":136,"column":651},"end":{"line":136,"column":759}},{"start":{"line":136,"column":759},"end":{"line":136,"column":800}}],"line":136},"74":{"loc":{"start":{"line":143,"column":228},"end":{"line":143,"column":265}},"type":"binary-expr","locations":[{"start":{"line":143,"column":228},"end":{"line":143,"column":231}},{"start":{"line":143,"column":233},"end":{"line":143,"column":265}}],"line":143},"75":{"loc":{"start":{"line":152,"column":18},"end":{"line":152,"column":104}},"type":"cond-expr","locations":[{"start":{"line":152,"column":48},"end":{"line":152,"column":78}},{"start":{"line":152,"column":79},"end":{"line":152,"column":104}}],"line":152},"76":{"loc":{"start":{"line":152,"column":254},"end":{"line":152,"column":306}},"type":"cond-expr","locations":[{"start":{"line":152,"column":284},"end":{"line":152,"column":295}},{"start":{"line":152,"column":296},"end":{"line":152,"column":306}}],"line":152},"77":{"loc":{"start":{"line":161,"column":109},"end":{"line":161,"column":382}},"type":"if","locations":[{"start":{"line":161,"column":109},"end":{"line":161,"column":382}},{"start":{"line":161,"column":109},"end":{"line":161,"column":382}}],"line":161},"78":{"loc":{"start":{"line":161,"column":566},"end":{"line":161,"column":633}},"type":"cond-expr","locations":[{"start":{"line":161,"column":582},"end":{"line":161,"column":625}},{"start":{"line":161,"column":626},"end":{"line":161,"column":633}}],"line":161},"79":{"loc":{"start":{"line":171,"column":102},"end":{"line":171,"column":374}},"type":"if","locations":[{"start":{"line":171,"column":102},"end":{"line":171,"column":374}},{"start":{"line":171,"column":102},"end":{"line":171,"column":374}}],"line":171},"80":{"loc":{"start":{"line":171,"column":539},"end":{"line":171,"column":612}},"type":"cond-expr","locations":[{"start":{"line":171,"column":555},"end":{"line":171,"column":604}},{"start":{"line":171,"column":605},"end":{"line":171,"column":612}}],"line":171},"81":{"loc":{"start":{"line":178,"column":0},"end":{"line":178,"column":252}},"type":"if","locations":[{"start":{"line":178,"column":0},"end":{"line":178,"column":252}},{"start":{"line":178,"column":0},"end":{"line":178,"column":252}}],"line":178},"82":{"loc":{"start":{"line":186,"column":0},"end":{"line":186,"column":257}},"type":"if","locations":[{"start":{"line":186,"column":0},"end":{"line":186,"column":257}},{"start":{"line":186,"column":0},"end":{"line":186,"column":257}}],"line":186},"83":{"loc":{"start":{"line":194,"column":0},"end":{"line":194,"column":257}},"type":"if","locations":[{"start":{"line":194,"column":0},"end":{"line":194,"column":257}},{"start":{"line":194,"column":0},"end":{"line":194,"column":257}}],"line":194},"84":{"loc":{"start":{"line":226,"column":97},"end":{"line":226,"column":154}},"type":"cond-expr","locations":[{"start":{"line":226,"column":139},"end":{"line":226,"column":151}},{"start":{"line":226,"column":152},"end":{"line":226,"column":154}}],"line":226},"85":{"loc":{"start":{"line":226,"column":97},"end":{"line":226,"column":138}},"type":"binary-expr","locations":[{"start":{"line":226,"column":97},"end":{"line":226,"column":115}},{"start":{"line":226,"column":117},"end":{"line":226,"column":138}}],"line":226}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":6,"13":6,"14":6,"15":6,"16":0,"17":6,"18":6,"19":6,"20":8,"21":1,"22":0,"23":6,"24":41,"25":12,"26":12,"27":12,"28":12,"29":12,"30":12,"31":10,"32":10,"33":10,"34":10,"35":10,"36":10,"37":10,"38":10,"39":3,"40":0,"41":2,"42":1,"43":1,"44":1,"45":0,"46":5,"47":5,"48":5,"49":5,"50":0,"51":0,"52":0,"53":0,"54":0,"55":1,"56":5,"57":5,"58":5,"59":5,"60":5,"61":5,"62":5,"63":5,"64":0,"65":0,"66":0,"67":5,"68":5,"69":3,"70":0,"71":0,"72":1,"73":1,"74":8,"75":8,"76":2,"77":6,"78":3,"79":3,"80":1,"81":5,"82":0,"83":0,"84":0,"85":0,"86":0,"87":0,"88":0,"89":0,"90":0,"91":0,"92":5,"93":1,"94":0,"95":1,"96":1,"97":57,"98":57,"99":1,"100":1,"101":0,"102":0,"103":1,"104":1,"105":58,"106":57,"107":0,"108":0,"109":1,"110":1,"111":8,"112":8,"113":8,"114":8,"115":8,"116":3,"117":0,"118":3,"119":1,"120":2,"121":0,"122":2,"123":2,"124":1,"125":1,"126":1,"127":1,"128":0,"129":0,"130":0,"131":0,"132":4,"133":1,"134":1,"135":5,"136":5,"137":5,"138":1,"139":1,"140":8,"141":8,"142":8,"143":2,"144":2,"145":6,"146":3,"147":3,"148":1,"149":1,"150":4,"151":2,"152":2,"153":1,"154":1,"155":1,"156":2,"157":1,"158":1,"159":8,"160":6,"161":6,"162":1,"163":1,"164":1,"165":1,"166":1,"167":1,"168":1,"169":1,"170":1,"171":1,"172":1,"173":6,"174":1,"175":1,"176":3,"177":1,"178":1,"179":1,"180":11,"181":11,"182":11,"183":11,"184":8,"185":1,"186":1,"187":1,"188":6,"189":3,"190":3,"191":3,"192":2,"193":2,"194":1,"195":1,"196":6,"197":3,"198":3,"199":3,"200":2,"201":2,"202":1,"203":1,"204":4,"205":2,"206":2,"207":2,"208":1,"209":1,"210":1,"211":1,"212":1,"213":5,"214":2,"215":2,"216":3,"217":2,"218":1,"219":1,"220":9,"221":0,"222":0,"223":9,"224":6,"225":3,"226":3,"227":3,"228":3,"229":4,"230":4},"f":{"0":6,"1":0,"2":6,"3":1,"4":0,"5":41,"6":12,"7":10,"8":10,"9":3,"10":0,"11":0,"12":5,"13":0,"14":5,"15":0,"16":0,"17":3,"18":0,"19":8,"20":0,"21":0,"22":0,"23":0,"24":5,"25":1,"26":0,"27":57,"28":1,"29":58,"30":57,"31":0,"32":0,"33":8,"34":3,"35":1,"36":1,"37":0,"38":0,"39":4,"40":5,"41":5,"42":8,"43":3,"44":3,"45":4,"46":2,"47":8,"48":6,"49":3,"50":1,"51":11,"52":8,"53":1,"54":6,"55":2,"56":2,"57":6,"58":2,"59":2,"60":4,"61":1,"62":1,"63":5,"64":2,"65":1,"66":9,"67":6,"68":3,"69":3,"70":3,"71":3,"72":4},"b":{"0":[6,0],"1":[6,6],"2":[0,8],"3":[6,2],"4":[2,0],"5":[12,6],"6":[1,5],"7":[6,1],"8":[7,3],"9":[10,9],"10":[1,2],"11":[3,2,1],"12":[3,7],"13":[10,5,4,3],"14":[2,1],"15":[0,2],"16":[0,1],"17":[0,0],"18":[7,1,1],"19":[0,7],"20":[0,0],"21":[0,0],"22":[0,0],"23":[0,0],"24":[5,0],"25":[0,5],"26":[5,0],"27":[0,0],"28":[5,0],"29":[0,3],"30":[2,6],"31":[8,7,1],"32":[3,3],"33":[1,0],"34":[0,5],"35":[0,0],"36":[0,0],"37":[0,0],"38":[0,0],"39":[0,0],"40":[0,0],"41":[0,0],"42":[0,0],"43":[0,5],"44":[1,4],"45":[5,5],"46":[0,0],"47":[1,56],"48":[1,0],"49":[1,0],"50":[56,0],"51":[0,1],"52":[1,0],"53":[1,1],"54":[0,0],"55":[58,57],"56":[57,0,0,0,0,0,0],"57":[8,0],"58":[0,3],"59":[1,2],"60":[0,2],"61":[0,0],"62":[2,0],"63":[0,0],"64":[0,0],"65":[0,0],"66":[5,1],"67":[2,6],"68":[8,7],"69":[3,2],"70":[2,0],"71":[1,1],"72":[6,0],"73":[1,1,1,1,1,1],"74":[1,1],"75":[2,9],"76":[2,6],"77":[3,3],"78":[1,1],"79":[3,3],"80":[1,1],"81":[2,2],"82":[2,3],"83":[0,9],"84":[0,4],"85":[4,0]},"inputSourceMap":{"version":3,"sources":["auth.js"],"names":["dispatchLoginError","dispatch","authError","type","actionTypes","LOGIN_ERROR","unWatchUserProfile","firebase","_","authUid","config","userProfile","useFirestoreForProfile","profileWatch","firestore","database","ref","child","off","getProfileFromSnap","snap","val","data","exists","handleProfileWatchResponse","userProfileSnap","token","profileParamsToPopulate","autoPopulateProfile","logErrors","profile","Array","isArray","key","then","result","path","SET","timestamp","Date","now","requesting","requested","SET_PROFILE","populates","catch","err","console","error","UNAUTHORIZED_ERROR","message","warn","createProfileWatchErrorHandler","onProfileListenerError","factoryResult","Promise","reject","watchUserProfile","enableClaims","collection","doc","onSnapshot","auth","currentUser","getIdTokenResult","on","Error","createUserProfile","userData","resolve","profileFactory","uid","user","get","profileSnap","updateProfileOnLogin","newProfile","userDataObject","toJSON","keysToRemoveFromAuth","avatarUrl","photoURL","providerData","map","providerDataItem","keysToPreserveFromProviderData","set","merge","once","update","onProfileWriteError","handleAuthStateChange","authData","presence","LOGIN","preserve","preserveOnLogin","onAuthStateChanged","AUTH_EMPTY_CHANGE","preserveOnEmptyAuthChange","handleRedirectResult","onRedirectResult","email","displayName","init","AUTHENTICATION_INIT_STARTED","enableRedirectHandling","getRedirectResult","window","location","protocol","indexOf","AUTHENTICATION_INIT_FINISHED","login","credentials","resetBeforeLogin","method","params","includes","confirm","code","additionalUserInfo","phoneNumber","logout","signOut","action","LOGOUT","preserveOnLogout","createUser","password","createUserWithEmailAndPassword","resetPassword","sendPasswordResetEmail","confirmPasswordReset","verifyPasswordResetCode","updateProfile","profileUpdate","options","PROFILE_UPDATE_START","payload","updatePromise","updateProfileOnFirestore","updateProfileOnRTDB","PROFILE_UPDATE_SUCCESS","PROFILE_UPDATE_ERROR","updateAuth","authUpdate","updateInProfile","AUTH_UPDATE_START","AUTH_UPDATE_ERROR","AUTH_UPDATE_SUCCESS","updateEmail","newEmail","EMAIL_UPDATE_START","EMAIL_UPDATE_ERROR","EMAIL_UPDATE_SUCCESS","reloadAuth","AUTH_RELOAD_START","AUTH_RELOAD_ERROR","reload","AUTH_RELOAD_SUCCESS","linkWithCredential","credential","AUTH_LINK_START","AUTH_LINK_ERROR","AUTH_LINK_SUCCESS","linkWithAuthDispatch","promiseFunc","args","linkAndRetrieveDataWithCredential","linkWithPopup","linkWithRedirect","provider","signInWithPhoneNumber","applicationVerifier"],"mappings":"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","sourceRoot":"/Users/scott/Dev/Code/react-redux-firebase/src/actions","sourcesContent":["import { forEach, omit, pick } from 'lodash'\nimport { actionTypes } from '../constants'\nimport { populate } from '../helpers'\nimport { isString } from '../utils'\nimport {\n  getLoginMethodAndParams,\n  updateProfileOnRTDB,\n  updateProfileOnFirestore,\n  setupPresence\n} from '../utils/auth'\nimport { promisesForPopulate, getPopulateObjs } from '../utils/populate'\n\n/**\n * Dispatch login error action\n * @param {Function} dispatch - Action dispatch function\n * @param {object} authError - Error object\n * @returns {any} Return of action dispatch\n * @private\n */\nfunction dispatchLoginError(dispatch, authError) {\n  return dispatch({\n    type: actionTypes.LOGIN_ERROR,\n    authError\n  })\n}\n\n/**\n * Remove listener from user profile\n * @param {object} firebase - Internal firebase object\n * @private\n */\nexport function unWatchUserProfile(firebase) {\n  const {\n    authUid,\n    config: { userProfile, useFirestoreForProfile }\n  } = firebase._\n  if (firebase._.profileWatch) {\n    if (useFirestoreForProfile && firebase.firestore) {\n      // Call profile onSnapshot unsubscribe stored on profileWatch\n      firebase._.profileWatch()\n    } else {\n      firebase\n        .database()\n        .ref()\n        .child(`${userProfile}/${authUid}`)\n        .off('value', firebase._.profileWatch)\n    }\n    firebase._.profileWatch = null\n  }\n}\n\n/**\n * @param {firebase.database.Snapshot|firebase.firestore.DocumentSnapshot} snap - Profile snapshot\n * @returns {object|null} Profile from snapshot\n */\nfunction getProfileFromSnap(snap) {\n  // Real Time Database\n  if (snap && snap.val) {\n    return snap.val()\n  }\n  // Firestore\n  if (snap && snap.data && snap.exists) {\n    return snap.data()\n  }\n  return null\n}\n\n/**\n * Handle response from profile listener. Works with both Real Time Database\n * and Cloud Firestore.\n * @param {Function} dispatch - Action dispatch function\n * @param {object} firebase - Internal firebase object\n * @param {firebase.database.Snapshot|firebase.firestore.DocumentSnapshot} userProfileSnap Snapshot from profile watcher\n * @param {string} token - Token to pass along in action dispatch\n * @private\n */\nexport function handleProfileWatchResponse(\n  dispatch,\n  firebase,\n  userProfileSnap,\n  token\n) {\n  const {\n    profileParamsToPopulate,\n    autoPopulateProfile,\n    useFirestoreForProfile,\n    logErrors\n  } = firebase._.config\n  const profile = getProfileFromSnap(userProfileSnap)\n  if (\n    !profileParamsToPopulate ||\n    useFirestoreForProfile || // populating profile through firestore not yet supported\n    (!Array.isArray(profileParamsToPopulate) &&\n      !isString(profileParamsToPopulate))\n  ) {\n    if (useFirestoreForProfile && profileParamsToPopulate) {\n      console.warn('Profile population is not yet supported for Firestore') // eslint-disable-line no-console\n    }\n    dispatch({\n      type: actionTypes.SET_PROFILE,\n      profile: token ? { ...profile, token } : profile\n    })\n  } else {\n    // Convert array of populate config into an array of once query promises\n    promisesForPopulate(\n      firebase,\n      userProfileSnap.key,\n      profile,\n      profileParamsToPopulate\n    )\n      .then(data => {\n        // Fire actions for placement of data gathered in populate into redux\n        forEach(data, (result, path) => {\n          dispatch({\n            type: actionTypes.SET,\n            path,\n            data: result,\n            timestamp: Date.now(),\n            requesting: false,\n            requested: true\n          })\n        })\n        if (!autoPopulateProfile) {\n          // Dispatch action with profile combined with populated parameters\n          dispatch({\n            type: actionTypes.SET_PROFILE,\n            profile: token ? { ...profile, token } : profile\n          })\n        } else {\n          // Auto Populate profile\n          const populates = getPopulateObjs(profileParamsToPopulate)\n          const profile = userProfileSnap.val()\n          dispatch({\n            type: actionTypes.SET_PROFILE,\n            profile: populate(\n              { profile: token ? { ...profile, token } : profile, data },\n              'profile',\n              populates\n            )\n          })\n        }\n      })\n      .catch(err => {\n        if (logErrors) {\n          // eslint-disable-next-line no-console\n          console.error(\n            `RRF: Error retrieving data for profile population. Firebase:`,\n            err\n          )\n        }\n        // Error retrieving data for population onto profile.\n        dispatch({\n          type: actionTypes.UNAUTHORIZED_ERROR,\n          authError: `Error during profile population: ${err.message}`\n        })\n        // Update profile with un-populated version\n        dispatch({ type: actionTypes.SET_PROFILE, profile })\n      })\n  }\n}\n\n/**\n * Creates a function for handling errors from profile watcher. Used for\n * both RTDB and Firestore.\n * @param {Function} dispatch - Action dispatch function\n * @param {object} firebase - Internal firebase object\n * @returns {Function} Profile watch error handler function\n * @private\n */\nfunction createProfileWatchErrorHandler(dispatch, firebase) {\n  const { config: { onProfileListenerError, logErrors } } = firebase._\n  return function handleProfileError(err) {\n    if (logErrors) {\n      // eslint-disable-next-line no-console\n      console.error(`Error with profile listener: ${err.message || ''}`, err)\n    }\n    if (typeof onProfileListenerError === 'function') {\n      const factoryResult = onProfileListenerError(err, firebase)\n      // Return factoryResult if it is a promise\n      if (typeof factoryResult.then === 'function') {\n        return factoryResult\n      }\n    }\n    return Promise.reject(err)\n  }\n}\n\n/**\n * Watch user profile. Internally dispatches sets firebase._.profileWatch\n * and calls SET_PROFILE actions. Supports both Realtime Database and Firestore\n * @param {Function} dispatch - Action dispatch function\n * @param {object} firebase - Internal firebase object\n * @private\n */\nexport const watchUserProfile = (dispatch, firebase) => {\n  const {\n    authUid,\n    config: { userProfile, useFirestoreForProfile, enableClaims }\n  } = firebase._\n  unWatchUserProfile(firebase)\n\n  if (userProfile) {\n    if (useFirestoreForProfile && firebase.firestore) {\n      firebase._.profileWatch = firebase // eslint-disable-line no-param-reassign\n        .firestore()\n        .collection(userProfile)\n        .doc(authUid)\n        .onSnapshot(userProfileSnap => {\n          return enableClaims\n            ? firebase\n                .auth()\n                .currentUser.getIdTokenResult(true)\n                .then(token =>\n                  handleProfileWatchResponse(\n                    dispatch,\n                    firebase,\n                    userProfileSnap,\n                    token\n                  )\n                )\n            : handleProfileWatchResponse(\n                dispatch,\n                firebase,\n                userProfileSnap,\n                null\n              )\n        }, createProfileWatchErrorHandler(dispatch, firebase))\n    } else if (firebase.database) {\n      firebase._.profileWatch = firebase // eslint-disable-line no-param-reassign\n        .database()\n        .ref()\n        .child(`${userProfile}/${authUid}`)\n        .on(\n          'value',\n          userProfileSnap => {\n            enableClaims\n              ? firebase\n                  .auth()\n                  .currentUser.getIdTokenResult(true)\n                  .then(token =>\n                    handleProfileWatchResponse(\n                      dispatch,\n                      firebase,\n                      userProfileSnap,\n                      token\n                    )\n                  )\n              : handleProfileWatchResponse(\n                  dispatch,\n                  firebase,\n                  userProfileSnap,\n                  null\n                )\n          },\n          createProfileWatchErrorHandler(dispatch, firebase)\n        )\n    } else {\n      throw new Error(\n        'Real Time Database or Firestore must be included to enable user profile'\n      )\n    }\n  }\n}\n\n/**\n * Create user profile if it does not already exist.\n * `updateProfileOnLogin: false` can be passed to config to disable updating.\n * Profile factory is applied if it exists and is a function.\n * @param {Function} dispatch - Action dispatch function\n * @param {object} firebase - Internal firebase object\n * @param {object} userData - User data object (response from authenticating)\n * @param {object} profile - Profile data to place in new profile\n * @returns {Promise} Resolves after creating user profile\n * @private\n */\nexport const createUserProfile = (dispatch, firebase, userData, profile) => {\n  const { _: { config } } = firebase\n  if (!config.userProfile || (!firebase.database && !firebase.firestore)) {\n    return Promise.resolve(userData)\n  }\n  // use profileFactory if it exists in config\n  if (typeof config.profileFactory === 'function') {\n    // catch errors in user provided profileFactory function\n    try {\n      profile = config.profileFactory(userData, profile, firebase) // eslint-disable-line no-param-reassign\n    } catch (err) {\n      /* eslint-disable no-console */\n      console.error(\n        'Error occurred within profileFactory function:',\n        err.message || err\n      )\n      /* eslint-enable no-console */\n      return Promise.reject(err)\n    }\n  }\n\n  // Check/Write profile using Firestore\n  if (config.useFirestoreForProfile) {\n    // Check for user's profile at userProfile path if provided\n    return firebase\n      .firestore()\n      .collection(config.userProfile)\n      .doc(userData.uid || userData.user.uid)\n      .get()\n      .then(profileSnap => {\n        // Return if config for updating profile is not enabled and profile exists\n        if (!config.updateProfileOnLogin && profileSnap.exists) {\n          return profileSnap.data()\n        }\n        let newProfile = profile\n\n        // If the user did supply a profileFactory, we should use the result of it for the new Profile\n        if (!newProfile) {\n          // Convert to JSON format (to prevent issue of writing invalid type to Firestore)\n          const userDataObject = userData.uid\n            ? userData.toJSON ? userData.toJSON() : userData\n            : userData.user.toJSON ? userData.user.toJSON() : userData.user\n          // Remove unnecessary auth params (configurable) and preserve types of timestamps\n          newProfile = {\n            ...omit(userDataObject, config.keysToRemoveFromAuth),\n            avatarUrl: userDataObject.photoURL // match profile pattern used for RTDB\n          }\n        }\n\n        // Convert custom object type within Provider data to a normal object\n        if (Array.isArray(newProfile.providerData)) {\n          newProfile.providerData = newProfile.providerData.map(\n            providerDataItem =>\n              pick(providerDataItem, config.keysToPreserveFromProviderData)\n          )\n        }\n\n        // Create/Update the profile\n        return profileSnap.ref\n          .set(newProfile, { merge: true })\n          .then(() => newProfile)\n      })\n      .catch(err => {\n        // Error reading user profile\n        dispatch({ type: actionTypes.UNAUTHORIZED_ERROR, authError: err })\n        return Promise.reject(err)\n      })\n  }\n\n  // Check/Write profile using Firebase RTDB\n  return firebase\n    .database()\n    .ref()\n    .child(\n      `${config.userProfile}/${\n        userData.user ? userData.user.uid : userData.uid\n      }`\n    )\n    .once('value')\n    .then(\n      profileSnap =>\n        // update profile only if doesn't exist or if set by config\n        !config.updateProfileOnLogin && profileSnap.val() !== null\n          ? profileSnap.val()\n          : profileSnap.ref.update(profile).then(() => profile) // Update the profile\n    )\n    .catch(err => {\n      // Error reading user profile\n      dispatch({ type: actionTypes.UNAUTHORIZED_ERROR, authError: err })\n      if (typeof config.onProfileWriteError === 'function') {\n        config.onProfileWriteError(err, firebase)\n      }\n      return Promise.reject(err)\n    })\n}\n\n/**\n * Auth state change handler. Handles response from firebase's onAuthStateChanged\n * @param {Function} dispatch - Action dispatch function\n * @param {object} firebase - Internal firebase object\n * @param  {object} authData - Auth data from firebase's onAuthStateChanged\n * @private\n */\nconst handleAuthStateChange = (dispatch, firebase, authData) => {\n  const { config } = firebase._\n  if (!authData) {\n    // Run onAuthStateChanged if it exists in config and enableEmptyAuthChanges is set to true\n    if (typeof config.onAuthStateChanged === 'function') {\n      firebase._.config.onAuthStateChanged(authData, firebase, dispatch)\n    }\n    dispatch({\n      type: actionTypes.AUTH_EMPTY_CHANGE,\n      preserve: config.preserveOnEmptyAuthChange\n    })\n  } else {\n    firebase._.authUid = authData.uid // eslint-disable-line no-param-reassign\n\n    // setup presence if settings and database exist\n    if (config.presence) {\n      setupPresence(dispatch, firebase)\n    }\n\n    dispatch({\n      type: actionTypes.LOGIN,\n      auth: authData,\n      preserve: config.preserveOnLogin\n    })\n\n    watchUserProfile(dispatch, firebase)\n\n    // Run onAuthStateChanged if it exists in config\n    if (typeof config.onAuthStateChanged === 'function') {\n      config.onAuthStateChanged(authData, firebase, dispatch)\n    }\n  }\n}\n\n/**\n * Redirect result handler\n * @param {Function} dispatch - Action dispatch function\n * @param {object} firebase - Internal firebase object\n * @param  {object} authData - Auth data from Firebase's getRedirectResult\n * @returns {void}\n * @private\n */\nexport const handleRedirectResult = (dispatch, firebase, authData) => {\n  // Run onRedirectResult if it exists in config\n  if (typeof firebase._.config.onRedirectResult === 'function') {\n    firebase._.config.onRedirectResult(authData, firebase, dispatch)\n  }\n  if (authData && authData.user) {\n    const { user } = authData\n\n    firebase._.authUid = user.uid // eslint-disable-line no-param-reassign\n    watchUserProfile(dispatch, firebase)\n\n    dispatch({\n      type: actionTypes.LOGIN,\n      auth: user,\n      preserve: firebase._.config.preserveOnLogin\n    })\n\n    return createUserProfile(dispatch, firebase, user, {\n      email: user.email,\n      displayName: user.providerData[0].displayName || user.email,\n      avatarUrl: user.providerData[0].photoURL,\n      providerData: user.providerData\n    })\n  }\n}\n\n/**\n * Initialize authentication state change listener that\n * watches user profile and dispatches login action\n * @param {Function} dispatch - Action dispatch function\n * @param {object} firebase - Internal firebase object\n * @private\n */\nexport const init = (dispatch, firebase) => {\n  // exit if auth does not exist\n  if (!firebase.auth) {\n    return\n  }\n  dispatch({ type: actionTypes.AUTHENTICATION_INIT_STARTED })\n  // Set Auth State listener\n  firebase\n    .auth()\n    .onAuthStateChanged(authData =>\n      handleAuthStateChange(dispatch, firebase, authData)\n    )\n\n  // set redirect result callback if enableRedirectHandling set to true\n  if (\n    firebase._.config.enableRedirectHandling &&\n    typeof firebase.auth().getRedirectResult === 'function' &&\n    (typeof window !== 'undefined' &&\n      window.location &&\n      window.location.protocol &&\n      window.location.protocol.indexOf('http') !== -1)\n  ) {\n    firebase\n      .auth()\n      .getRedirectResult()\n      .then(authData => handleRedirectResult(dispatch, firebase, authData))\n      .catch(error => {\n        dispatchLoginError(dispatch, error)\n        return Promise.reject(error)\n      })\n  }\n\n  firebase.auth().currentUser // eslint-disable-line no-unused-expressions\n\n  dispatch({ type: actionTypes.AUTHENTICATION_INIT_FINISHED })\n}\n\n/**\n * Login with errors dispatched\n * @param {Function} dispatch - Action dispatch function\n * @param {object} firebase - Internal firebase object\n * @param {object} credentials - Login credentials\n * @param {object} credentials.email - Email to login with (only needed for email login)\n * @param {object} credentials.password - Password to login with (only needed for email login)\n * @param {object} credentials.provider - Provider name such as google, twitter (only needed for 3rd party provider login)\n * @param {object} credentials.type - Popup or redirect (only needed for 3rd party provider login)\n * @param {object} credentials.token - Custom or provider token\n * @param {firebase.auth.AuthCredential} credentials.credential - Custom or provider token\n * @param {Array|string} credentials.scopes - Scopes to add to provider (i.e. email)\n * @returns {Promise} Resolves after user is logged in\n * @private\n */\nexport const login = (dispatch, firebase, credentials) => {\n  if (firebase._.config.resetBeforeLogin) {\n    dispatchLoginError(dispatch, null)\n  }\n\n  const { method, params } = getLoginMethodAndParams(firebase, credentials)\n\n  return firebase\n    .auth()\n    [method](...params)\n    .then(userData => {\n      // Handle null response from getRedirectResult before redirect has happened\n      if (!userData) return Promise.resolve(null)\n\n      // For email auth return uid (createUser is used for creating a profile)\n      if (\n        [\n          'signInWithEmailAndPassword',\n          'signInAndRetrieveDataWithEmailAndPassword'\n        ].includes(method)\n      ) {\n        return { user: userData }\n      }\n      // TODO: Only call createUserProfile once, and just pass different settings\n\n      // For token auth, the user key doesn't exist. Instead, return the JWT.\n      if (\n        [\n          'signInWithCustomToken',\n          'signInAndRetrieveDataWithCustomToken'\n        ].includes(method)\n      ) {\n        if (!firebase._.config.updateProfileOnLogin) {\n          return { user: userData }\n        }\n        return createUserProfile(\n          dispatch,\n          firebase,\n          userData,\n          credentials.profile\n        )\n      }\n\n      if (method === 'signInWithPhoneNumber') {\n        // Modify confirm method to include profile creation\n        return {\n          ...userData,\n          confirm: code =>\n            // Call original confirm\n            userData.confirm(code).then(({ user, additionalUserInfo }) =>\n              createUserProfile(dispatch, firebase, user, {\n                phoneNumber: user.providerData[0].phoneNumber,\n                providerData: user.providerData\n              }).then(profile => ({ profile, user, additionalUserInfo }))\n            )\n        }\n      }\n\n      // Create profile when logging in with external provider\n      const user = userData.user || userData\n\n      return createUserProfile(\n        dispatch,\n        firebase,\n        user,\n        credentials.profile || {\n          email: user.email,\n          displayName: user.providerData[0].displayName || user.email,\n          avatarUrl: user.providerData[0].photoURL,\n          providerData: user.providerData\n        }\n      ).then(profile => ({ profile, ...userData }))\n    })\n    .catch(err => {\n      dispatchLoginError(dispatch, err)\n      return Promise.reject(err)\n    })\n}\n\n/**\n * Logout of firebase and dispatch logout event\n * @param {Function} dispatch - Action dispatch function\n * @param {object} firebase - Internal firebase object\n * @returns {Promise} Resolves after logging out\n * @private\n */\nexport const logout = (dispatch, firebase) => {\n  // detach profile listener before logging out to prevent permission_denied\n  // errors (for more info see #494)\n  unWatchUserProfile(firebase)\n  return firebase\n    .auth()\n    .signOut()\n    .then(() => {\n      const action = {\n        type: actionTypes.LOGOUT\n      }\n      if (firebase._.config.preserveOnLogout) {\n        action.preserve = firebase._.config.preserveOnLogout\n      }\n      dispatch(action)\n      firebase._.authUid = null\n      return firebase\n    })\n}\n\n/**\n * Create a new user in auth and add an account to userProfile root\n * @param {Function} dispatch - Action dispatch function\n * @param {object} firebase - Internal firebase object\n * @param {object} credentials - Login credentials\n * @param {string} credentials.email - Email of user\n * @param {string} credentials.password - Password of new user\n * @param {object} profile - Profile to store in database for new user\n * @returns {Promise} Resolves after user is created\n * @private\n */\nexport const createUser = (\n  dispatch,\n  firebase,\n  { email, password },\n  profile\n) => {\n  dispatchLoginError(dispatch, null)\n\n  if (!email || !password) {\n    const error = new Error('Email and Password are required to create user')\n    dispatchLoginError(dispatch, error)\n    return Promise.reject(error)\n  }\n\n  return firebase\n    .auth()\n    .createUserWithEmailAndPassword(email, password)\n    .then(userData =>\n      // Login to newly created account flag is not set to false\n      createUserProfile(dispatch, firebase, userData, profile || { email })\n    )\n    .catch(err => {\n      dispatchLoginError(dispatch, err)\n      return Promise.reject(err)\n    })\n}\n\n/**\n * Send password reset email to provided email\n * @param {Function} dispatch - Action dispatch function\n * @param {object} firebase - Internal firebase object\n * @param {string} email - Email to send recovery email to\n * @returns {Promise} Resolves after password reset email is sent\n * @private\n */\nexport const resetPassword = (dispatch, firebase, email) => {\n  dispatchLoginError(dispatch, null)\n  return firebase\n    .auth()\n    .sendPasswordResetEmail(email)\n    .catch(err => {\n      if (err) {\n        switch (err.code) {\n          case 'auth/user-not-found':\n            dispatchLoginError(\n              dispatch,\n              new Error('The specified user account does not exist.')\n            )\n            break\n          default:\n            dispatchLoginError(dispatch, err)\n        }\n        return Promise.reject(err)\n      }\n    })\n}\n\n/**\n * Confirm the password reset with code and password\n * @param {Function} dispatch - Action dispatch function\n * @param {object} firebase - Internal firebase object\n * @param {string} code - Email confirmation reset code\n * @param {string} password - Password to set it to\n * @returns {Promise} Resvoles after password reset is confirmed\n * @private\n */\nexport const confirmPasswordReset = (dispatch, firebase, code, password) => {\n  dispatchLoginError(dispatch, null)\n  return firebase\n    .auth()\n    .confirmPasswordReset(code, password)\n    .catch(err => {\n      if (err) {\n        switch (err.code) {\n          case 'auth/expired-action-code':\n            dispatchLoginError(\n              dispatch,\n              new Error('The action code has expired.')\n            )\n            break\n          case 'auth/invalid-action-code':\n            dispatchLoginError(\n              dispatch,\n              new Error('The action code is invalid.')\n            )\n            break\n          case 'auth/user-disabled':\n            dispatchLoginError(dispatch, new Error('The user is disabled.'))\n            break\n          case 'auth/user-not-found':\n            dispatchLoginError(dispatch, new Error('The user is not found.'))\n            break\n          case 'auth/weak-password':\n            dispatchLoginError(\n              dispatch,\n              new Error('The password is not strong enough.')\n            )\n            break\n          default:\n            dispatchLoginError(dispatch, err)\n        }\n        return Promise.reject(err)\n      }\n    })\n}\n\n/**\n * Verify that password reset code is valid\n * @param {Function} dispatch - Action dispatch function\n * @param {object} firebase - Internal firebase object\n * @param {string} code - Password reset code\n * @returns {Promise} email - Email associated with reset code\n * @private\n */\nexport const verifyPasswordResetCode = (dispatch, firebase, code) => {\n  dispatchLoginError(dispatch, null)\n  return firebase\n    .auth()\n    .verifyPasswordResetCode(code)\n    .catch(err => {\n      if (err) {\n        dispatchLoginError(dispatch, err)\n      }\n      return Promise.reject(err)\n    })\n}\n\n/**\n * Update user profile\n * @param {Function} dispatch - Action dispatch function\n * @param {object} firebase - Internal firebase object\n * @param {object} profileUpdate - Update for profile\n * @param {object} options - Options object\n * @returns {Promise} Resolves after updating profile\n * @private\n */\nexport const updateProfile = (dispatch, firebase, profileUpdate, options) => {\n  const { _: { config } } = firebase\n  dispatch({\n    type: actionTypes.PROFILE_UPDATE_START,\n    payload: profileUpdate\n  })\n  // Select update promise type (firebase/firestore) based on config\n  const updatePromise = config.useFirestoreForProfile\n    ? updateProfileOnFirestore\n    : updateProfileOnRTDB\n  return updatePromise(firebase, profileUpdate, options)\n    .then(snap => {\n      dispatch({\n        type: actionTypes.PROFILE_UPDATE_SUCCESS,\n        payload: config.useFirestoreForProfile ? snap.data() : snap.val()\n      })\n      return snap\n    })\n    .catch(error => {\n      dispatch({ type: actionTypes.PROFILE_UPDATE_ERROR, error })\n      return Promise.reject(error)\n    })\n}\n\n/**\n * Update Auth Profile Object. Internally calls\n * `firebase.auth().currentUser.updateProfile` as seen [in the firebase docs](https://firebase.google.com/docs/auth/web/manage-users#update_a_users_profile).\n * @param {Function} dispatch - Action dispatch function\n * @param {object} firebase - Internal firebase object\n * @param {object} authUpdate - Update for current user's auth profile\n * @param {boolean} updateInProfile - Whether or not to update in profile as well\n * @returns {Promise} Resolves with results of updating auth\n * @private\n */\nexport const updateAuth = (dispatch, firebase, authUpdate, updateInProfile) => {\n  dispatch({ type: actionTypes.AUTH_UPDATE_START, payload: authUpdate })\n\n  if (!firebase.auth().currentUser) {\n    const error = new Error('User must be logged in to update auth.')\n    dispatch({ type: actionTypes.AUTH_UPDATE_ERROR, payload: error })\n    return Promise.reject(error)\n  }\n\n  return firebase\n    .auth()\n    .currentUser.updateProfile(authUpdate)\n    .then(payload => {\n      dispatch({\n        type: actionTypes.AUTH_UPDATE_SUCCESS,\n        auth: firebase.auth().currentUser\n      })\n      if (updateInProfile) {\n        return updateProfile(dispatch, firebase, authUpdate)\n      }\n      return payload\n    })\n    .catch(error => {\n      dispatch({ type: actionTypes.AUTH_UPDATE_ERROR, error })\n      return Promise.reject(error)\n    })\n}\n\n/**\n * Update user's email within Firebase auth and optionally within\n * users's profile. Internally calls `firebase.auth().currentUser.updateEmail`.\n * @param {Function} dispatch - Action dispatch function\n * @param {object} firebase - Internal firebase object\n * @param {string} newEmail - Update to be auth object\n * @param {boolean} updateInProfile - Whether or not to update email within\n * user's profile object (stored under path provided to userProfile config)\n * @returns {Promise} Resolves with results of updating email\n * @private\n */\nexport const updateEmail = (dispatch, firebase, newEmail, updateInProfile) => {\n  dispatch({ type: actionTypes.EMAIL_UPDATE_START, payload: newEmail })\n\n  if (!firebase.auth().currentUser) {\n    const error = new Error('User must be logged in to update email.')\n    dispatch({ type: actionTypes.EMAIL_UPDATE_ERROR, error })\n    return Promise.reject(error)\n  }\n\n  return firebase\n    .auth()\n    .currentUser.updateEmail(newEmail)\n    .then(payload => {\n      dispatch({ type: actionTypes.EMAIL_UPDATE_SUCCESS, payload: newEmail })\n      if (updateInProfile) {\n        return updateProfile(dispatch, firebase, { email: newEmail })\n      }\n      return payload\n    })\n    .catch(error => {\n      dispatch({ type: actionTypes.EMAIL_UPDATE_ERROR, error })\n      return Promise.reject(error)\n    })\n}\n\n/**\n * Reload Auth state. Internally calls\n * `firebase.auth().currentUser.reload`.\n * @param {Function} dispatch - Action dispatch function\n * @param {object} firebase - Internal firebase object\n * @returns {Promise} Resolves with auth\n */\nexport const reloadAuth = (dispatch, firebase) => {\n  dispatch({ type: actionTypes.AUTH_RELOAD_START })\n\n  // reject and dispatch error if not logged in\n  if (!firebase.auth().currentUser) {\n    const error = new Error('User must be logged in to reload auth.')\n    dispatch({ type: actionTypes.AUTH_RELOAD_ERROR, error })\n    return Promise.reject(error)\n  }\n\n  return firebase\n    .auth()\n    .currentUser.reload()\n    .then(() => {\n      const auth = firebase.auth().currentUser\n      dispatch({ type: actionTypes.AUTH_RELOAD_SUCCESS, payload: auth })\n      return auth\n    })\n    .catch(error => {\n      dispatch({ type: actionTypes.AUTH_RELOAD_ERROR, error })\n      return Promise.reject(error)\n    })\n}\n\n/**\n * Links the user account with the given credentials. Internally\n * calls `firebase.auth().currentUser.linkWithCredential`.\n * @param {Function} dispatch - Action dispatch function\n * @param {object} firebase - Internal firebase object\n * @param {object} credential - Credential with which to link user account\n * @returns {Promise} Resolves with auth\n */\nexport const linkWithCredential = (dispatch, firebase, credential) => {\n  dispatch({ type: actionTypes.AUTH_LINK_START })\n\n  // reject and dispatch error if not logged in\n  if (!firebase.auth().currentUser) {\n    const error = new Error('User must be logged in to link with credential.')\n    dispatch({ type: actionTypes.AUTH_LINK_ERROR, error })\n    return Promise.reject(error)\n  }\n\n  return firebase\n    .auth()\n    .currentUser.linkWithCredential(credential)\n    .then(auth => {\n      dispatch({ type: actionTypes.AUTH_LINK_SUCCESS, payload: auth })\n      return auth\n    })\n    .catch(error => {\n      dispatch({ type: actionTypes.AUTH_LINK_ERROR, error })\n      return Promise.reject(error)\n    })\n}\n\n/**\n * @param {Function} promiseFunc - Promise function\n * @param {Array} args - arguments to pass to function\n * @param {Function} dispatch - Redux dispatch function\n * @param {object} firebase - Internal firebase object\n * @returns {Promise} Resolves after auth is linked and AUTH_LINK_SUCCESS\n * action is dispatched\n */\nfunction linkWithAuthDispatch(promiseFunc, args, dispatch, firebase) {\n  dispatch({ type: actionTypes.AUTH_LINK_START })\n\n  // reject and dispatch error if not logged in\n  if (!firebase.auth().currentUser) {\n    const error = new Error('User must be logged in to link with credential.')\n    dispatch({ type: actionTypes.AUTH_LINK_ERROR, error })\n    return Promise.reject(error)\n  }\n\n  return promiseFunc(...args)\n    .then(auth => {\n      dispatch({ type: actionTypes.AUTH_LINK_SUCCESS, payload: auth })\n      return auth\n    })\n    .catch(error => {\n      dispatch({ type: actionTypes.AUTH_LINK_ERROR, error })\n      return Promise.reject(error)\n    })\n}\n\n/**\n * Links the user account with the given credentials. Internally\n * calls `firebase.auth().currentUser.linkAndRetrieveDataWithCredential`.\n * @param {Function} dispatch - Action dispatch function\n * @param {object} firebase - Internal firebase object\n * @param {object} credential - Credential with which to link user account\n * @returns {Promise} Resolves with auth\n */\nexport function linkAndRetrieveDataWithCredential(\n  dispatch,\n  firebase,\n  credential\n) {\n  return linkWithAuthDispatch(\n    firebase.auth().currentUser.linkAndRetrieveDataWithCredential,\n    [credential],\n    dispatch,\n    firebase\n  )\n}\n\n/**\n * Links the user account with the given credentials. Internally\n * calls `firebase.auth().currentUser.linkWithPopup`.\n * @param {Function} dispatch - Action dispatch function\n * @param {object} firebase - Internal firebase object\n * @param {object} credential - Credential with which to link user account\n * @returns {Promise} Resolves with auth\n */\nexport function linkWithPopup(dispatch, firebase, credential) {\n  return linkWithAuthDispatch(\n    firebase.auth().currentUser.linkWithPopup,\n    [credential],\n    dispatch,\n    firebase\n  )\n}\n\n/**\n * Links the user account with the given credentials. Internally\n * calls `firebase.auth().currentUser.linkWithRedirect`.\n * @param {Function} dispatch - Action dispatch function\n * @param {object} firebase - Internal firebase object\n * @param {any} provider - Auth provider\n * @returns {Promise} Resolves with auth\n */\nexport function linkWithRedirect(dispatch, firebase, provider) {\n  return linkWithAuthDispatch(\n    firebase.auth().currentUser.linkWithRedirect,\n    [provider],\n    dispatch,\n    firebase\n  )\n}\n\n/**\n * Asynchronously signs in using a phone number and create's\n * user profile. This method sends a code via SMS to the given phone\n * number, and returns a firebase.auth.ConfirmationResult. Internally\n * calls `firebase.auth().signInWithPhoneNumber`.\n * @param {object} firebase - Internal firebase object\n * @param {Function} dispatch - Action dispatch function\n * @param {string} phoneNumber - Phone number\n * @param {object} applicationVerifier - Phone number\n * @param {object} options - Options object\n * @returns {Promise} Resolves with auth\n */\nexport function signInWithPhoneNumber(\n  firebase,\n  dispatch,\n  phoneNumber,\n  applicationVerifier,\n  options = {}\n) {\n  return login(dispatch, firebase, {\n    phoneNumber,\n    applicationVerifier,\n    ...options\n  })\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"2489054ea92f8c39196ddcfe2d7e0ce654421e7f","contentHash":"5e082a8b20c6442ac42f2cf886fc722f07009cfbd87cbb035e339cfa6a53d3bc"},"/Users/scott/Dev/Code/react-redux-firebase/src/constants.js":{"path":"/Users/scott/Dev/Code/react-redux-firebase/src/constants.js","statementMap":{"0":{"start":{"line":1,"column":13},"end":{"line":1,"column":231}},"1":{"start":{"line":8,"column":21},"end":{"line":8,"column":43}},"2":{"start":{"line":55,"column":3},"end":{"line":55,"column":48}},"3":{"start":{"line":55,"column":64},"end":{"line":55,"column":2896}},"4":{"start":{"line":138,"column":3},"end":{"line":138,"column":35}},"5":{"start":{"line":138,"column":53},"end":{"line":138,"column":619}},"6":{"start":{"line":144,"column":3},"end":{"line":144,"column":39}},"7":{"start":{"line":144,"column":66},"end":{"line":144,"column":106}},"8":{"start":{"line":149,"column":3},"end":{"line":149,"column":57}},"9":{"start":{"line":149,"column":75},"end":{"line":149,"column":110}},"10":{"start":{"line":155,"column":3},"end":{"line":155,"column":39}},"11":{"start":{"line":155,"column":58},"end":{"line":155,"column":243}},"12":{"start":{"line":155,"column":244},"end":{"line":155,"column":453}},"13":{"start":{"line":155,"column":466},"end":{"line":155,"column":519}},"14":{"start":{"line":155,"column":520},"end":{"line":155,"column":545}}},"fnMap":{},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1,"13":1,"14":1},"f":{},"b":{},"inputSourceMap":{"version":3,"sources":["constants.js"],"names":["actionsPrefix","actionTypes","START","SET","REMOVE","MERGE","SET_PROFILE","LOGIN","LOGOUT","LOGIN_ERROR","NO_VALUE","UNAUTHORIZED_ERROR","ERROR","CLEAR_ERRORS","SET_LISTENER","UNSET_LISTENER","AUTHENTICATION_INIT_STARTED","AUTHENTICATION_INIT_FINISHED","SESSION_START","SESSION_END","FILE_UPLOAD_START","FILE_UPLOAD_ERROR","FILE_UPLOAD_PROGRESS","FILE_UPLOAD_COMPLETE","FILE_DELETE_START","FILE_DELETE_ERROR","FILE_DELETE_COMPLETE","AUTH_UPDATE_START","AUTH_UPDATE_SUCCESS","AUTH_UPDATE_ERROR","PROFILE_UPDATE_START","PROFILE_UPDATE_SUCCESS","PROFILE_UPDATE_ERROR","EMAIL_UPDATE_START","EMAIL_UPDATE_SUCCESS","EMAIL_UPDATE_ERROR","AUTH_RELOAD_START","AUTH_RELOAD_ERROR","AUTH_RELOAD_SUCCESS","AUTH_LINK_START","AUTH_LINK_ERROR","AUTH_LINK_SUCCESS","AUTH_EMPTY_CHANGE","defaultConfig","userProfile","presence","sessions","enableLogging","logErrors","preserveOnLogout","preserveOnEmptyAuthChange","resetBeforeLogin","updateProfileOnLogin","enableRedirectHandling","autoPopulateProfile","setProfilePopulateResults","dispatchOnUnsetListener","dispatchRemoveAction","enableEmptyAuthChanges","firebaseStateName","attachAuthIsReady","keysToRemoveFromAuth","keysToPreserveFromProviderData","supportedAuthProviders","topLevelPaths","v3ErrorMessage"],"mappings":"uOAAA;;;;;;;GAQO,GAAMA,CAAAA,aAAa,CAAG,sBAAtB,CAEP;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;gDAgDO,GAAMC,CAAAA,WAAW,CAAG,CACzBC,KAAK,2CADoB,CAEzBC,GAAG,yCAFsB,CAGzBC,MAAM,4CAHmB,CAIzBC,KAAK,2CAJoB,CAKzBC,WAAW,iDALc,CAMzBC,KAAK,2CANoB,CAOzBC,MAAM,4CAPmB,CAQzBC,WAAW,iDARc,CASzBC,QAAQ,8CATiB,CAUzBC,kBAAkB,wDAVO,CAWzBC,KAAK,2CAXoB,CAYzBC,YAAY,kDAZa,CAazBC,YAAY,kDAba,CAczBC,cAAc,oDAdW,CAezBC,2BAA2B,iEAfF,CAgBzBC,4BAA4B,kEAhBH,CAiBzBC,aAAa,mDAjBY,CAkBzBC,WAAW,iDAlBc,CAmBzBC,iBAAiB,uDAnBQ,CAoBzBC,iBAAiB,uDApBQ,CAqBzBC,oBAAoB,0DArBK,CAsBzBC,oBAAoB,0DAtBK,CAuBzBC,iBAAiB,uDAvBQ,CAwBzBC,iBAAiB,uDAxBQ,CAyBzBC,oBAAoB,0DAzBK,CA0BzBC,iBAAiB,uDA1BQ,CA2BzBC,mBAAmB,yDA3BM,CA4BzBC,iBAAiB,uDA5BQ,CA6BzBC,oBAAoB,0DA7BK,CA8BzBC,sBAAsB,4DA9BG,CA+BzBC,oBAAoB,0DA/BK,CAgCzBC,kBAAkB,wDAhCO,CAiCzBC,oBAAoB,0DAjCK,CAkCzBC,kBAAkB,wDAlCO,CAmCzBC,iBAAiB,uDAnCQ,CAoCzBC,iBAAiB,uDApCQ,CAqCzBC,mBAAmB,yDArCM,CAsCzBC,eAAe,qDAtCU,CAuCzBC,eAAe,qDAvCU,CAwCzBC,iBAAiB,uDAxCQ,CAyCzBC,iBAAiB,uDAzCQ,CAApB,CA4CP;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;mCAoFO,GAAMC,CAAAA,aAAa,CAAG,CAC3BC,WAAW,CAAE,IADc,CAE3BC,QAAQ,CAAE,IAFiB,CAG3BC,QAAQ,CAAE,UAHiB,CAI3BC,aAAa,GAJc,CAK3BC,SAAS,GALkB,CAM3BC,gBAAgB,CAAE,IANS,CAO3BC,yBAAyB,CAAE,IAPA,CAQ3BC,gBAAgB,GARW,CAS3BC,oBAAoB,GATO,CAU3BC,sBAAsB,GAVK,CAW3BC,mBAAmB,GAXQ,CAY3BC,yBAAyB,GAZE,CAa3BC,uBAAuB,GAbI,CAc3BC,oBAAoB,GAdO,CAe3BC,sBAAsB,GAfK,CAgB3BC,iBAAiB,CAAE,UAhBQ,CAiB3BC,iBAAiB,GAjBU,CAkB3BC,oBAAoB,CAAE,CACpB,SADoB,CAEpB,QAFoB,CAGpB,YAHoB,CAIpB,iBAJoB,CAKpB,iBALoB,CAMpB,KANoB,CAlBK,CA0B3BC,8BAA8B,CAAE,CAC9B,OAD8B,CAE9B,aAF8B,CAG9B,UAH8B,CAI9B,YAJ8B,CAK9B,KAL8B,CA1BL,CAAtB,CAmCP;;;;;;uCAOO,GAAMC,CAAAA,sBAAsB,CAAG,CACpC,QADoC,CAEpC,QAFoC,CAGpC,SAHoC,CAIpC,UAJoC,CAA/B,CAOP;;;;;yDAMO,GAAMC,CAAAA,aAAa,CAAG,CAAC,MAAD,CAAS,SAAT,CAAoB,SAApB,CAA+B,MAA/B,CAAtB,CAEP;;;;;;uCAOO,GAAMC,CAAAA,cAAc,CACzB,yLADK,C,8NAGQ,CACbhE,WAAW,CAAXA,WADa,CAEb0C,aAAa,CAAbA,aAFa,C","sourceRoot":"/Users/scott/Dev/Code/react-redux-firebase/src","sourcesContent":["/**\n * @constant\n * @type {string}\n * @description Prefix for all actions within library\n * @example\n * import { constants } from 'react-redux-firebase'\n * constants.actionsPrefix === '@@reactReduxFirebase' // true\n */\nexport const actionsPrefix = '@@reactReduxFirebase'\n\n/**\n * @constant\n * @type {object}\n * @description Object containing all action types\n * @property {string} START - `@@reactReduxFirebase/START`\n * @property {string} SET - `@@reactReduxFirebase/SET`\n * @property {string} REMOVE - `@@reactReduxFirebase/REMOVE`\n * @property {string} MERGE - `@@reactReduxFirebase/MERGE`\n * @property {string} SET_PROFILE - `@@reactReduxFirebase/SET_PROFILE`\n * @property {string} LOGIN - `@@reactReduxFirebase/LOGIN`\n * @property {string} LOGOUT - `@@reactReduxFirebase/LOGOUT`\n * @property {string} LOGIN_ERROR - `@@reactReduxFirebase/LOGIN_ERROR`\n * @property {string} NO_VALUE - `@@reactReduxFirebase/NO_VALUE`\n * @property {string} UNAUTHORIZED_ERROR - `@@reactReduxFirebase/UNAUTHORIZED_ERROR`\n * @property {string} ERROR - `@@reactReduxFirebase/ERROR`\n * @property {string} SET_LISTENER - `@@reactReduxFirebase/SET_LISTENER`\n * @property {string} UNSET_LISTENER - `@@reactReduxFirebase/UNSET_LISTENER`\n * @property {string} AUTHENTICATION_INIT_STARTED - `@@reactReduxFirebase/AUTHENTICATION_INIT_STARTED`\n * @property {string} AUTHENTICATION_INIT_FINISHED - `@@reactReduxFirebase/AUTHENTICATION_INIT_FINISHED`\n * @property {string} SESSION_START - `@@reactReduxFirebase/SESSION_START`\n * @property {string} SESSION_END - `@@reactReduxFirebase/SESSION_END`\n * @property {string} FILE_UPLOAD_START - `@@reactReduxFirebase/FILE_UPLOAD_START`\n * @property {string} FILE_UPLOAD_ERROR - `@@reactReduxFirebase/FILE_UPLOAD_ERROR`\n * @property {string} FILE_UPLOAD_PROGRESS - `@@reactReduxFirebase/FILE_UPLOAD_PROGRESS`\n * @property {string} FILE_UPLOAD_COMPLETE - `@@reactReduxFirebase/FILE_UPLOAD_COMPLETE`\n * @property {string} FILE_DELETE_START - `@@reactReduxFirebase/FILE_DELETE_START`\n * @property {string} FILE_DELETE_ERROR - `@@reactReduxFirebase/FILE_DELETE_ERROR`\n * @property {string} FILE_DELETE_COMPLETE - `@@reactReduxFirebase/FILE_DELETE_COMPLETE`\n * @property {string} AUTH_UPDATE_START - `@@reactReduxFirebase/AUTH_UPDATE_START`\n * @property {string} AUTH_UPDATE_ERROR - `@@reactReduxFirebase/AUTH_UPDATE_ERROR`\n * @property {string} AUTH_UPDATE_SUCCESS - `@@reactReduxFirebase/AUTH_UPDATE_SUCCESS`\n * @property {string} PROFILE_UPDATE_START - `@@reactReduxFirebase/PROFILE_UPDATE_START`\n * @property {string} PROFILE_UPDATE_ERROR - `@@reactReduxFirebase/PROFILE_UPDATE_ERROR`\n * @property {string} PROFILE_UPDATE_SUCCESS - `@@reactReduxFirebase/PROFILE_UPDATE_SUCCESS`\n * @property {string} EMAIL_UPDATE_START - `@@reactReduxFirebase/EMAIL_UPDATE_START`\n * @property {string} EMAIL_UPDATE_ERROR - `@@reactReduxFirebase/EMAIL_UPDATE_ERROR`\n * @property {string} EMAIL_UPDATE_SUCCESS - `@@reactReduxFirebase/EMAIL_UPDATE_SUCCESS`\n * @property {string} AUTH_RELOAD_START - `@@reactReduxFirebase/AUTH_RELOAD_START`\n * @property {string} AUTH_RELOAD_ERROR - `@@reactReduxFirebase/AUTH_RELOAD_ERROR`\n * @property {string} AUTH_RELOAD_SUCCESS - `@@reactReduxFirebase/AUTH_RELOAD_SUCCESS`\n * @property {string} AUTH_LINK_START - `@@reactReduxFirebase/AUTH_LINK_START`\n * @property {string} AUTH_LINK_ERROR - `@@reactReduxFirebase/AUTH_LINK_ERROR`\n * @property {string} AUTH_LINK_SUCCESS - `@@reactReduxFirebase/AUTH_LINK_SUCCESS`\n * @property {string} AUTH_EMPTY_CHANGE - `@@reactReduxFirebase/AUTH_LINK_SUCCESS`\n * @example\n * import { actionTypes } from 'react-redux-firebase'\n * actionTypes.SET === '@@reactReduxFirebase/SET' // true\n */\nexport const actionTypes = {\n  START: `${actionsPrefix}/START`,\n  SET: `${actionsPrefix}/SET`,\n  REMOVE: `${actionsPrefix}/REMOVE`,\n  MERGE: `${actionsPrefix}/MERGE`,\n  SET_PROFILE: `${actionsPrefix}/SET_PROFILE`,\n  LOGIN: `${actionsPrefix}/LOGIN`,\n  LOGOUT: `${actionsPrefix}/LOGOUT`,\n  LOGIN_ERROR: `${actionsPrefix}/LOGIN_ERROR`,\n  NO_VALUE: `${actionsPrefix}/NO_VALUE`,\n  UNAUTHORIZED_ERROR: `${actionsPrefix}/UNAUTHORIZED_ERROR`,\n  ERROR: `${actionsPrefix}/ERROR`,\n  CLEAR_ERRORS: `${actionsPrefix}/CLEAR_ERRORS`,\n  SET_LISTENER: `${actionsPrefix}/SET_LISTENER`,\n  UNSET_LISTENER: `${actionsPrefix}/UNSET_LISTENER`,\n  AUTHENTICATION_INIT_STARTED: `${actionsPrefix}/AUTHENTICATION_INIT_STARTED`,\n  AUTHENTICATION_INIT_FINISHED: `${actionsPrefix}/AUTHENTICATION_INIT_FINISHED`,\n  SESSION_START: `${actionsPrefix}/SESSION_START`,\n  SESSION_END: `${actionsPrefix}/SESSION_END`,\n  FILE_UPLOAD_START: `${actionsPrefix}/FILE_UPLOAD_START`,\n  FILE_UPLOAD_ERROR: `${actionsPrefix}/FILE_UPLOAD_ERROR`,\n  FILE_UPLOAD_PROGRESS: `${actionsPrefix}/FILE_UPLOAD_PROGRESS`,\n  FILE_UPLOAD_COMPLETE: `${actionsPrefix}/FILE_UPLOAD_COMPLETE`,\n  FILE_DELETE_START: `${actionsPrefix}/FILE_DELETE_START`,\n  FILE_DELETE_ERROR: `${actionsPrefix}/FILE_DELETE_ERROR`,\n  FILE_DELETE_COMPLETE: `${actionsPrefix}/FILE_DELETE_COMPLETE`,\n  AUTH_UPDATE_START: `${actionsPrefix}/AUTH_UPDATE_START`,\n  AUTH_UPDATE_SUCCESS: `${actionsPrefix}/AUTH_UPDATE_SUCCESS`,\n  AUTH_UPDATE_ERROR: `${actionsPrefix}/AUTH_UPDATE_ERROR`,\n  PROFILE_UPDATE_START: `${actionsPrefix}/PROFILE_UPDATE_START`,\n  PROFILE_UPDATE_SUCCESS: `${actionsPrefix}/PROFILE_UPDATE_SUCCESS`,\n  PROFILE_UPDATE_ERROR: `${actionsPrefix}/PROFILE_UPDATE_ERROR`,\n  EMAIL_UPDATE_START: `${actionsPrefix}/EMAIL_UPDATE_START`,\n  EMAIL_UPDATE_SUCCESS: `${actionsPrefix}/EMAIL_UPDATE_SUCCESS`,\n  EMAIL_UPDATE_ERROR: `${actionsPrefix}/EMAIL_UPDATE_ERROR`,\n  AUTH_RELOAD_START: `${actionsPrefix}/AUTH_RELOAD_START`,\n  AUTH_RELOAD_ERROR: `${actionsPrefix}/AUTH_RELOAD_ERROR`,\n  AUTH_RELOAD_SUCCESS: `${actionsPrefix}/AUTH_RELOAD_SUCCESS`,\n  AUTH_LINK_START: `${actionsPrefix}/AUTH_LINK_START`,\n  AUTH_LINK_ERROR: `${actionsPrefix}/AUTH_LINK_ERROR`,\n  AUTH_LINK_SUCCESS: `${actionsPrefix}/AUTH_LINK_SUCCESS`,\n  AUTH_EMPTY_CHANGE: `${actionsPrefix}/AUTH_EMPTY_CHANGE`\n}\n\n/**\n * @constant\n * @type {object}\n * @name defaultConfig\n * @description Default configuration options\n * @property {string} userProfile - `null` Location on Firebase where user\n * profiles are stored. Often set to `'users'`.\n * @property {Function} profileFactory - `null` Function for changing how profile is written\n * to database (both RTDB and Firestore).\n * @property {string|Function} presence - `null` Location on Firebase where of currently\n * online users is stored. Often set to `'presence'` or `'onlineUsers'`. If a function\n * is passed, the arguments are: `(currentUser, firebase)`.\n * @property {string|Function} sessions - `sessions` Location on Firebase where user\n * sessions are stored (only if presense is set). Often set to `'sessions'` or\n * `'userSessions'`. If a function is passed, the arguments are: `(currentUser, firebase)`.\n * @property {boolean} enableLogging - `false` Whether or not firebase\n * database logging is enabled. Providing `true` turns on error logging\n * (enabled by itself through `logErrors`).\n * @property {boolean} logErrors - `true` Whether or not to log internal\n * Firebase errors (i.e. error querying or writing data) to the javascript\n * console .\n * @property {Array|object} preserveOnLogout - `null` Data parameters to\n * preserve when logging out. If Array is passed, each item represents keys\n * within state.firebase.data preserve. If an object is passed, Keys associate\n * with parts of state to preserve, and the values are Arrays contain keys\n * for keys within that slice of state to preserve.\n * @property {object} preserveOnEmptyAuthChange - `null` Data parameters to\n * preserve when empty auth changes occur. Keys associate with parts of state\n * to preserve, and the values are either Arrays or Functions. If passing an\n * array of keys (i.e. `{ auth: ['key1', 'key2'] }`) - those keys (`'key1'` and\n * `'key2'`) are preserved from that slice of state (`auth`). If passing a\n * function (i.e. `{ auth: (currentAuthState, nextAuthState) => ({}) }`),\n * whatever is returned from the function is set to that slice of state (`auth`).\n * @property {boolean} updateProfileOnLogin - `true` Whether or not to update\n * user profile when logging in.\n * @property {boolean} useFirestoreForProfile - `false` Write profile\n * data to Firestore instead of Real Time Database.\n * @property {boolean} useFirestoreForStorageMeta - `false` Write storage\n * file metadata to Firestore instead of Real Time Database.\n * @property {boolean} resetBeforeLogin - `true` Whether or not to reset auth\n * and profile when logging in (see issue\n * [#254](https://github.com/prescottprue/react-redux-firebase/issues/254)\n * for more details).\n * @property {boolean} enableRedirectHandling - `true` Whether or not to enable\n * redirect handling. This must be disabled if environment is not http/https\n * such as with react-native.\n * @property {Function} onAuthStateChanged - `null` Function that runs when\n * auth state changes.\n * @property {boolean} enableEmptyAuthChanges - `false` Whether or not to enable\n * empty auth changes. When set to true, `onAuthStateChanged` will be fired with,\n * empty auth changes such as `undefined` on initialization\n * (see [#137](https://github.com/prescottprue/react-redux-firebase/issues/137)).\n * Requires `v1.5.0-alpha` or higher.\n * @property {boolean} autoPopulateProfile - `false` REMOVED FROM v2.0.0.\n * Whether or not to automatically populate profile with data loaded through\n * profileParamsToPopulate config.\n * @property {boolean} setProfilePopulateResults - `true` Whether or not to\n * call SET actions for data that results from populating profile to redux under\n * the data path. For example role parameter on profile populated from 'roles'\n * root. True will call SET_PROFILE as well as a SET action with the role that\n * is loaded (places it in data/roles).\n * @property {boolean} dispatchOnUnsetListener - `true` Whether or not to\n * dispatch UNSET_LISTENER when disabling listeners for a specific path. USE WITH CAUTION\n * Setting this to true allows an action to be called that removes data\n * from redux (which might not always be expected).\n * @property {boolean} dispatchRemoveAction - `false` Whether or not to\n * dispatch REMOVE action when calling `remove`. **NOTE** Causes two state\n * updates if a listener is affected by your remove call.\n * @property {string} firebaseStateName - 'firebase' Assumed name of Firebase\n * state (name given when passing reducer to combineReducers). Used in\n * firebaseAuthIsReady promise (see\n * [#264](https://github.com/prescottprue/react-redux-firebase/issues/264)).\n * @property {boolean} attachAuthIsReady - `true` Whether or not to attach\n * firebaseAuthIsReady to store. authIsLoaded can be imported and used\n * directly instead based on preference.\n * @property {boolean} firestoreNamespace - `firestoreHelpers` Namespace for\n * firestore helpers (**WARNING** Changing this will break firestoreConnect HOC.\n * Do **NOT** change to `'firestore'`)\n * @property {Array} keysToRemoveFromAuth - (default at end)\n * list of keys to remove from authentication reponse before writing to profile\n * (currenlty only used for profiles stored on Firestore). `['appName', 'apiKey'\n * , 'authDomain', 'redirectEventId', 'stsTokenManager', 'uid']`\n * @type {object}\n */\nexport const defaultConfig = {\n  userProfile: null,\n  presence: null,\n  sessions: 'sessions',\n  enableLogging: false,\n  logErrors: true,\n  preserveOnLogout: null,\n  preserveOnEmptyAuthChange: null,\n  resetBeforeLogin: true,\n  updateProfileOnLogin: true,\n  enableRedirectHandling: true,\n  autoPopulateProfile: false,\n  setProfilePopulateResults: false,\n  dispatchOnUnsetListener: true,\n  dispatchRemoveAction: false,\n  enableEmptyAuthChanges: true,\n  firebaseStateName: 'firebase',\n  attachAuthIsReady: false,\n  keysToRemoveFromAuth: [\n    'appName',\n    'apiKey',\n    'authDomain',\n    'redirectEventId',\n    'stsTokenManager',\n    'uid'\n  ],\n  keysToPreserveFromProviderData: [\n    'email',\n    'phoneNumber',\n    'photoURL',\n    'providerId',\n    'uid'\n  ]\n}\n\n/**\n * @constant\n * @type {Array}\n * @description List of all external auth providers that are supported\n * (firebase's email/anonymous included by default).\n * @private\n */\nexport const supportedAuthProviders = [\n  'google',\n  'github',\n  'twitter',\n  'facebook'\n]\n\n/**\n * @constant\n * @description Top level redux paths that can be populated\n * @type {Array}\n * @private\n */\nexport const topLevelPaths = ['auth', 'profile', 'ordered', 'data']\n\n/**\n * @constant\n * @description Error message shown if runnning react-redux v6 with a v2.0.0 version\n * of react-redux-firebase\n * @type {string}\n * @private\n */\nexport const v3ErrorMessage =\n  'Context from react-redux not found. If you are using react-redux v6 a v3.*.* version of react-redux-firebase is required. Please checkout the v3 migration guide: http://bit.ly/2SRNdiO'\n\nexport default {\n  actionTypes,\n  defaultConfig\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"920917fa38ea6bfc403e80c51c90a0e50765cc49","contentHash":"f69a3d056a082ef3ba5c7ed7df277be769380ffda1c23810478e5baa14ec9f2d"},"/Users/scott/Dev/Code/react-redux-firebase/src/helpers.js":{"path":"/Users/scott/Dev/Code/react-redux-firebase/src/helpers.js","statementMap":{"0":{"start":{"line":1,"column":40},"end":{"line":1,"column":95}},"1":{"start":{"line":1,"column":96},"end":{"line":1,"column":273}},"2":{"start":{"line":1,"column":297},"end":{"line":1,"column":372}},"3":{"start":{"line":1,"column":390},"end":{"line":1,"column":462}},"4":{"start":{"line":1,"column":470},"end":{"line":1,"column":516}},"5":{"start":{"line":1,"column":532},"end":{"line":1,"column":586}},"6":{"start":{"line":1,"column":596},"end":{"line":1,"column":644}},"7":{"start":{"line":1,"column":657},"end":{"line":1,"column":708}},"8":{"start":{"line":1,"column":715},"end":{"line":1,"column":760}},"9":{"start":{"line":1,"column":767},"end":{"line":1,"column":812}},"10":{"start":{"line":1,"column":819},"end":{"line":1,"column":864}},"11":{"start":{"line":1,"column":871},"end":{"line":1,"column":916}},"12":{"start":{"line":1,"column":924},"end":{"line":1,"column":970}},"13":{"start":{"line":1,"column":982},"end":{"line":1,"column":1004}},"14":{"start":{"line":1,"column":1015},"end":{"line":1,"column":1042}},"15":{"start":{"line":1,"column":1053},"end":{"line":1,"column":1080}},"16":{"start":{"line":1,"column":1130},"end":{"line":1,"column":1149}},"17":{"start":{"line":1,"column":1150},"end":{"line":1,"column":1381}},"18":{"start":{"line":1,"column":1195},"end":{"line":1,"column":1231}},"19":{"start":{"line":1,"column":1232},"end":{"line":1,"column":1380}},"20":{"start":{"line":1,"column":1286},"end":{"line":1,"column":1347}},"21":{"start":{"line":1,"column":1381},"end":{"line":1,"column":1392}},"22":{"start":{"line":1,"column":1424},"end":{"line":1,"column":1832}},"23":{"start":{"line":1,"column":1441},"end":{"line":1,"column":1442}},"24":{"start":{"line":1,"column":1466},"end":{"line":1,"column":1832}},"25":{"start":{"line":1,"column":1553},"end":{"line":1,"column":1605}},"26":{"start":{"line":1,"column":1752},"end":{"line":1,"column":1829}},"27":{"start":{"line":1,"column":1832},"end":{"line":1,"column":1845}},"28":{"start":{"line":1,"column":1889},"end":{"line":1,"column":1921}},"29":{"start":{"line":1,"column":1902},"end":{"line":1,"column":1921}},"30":{"start":{"line":1,"column":1933},"end":{"line":1,"column":1966}},"31":{"start":{"line":1,"column":1979},"end":{"line":1,"column":2026}},"32":{"start":{"line":1,"column":2027},"end":{"line":1,"column":2045}},"33":{"start":{"line":40,"column":23},"end":{"line":40,"column":121}},"34":{"start":{"line":40,"column":36},"end":{"line":40,"column":52}},"35":{"start":{"line":40,"column":58},"end":{"line":40,"column":69}},"36":{"start":{"line":40,"column":75},"end":{"line":40,"column":76}},"37":{"start":{"line":40,"column":94},"end":{"line":40,"column":121}},"38":{"start":{"line":40,"column":121},"end":{"line":40,"column":235}},"39":{"start":{"line":40,"column":174},"end":{"line":40,"column":233}},"40":{"start":{"line":78,"column":22},"end":{"line":78,"column":128}},"41":{"start":{"line":78,"column":36},"end":{"line":78,"column":52}},"42":{"start":{"line":78,"column":58},"end":{"line":78,"column":70}},"43":{"start":{"line":78,"column":77},"end":{"line":78,"column":78}},"44":{"start":{"line":78,"column":99},"end":{"line":78,"column":128}},"45":{"start":{"line":78,"column":128},"end":{"line":78,"column":237}},"46":{"start":{"line":78,"column":180},"end":{"line":78,"column":235}},"47":{"start":{"line":83,"column":26},"end":{"line":83,"column":71}},"48":{"start":{"line":90,"column":41},"end":{"line":94,"column":2}},"49":{"start":{"line":90,"column":105},"end":{"line":90,"column":108}},"50":{"start":{"line":91,"column":0},"end":{"line":91,"column":42}},"51":{"start":{"line":92,"column":12},"end":{"line":92,"column":47}},"52":{"start":{"line":92,"column":56},"end":{"line":92,"column":72}},"53":{"start":{"line":92,"column":73},"end":{"line":92,"column":114}},"54":{"start":{"line":92,"column":129},"end":{"line":92,"column":146}},"55":{"start":{"line":93,"column":0},"end":{"line":93,"column":241}},"56":{"start":{"line":103,"column":13},"end":{"line":103,"column":45}},"57":{"start":{"line":103,"column":46},"end":{"line":103,"column":79}},"58":{"start":{"line":103,"column":67},"end":{"line":103,"column":79}},"59":{"start":{"line":104,"column":0},"end":{"line":107,"column":1}},"60":{"start":{"line":105,"column":12},"end":{"line":106,"column":10}},"61":{"start":{"line":106,"column":19},"end":{"line":106,"column":37}},"62":{"start":{"line":106,"column":38},"end":{"line":106,"column":79}},"63":{"start":{"line":106,"column":94},"end":{"line":106,"column":111}},"64":{"start":{"line":106,"column":124},"end":{"line":106,"column":164}},"65":{"start":{"line":106,"column":165},"end":{"line":106,"column":335}},"66":{"start":{"line":108,"column":0},"end":{"line":108,"column":82}},"67":{"start":{"line":134,"column":69},"end":{"line":134,"column":100}},"68":{"start":{"line":134,"column":109},"end":{"line":134,"column":230}},"69":{"start":{"line":134,"column":239},"end":{"line":134,"column":256}},"70":{"start":{"line":134,"column":262},"end":{"line":134,"column":306}},"71":{"start":{"line":137,"column":0},"end":{"line":137,"column":49}},"72":{"start":{"line":137,"column":30},"end":{"line":137,"column":49}},"73":{"start":{"line":138,"column":0},"end":{"line":138,"column":27}},"74":{"start":{"line":138,"column":15},"end":{"line":138,"column":27}},"75":{"start":{"line":139,"column":21},"end":{"line":140,"column":11}},"76":{"start":{"line":140,"column":12},"end":{"line":145,"column":1}},"77":{"start":{"line":142,"column":24},"end":{"line":142,"column":144}},"78":{"start":{"line":142,"column":40},"end":{"line":142,"column":143}},"79":{"start":{"line":142,"column":61},"end":{"line":142,"column":142}},"80":{"start":{"line":142,"column":107},"end":{"line":142,"column":140}},"81":{"start":{"line":142,"column":168},"end":{"line":142,"column":283}},"82":{"start":{"line":142,"column":223},"end":{"line":142,"column":281}},"83":{"start":{"line":144,"column":0},"end":{"line":144,"column":301}},"84":{"start":{"line":144,"column":62},"end":{"line":144,"column":70}},"85":{"start":{"line":144,"column":81},"end":{"line":144,"column":91}},"86":{"start":{"line":144,"column":107},"end":{"line":144,"column":256}},"87":{"start":{"line":144,"column":140},"end":{"line":144,"column":179}},"88":{"start":{"line":144,"column":205},"end":{"line":144,"column":244}},"89":{"start":{"line":144,"column":257},"end":{"line":144,"column":293}},"90":{"start":{"line":146,"column":26},"end":{"line":146,"column":113}},"91":{"start":{"line":146,"column":74},"end":{"line":146,"column":111}},"92":{"start":{"line":147,"column":0},"end":{"line":151,"column":8}},"93":{"start":{"line":147,"column":62},"end":{"line":147,"column":96}},"94":{"start":{"line":147,"column":122},"end":{"line":147,"column":161}},"95":{"start":{"line":148,"column":8},"end":{"line":148,"column":49}},"96":{"start":{"line":148,"column":71},"end":{"line":148,"column":161}},"97":{"start":{"line":148,"column":184},"end":{"line":148,"column":276}},"98":{"start":{"line":148,"column":236},"end":{"line":148,"column":274}},"99":{"start":{"line":150,"column":0},"end":{"line":150,"column":209}},"100":{"start":{"line":150,"column":101},"end":{"line":150,"column":136}},"101":{"start":{"line":150,"column":155},"end":{"line":150,"column":194}}},"fnMap":{"0":{"name":"ownKeys","decl":{"start":{"line":1,"column":1090},"end":{"line":1,"column":1097}},"loc":{"start":{"line":1,"column":1120},"end":{"line":1,"column":1393}},"line":1},"1":{"name":"(anonymous_1)","decl":{"start":{"line":1,"column":1272},"end":{"line":1,"column":1273}},"loc":{"start":{"line":1,"column":1285},"end":{"line":1,"column":1348}},"line":1},"2":{"name":"_objectSpread","decl":{"start":{"line":1,"column":1402},"end":{"line":1,"column":1415}},"loc":{"start":{"line":1,"column":1423},"end":{"line":1,"column":1846}},"line":1},"3":{"name":"(anonymous_3)","decl":{"start":{"line":1,"column":1539},"end":{"line":1,"column":1540}},"loc":{"start":{"line":1,"column":1552},"end":{"line":1,"column":1606}},"line":1},"4":{"name":"(anonymous_4)","decl":{"start":{"line":1,"column":1738},"end":{"line":1,"column":1739}},"loc":{"start":{"line":1,"column":1751},"end":{"line":1,"column":1830}},"line":1},"5":{"name":"getVal","decl":{"start":{"line":1,"column":1855},"end":{"line":1,"column":1861}},"loc":{"start":{"line":1,"column":1888},"end":{"line":1,"column":2046}},"line":1},"6":{"name":"isLoaded","decl":{"start":{"line":40,"column":12},"end":{"line":40,"column":20}},"loc":{"start":{"line":40,"column":22},"end":{"line":40,"column":236}},"line":40},"7":{"name":"(anonymous_7)","decl":{"start":{"line":40,"column":160},"end":{"line":40,"column":161}},"loc":{"start":{"line":40,"column":173},"end":{"line":40,"column":234}},"line":40},"8":{"name":"isEmpty","decl":{"start":{"line":78,"column":12},"end":{"line":78,"column":19}},"loc":{"start":{"line":78,"column":21},"end":{"line":78,"column":238}},"line":78},"9":{"name":"(anonymous_9)","decl":{"start":{"line":78,"column":166},"end":{"line":78,"column":167}},"loc":{"start":{"line":78,"column":179},"end":{"line":78,"column":236}},"line":78},"10":{"name":"fixPath","decl":{"start":{"line":83,"column":12},"end":{"line":83,"column":19}},"loc":{"start":{"line":83,"column":25},"end":{"line":83,"column":72}},"line":83},"11":{"name":"buildChildList","decl":{"start":{"line":90,"column":12},"end":{"line":90,"column":26}},"loc":{"start":{"line":90,"column":40},"end":{"line":94,"column":3}},"line":90},"12":{"name":"(anonymous_12)","decl":{"start":{"line":90,"column":76},"end":{"line":90,"column":77}},"loc":{"start":{"line":90,"column":93},"end":{"line":94,"column":1}},"line":90},"13":{"name":"populateChild","decl":{"start":{"line":102,"column":12},"end":{"line":102,"column":25}},"loc":{"start":{"line":102,"column":40},"end":{"line":108,"column":83}},"line":102},"14":{"name":"populate","decl":{"start":{"line":134,"column":12},"end":{"line":134,"column":20}},"loc":{"start":{"line":134,"column":54},"end":{"line":154,"column":1}},"line":134},"15":{"name":"(anonymous_15)","decl":{"start":{"line":142,"column":24},"end":{"line":142,"column":25}},"loc":{"start":{"line":142,"column":39},"end":{"line":142,"column":144}},"line":142},"16":{"name":"(anonymous_16)","decl":{"start":{"line":142,"column":47},"end":{"line":142,"column":48}},"loc":{"start":{"line":142,"column":60},"end":{"line":142,"column":143}},"line":142},"17":{"name":"(anonymous_17)","decl":{"start":{"line":142,"column":92},"end":{"line":142,"column":93}},"loc":{"start":{"line":142,"column":106},"end":{"line":142,"column":141}},"line":142},"18":{"name":"(anonymous_18)","decl":{"start":{"line":142,"column":204},"end":{"line":142,"column":205}},"loc":{"start":{"line":142,"column":222},"end":{"line":142,"column":282}},"line":142},"19":{"name":"(anonymous_19)","decl":{"start":{"line":144,"column":39},"end":{"line":144,"column":40}},"loc":{"start":{"line":144,"column":53},"end":{"line":144,"column":294}},"line":144},"20":{"name":"(anonymous_20)","decl":{"start":{"line":144,"column":128},"end":{"line":144,"column":129}},"loc":{"start":{"line":144,"column":139},"end":{"line":144,"column":180}},"line":144},"21":{"name":"(anonymous_21)","decl":{"start":{"line":144,"column":189},"end":{"line":144,"column":190}},"loc":{"start":{"line":144,"column":204},"end":{"line":144,"column":245}},"line":144},"22":{"name":"(anonymous_22)","decl":{"start":{"line":146,"column":62},"end":{"line":146,"column":63}},"loc":{"start":{"line":146,"column":73},"end":{"line":146,"column":112}},"line":146},"23":{"name":"(anonymous_23)","decl":{"start":{"line":147,"column":50},"end":{"line":147,"column":51}},"loc":{"start":{"line":147,"column":61},"end":{"line":147,"column":97}},"line":147},"24":{"name":"(anonymous_24)","decl":{"start":{"line":147,"column":106},"end":{"line":147,"column":107}},"loc":{"start":{"line":147,"column":121},"end":{"line":147,"column":162}},"line":147},"25":{"name":"(anonymous_25)","decl":{"start":{"line":147,"column":230},"end":{"line":147,"column":231}},"loc":{"start":{"line":147,"column":254},"end":{"line":151,"column":1}},"line":147},"26":{"name":"(anonymous_26)","decl":{"start":{"line":148,"column":224},"end":{"line":148,"column":225}},"loc":{"start":{"line":148,"column":235},"end":{"line":148,"column":275}},"line":148},"27":{"name":"(anonymous_27)","decl":{"start":{"line":150,"column":89},"end":{"line":150,"column":90}},"loc":{"start":{"line":150,"column":100},"end":{"line":150,"column":137}},"line":150},"28":{"name":"(anonymous_28)","decl":{"start":{"line":150,"column":139},"end":{"line":150,"column":140}},"loc":{"start":{"line":150,"column":154},"end":{"line":150,"column":195}},"line":150}},"branchMap":{"0":{"loc":{"start":{"line":1,"column":1150},"end":{"line":1,"column":1381}},"type":"if","locations":[{"start":{"line":1,"column":1150},"end":{"line":1,"column":1381}},{"start":{"line":1,"column":1150},"end":{"line":1,"column":1381}}],"line":1},"1":{"loc":{"start":{"line":1,"column":1232},"end":{"line":1,"column":1350}},"type":"binary-expr","locations":[{"start":{"line":1,"column":1232},"end":{"line":1,"column":1246}},{"start":{"line":1,"column":1249},"end":{"line":1,"column":1349}}],"line":1},"2":{"loc":{"start":{"line":1,"column":1473},"end":{"line":1,"column":1507}},"type":"cond-expr","locations":[{"start":{"line":1,"column":1492},"end":{"line":1,"column":1494}},{"start":{"line":1,"column":1495},"end":{"line":1,"column":1507}}],"line":1},"3":{"loc":{"start":{"line":1,"column":1508},"end":{"line":1,"column":1831}},"type":"cond-expr","locations":[{"start":{"line":1,"column":1512},"end":{"line":1,"column":1607}},{"start":{"line":1,"column":1608},"end":{"line":1,"column":1831}}],"line":1},"4":{"loc":{"start":{"line":1,"column":1608},"end":{"line":1,"column":1831}},"type":"cond-expr","locations":[{"start":{"line":1,"column":1641},"end":{"line":1,"column":1713}},{"start":{"line":1,"column":1714},"end":{"line":1,"column":1831}}],"line":1},"5":{"loc":{"start":{"line":1,"column":1889},"end":{"line":1,"column":1921}},"type":"if","locations":[{"start":{"line":1,"column":1889},"end":{"line":1,"column":1921}},{"start":{"line":1,"column":1889},"end":{"line":1,"column":1921}}],"line":1},"6":{"loc":{"start":{"line":40,"column":127},"end":{"line":40,"column":235}},"type":"binary-expr","locations":[{"start":{"line":40,"column":127},"end":{"line":40,"column":147}},{"start":{"line":40,"column":149},"end":{"line":40,"column":235}}],"line":40},"7":{"loc":{"start":{"line":40,"column":129},"end":{"line":40,"column":146}},"type":"binary-expr","locations":[{"start":{"line":40,"column":129},"end":{"line":40,"column":133}},{"start":{"line":40,"column":135},"end":{"line":40,"column":146}}],"line":40},"8":{"loc":{"start":{"line":40,"column":181},"end":{"line":40,"column":233}},"type":"binary-expr","locations":[{"start":{"line":40,"column":181},"end":{"line":40,"column":193}},{"start":{"line":40,"column":195},"end":{"line":40,"column":233}}],"line":40},"9":{"loc":{"start":{"line":78,"column":134},"end":{"line":78,"column":237}},"type":"binary-expr","locations":[{"start":{"line":78,"column":134},"end":{"line":78,"column":154}},{"start":{"line":78,"column":156},"end":{"line":78,"column":237}}],"line":78},"10":{"loc":{"start":{"line":78,"column":136},"end":{"line":78,"column":153}},"type":"binary-expr","locations":[{"start":{"line":78,"column":136},"end":{"line":78,"column":140}},{"start":{"line":78,"column":142},"end":{"line":78,"column":153}}],"line":78},"11":{"loc":{"start":{"line":78,"column":186},"end":{"line":78,"column":235}},"type":"binary-expr","locations":[{"start":{"line":78,"column":186},"end":{"line":78,"column":217}},{"start":{"line":78,"column":219},"end":{"line":78,"column":235}}],"line":78},"12":{"loc":{"start":{"line":78,"column":188},"end":{"line":78,"column":216}},"type":"binary-expr","locations":[{"start":{"line":78,"column":188},"end":{"line":78,"column":191}},{"start":{"line":78,"column":193},"end":{"line":78,"column":216}}],"line":78},"13":{"loc":{"start":{"line":83,"column":33},"end":{"line":83,"column":65}},"type":"cond-expr","locations":[{"start":{"line":83,"column":59},"end":{"line":83,"column":61}},{"start":{"line":83,"column":62},"end":{"line":83,"column":65}}],"line":83},"14":{"loc":{"start":{"line":91,"column":0},"end":{"line":91,"column":41}},"type":"binary-expr","locations":[{"start":{"line":91,"column":1},"end":{"line":91,"column":9}},{"start":{"line":91,"column":11},"end":{"line":91,"column":26}},{"start":{"line":91,"column":30},"end":{"line":91,"column":40}}],"line":91},"15":{"loc":{"start":{"line":92,"column":73},"end":{"line":92,"column":113}},"type":"binary-expr","locations":[{"start":{"line":92,"column":73},"end":{"line":92,"column":85}},{"start":{"line":92,"column":87},"end":{"line":92,"column":113}}],"line":92},"16":{"loc":{"start":{"line":93,"column":6},"end":{"line":93,"column":240}},"type":"cond-expr","locations":[{"start":{"line":93,"column":47},"end":{"line":93,"column":203}},{"start":{"line":93,"column":204},"end":{"line":93,"column":240}}],"line":93},"17":{"loc":{"start":{"line":93,"column":47},"end":{"line":93,"column":203}},"type":"cond-expr","locations":[{"start":{"line":93,"column":57},"end":{"line":93,"column":162}},{"start":{"line":93,"column":163},"end":{"line":93,"column":203}}],"line":93},"18":{"loc":{"start":{"line":93,"column":204},"end":{"line":93,"column":240}},"type":"cond-expr","locations":[{"start":{"line":93,"column":230},"end":{"line":93,"column":233}},{"start":{"line":93,"column":234},"end":{"line":93,"column":240}}],"line":93},"19":{"loc":{"start":{"line":93,"column":204},"end":{"line":93,"column":229}},"type":"binary-expr","locations":[{"start":{"line":93,"column":204},"end":{"line":93,"column":212}},{"start":{"line":93,"column":214},"end":{"line":93,"column":229}}],"line":93},"20":{"loc":{"start":{"line":103,"column":46},"end":{"line":103,"column":79}},"type":"if","locations":[{"start":{"line":103,"column":46},"end":{"line":103,"column":79}},{"start":{"line":103,"column":46},"end":{"line":103,"column":79}}],"line":103},"21":{"loc":{"start":{"line":103,"column":49},"end":{"line":103,"column":66}},"type":"binary-expr","locations":[{"start":{"line":103,"column":49},"end":{"line":103,"column":55}},{"start":{"line":103,"column":57},"end":{"line":103,"column":66}}],"line":103},"22":{"loc":{"start":{"line":104,"column":0},"end":{"line":107,"column":1}},"type":"if","locations":[{"start":{"line":104,"column":0},"end":{"line":107,"column":1}},{"start":{"line":104,"column":0},"end":{"line":107,"column":1}}],"line":104},"23":{"loc":{"start":{"line":104,"column":3},"end":{"line":104,"column":56}},"type":"binary-expr","locations":[{"start":{"line":104,"column":3},"end":{"line":104,"column":28}},{"start":{"line":104,"column":30},"end":{"line":104,"column":56}}],"line":104},"24":{"loc":{"start":{"line":106,"column":38},"end":{"line":106,"column":78}},"type":"binary-expr","locations":[{"start":{"line":106,"column":38},"end":{"line":106,"column":50}},{"start":{"line":106,"column":52},"end":{"line":106,"column":78}}],"line":106},"25":{"loc":{"start":{"line":106,"column":172},"end":{"line":106,"column":334}},"type":"cond-expr","locations":[{"start":{"line":106,"column":184},"end":{"line":106,"column":328}},{"start":{"line":106,"column":329},"end":{"line":106,"column":334}}],"line":106},"26":{"loc":{"start":{"line":106,"column":205},"end":{"line":106,"column":226}},"type":"binary-expr","locations":[{"start":{"line":106,"column":205},"end":{"line":106,"column":217}},{"start":{"line":106,"column":219},"end":{"line":106,"column":226}}],"line":106},"27":{"loc":{"start":{"line":106,"column":227},"end":{"line":106,"column":327}},"type":"cond-expr","locations":[{"start":{"line":106,"column":237},"end":{"line":106,"column":315}},{"start":{"line":106,"column":316},"end":{"line":106,"column":327}}],"line":106},"28":{"loc":{"start":{"line":108,"column":27},"end":{"line":108,"column":48}},"type":"binary-expr","locations":[{"start":{"line":108,"column":27},"end":{"line":108,"column":39}},{"start":{"line":108,"column":41},"end":{"line":108,"column":48}}],"line":108},"29":{"loc":{"start":{"line":134,"column":109},"end":{"line":134,"column":230}},"type":"cond-expr","locations":[{"start":{"line":134,"column":161},"end":{"line":134,"column":220}},{"start":{"line":134,"column":221},"end":{"line":134,"column":230}}],"line":134},"30":{"loc":{"start":{"line":137,"column":0},"end":{"line":137,"column":49}},"type":"if","locations":[{"start":{"line":137,"column":0},"end":{"line":137,"column":49}},{"start":{"line":137,"column":0},"end":{"line":137,"column":49}}],"line":137},"31":{"loc":{"start":{"line":137,"column":3},"end":{"line":137,"column":29}},"type":"binary-expr","locations":[{"start":{"line":137,"column":3},"end":{"line":137,"column":9}},{"start":{"line":137,"column":11},"end":{"line":137,"column":29}}],"line":137},"32":{"loc":{"start":{"line":138,"column":0},"end":{"line":138,"column":27}},"type":"if","locations":[{"start":{"line":138,"column":0},"end":{"line":138,"column":27}},{"start":{"line":138,"column":0},"end":{"line":138,"column":27}}],"line":138},"33":{"loc":{"start":{"line":139,"column":51},"end":{"line":140,"column":10}},"type":"cond-expr","locations":[{"start":{"line":139,"column":80},"end":{"line":139,"column":116}},{"start":{"line":140,"column":1},"end":{"line":140,"column":10}}],"line":139},"34":{"loc":{"start":{"line":140,"column":12},"end":{"line":145,"column":1}},"type":"if","locations":[{"start":{"line":140,"column":12},"end":{"line":145,"column":1}},{"start":{"line":140,"column":12},"end":{"line":145,"column":1}}],"line":140},"35":{"loc":{"start":{"line":144,"column":7},"end":{"line":144,"column":300}},"type":"cond-expr","locations":[{"start":{"line":144,"column":30},"end":{"line":144,"column":295}},{"start":{"line":144,"column":296},"end":{"line":144,"column":300}}],"line":144},"36":{"loc":{"start":{"line":147,"column":7},"end":{"line":151,"column":7}},"type":"cond-expr","locations":[{"start":{"line":147,"column":29},"end":{"line":147,"column":168}},{"start":{"line":147,"column":169},"end":{"line":151,"column":7}}],"line":147},"37":{"loc":{"start":{"line":147,"column":169},"end":{"line":151,"column":7}},"type":"cond-expr","locations":[{"start":{"line":147,"column":201},"end":{"line":151,"column":2}},{"start":{"line":151,"column":3},"end":{"line":151,"column":7}}],"line":147},"38":{"loc":{"start":{"line":148,"column":8},"end":{"line":148,"column":49}},"type":"cond-expr","locations":[{"start":{"line":148,"column":31},"end":{"line":148,"column":40}},{"start":{"line":148,"column":41},"end":{"line":148,"column":49}}],"line":148},"39":{"loc":{"start":{"line":148,"column":101},"end":{"line":148,"column":160}},"type":"cond-expr","locations":[{"start":{"line":148,"column":130},"end":{"line":148,"column":150}},{"start":{"line":148,"column":151},"end":{"line":148,"column":160}}],"line":148},"40":{"loc":{"start":{"line":150,"column":7},"end":{"line":150,"column":208}},"type":"cond-expr","locations":[{"start":{"line":150,"column":29},"end":{"line":150,"column":202}},{"start":{"line":150,"column":203},"end":{"line":150,"column":208}}],"line":150}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1,"13":1,"14":1,"15":1,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":3,"29":1,"30":2,"31":2,"32":2,"33":3,"34":3,"35":3,"36":3,"37":3,"38":3,"39":2,"40":2,"41":2,"42":2,"43":2,"44":2,"45":2,"46":2,"47":2,"48":48,"49":87,"50":87,"51":87,"52":87,"53":87,"54":87,"55":87,"56":107,"57":107,"58":7,"59":100,"60":52,"61":52,"62":52,"63":52,"64":52,"65":52,"66":48,"67":38,"68":38,"69":38,"70":38,"71":38,"72":2,"73":36,"74":2,"75":34,"76":34,"77":3,"78":4,"79":4,"80":4,"81":3,"82":4,"83":3,"84":2,"85":2,"86":2,"87":3,"88":3,"89":2,"90":31,"91":34,"92":31,"93":10,"94":10,"95":97,"96":97,"97":97,"98":92,"99":97,"100":94,"101":94},"f":{"0":0,"1":0,"2":0,"3":0,"4":0,"5":3,"6":3,"7":2,"8":2,"9":2,"10":2,"11":48,"12":87,"13":107,"14":38,"15":4,"16":4,"17":4,"18":4,"19":2,"20":3,"21":3,"22":34,"23":10,"24":10,"25":97,"26":92,"27":94,"28":94},"b":{"0":[0,0],"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[1,2],"6":[3,2],"7":[3,3],"8":[2,1],"9":[2,2],"10":[2,2],"11":[2,2],"12":[2,2],"13":[1,1],"14":[87,8,83],"15":[87,16],"16":[46,41],"17":[0,46],"18":[37,4],"19":[41,6],"20":[7,100],"21":[107,107],"22":[52,48],"23":[100,48],"24":[52,6],"25":[42,10],"26":[42,37],"27":[0,42],"28":[48,48],"29":[29,9],"30":[2,36],"31":[38,37],"32":[2,34],"33":[2,32],"34":[3,31],"35":[2,1],"36":[10,21],"37":[20,1],"38":[2,95],"39":[5,92],"40":[69,28]},"inputSourceMap":{"version":3,"sources":["helpers.js"],"names":["getVal","firebase","path","notSetValue","dotPath","valueAtPath","isLoaded","args","length","every","arg","isEmpty","some","fixPath","substring","buildChildList","state","list","p","val","key","getKey","populateByKey","dotRoot","root","pathArr","childParam","push","pathString","join","data","keyProp","populateChild","child","childVal","String","split","filter","Boolean","populateVal","childAlias","populate","populates","splitPath","indexOf","populatesForData","slice","Array","isArray","someArrayItemHasKey","array","item","dataHasPopulateChilds","map","dataValue","value","populatedValue","reduce","acc","v","childKey","populatesForDataItem","obj"],"mappings":"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","sourceRoot":"/Users/scott/Dev/Code/react-redux-firebase/src","sourcesContent":["import {\n  size,\n  set,\n  get,\n  has,\n  map,\n  mapValues,\n  reduce,\n  defaultsDeep,\n  some\n} from 'lodash'\nimport { topLevelPaths } from './constants'\nimport { getPopulateObjs } from './utils/populate'\nimport { getDotStrPath } from './utils/reducers'\n\n/**\n * **Deprecated** - This helper will be removed in future versions. Please\n * use object destructuring or utilities from other libraries such as\n * [lodash's get](https://lodash.com/docs/4.17.15#get).\n * Get a value from firebase using slash notation. This enables an easy\n * migration from v1's dataToJS/pathToJS/populatedDataToJS functions to v2 syntax\n * **NOTE:** Setting a default value will cause `isLoaded` to always return true\n * @param {object} firebase - Firebase instance (state.firebase)\n * @param {string} path - Path of parameter to load\n * @param {any} notSetValue - Value to return if value is not\n * found in redux. This will cause `isLoaded` to always return true (since\n * value is set from the start).\n * @returns {any} Data located at path within firebase.\n * @example <caption>Basic</caption>\n * import { compose } from 'redux'\n * import { connect } from 'react-redux'\n * import { firebaseConnect, getVal } from 'react-redux-firebase'\n *\n * const enhance = compose(\n *   firebaseConnect(['todos/user1']),\n *   connect(({ firebase }) => ({\n *     // this.props.todos loaded from state.firebase.data.todos\n *     todos: getVal(firebase, 'data/todos/user1')\n *   }))\n * )\n * export default enhance(SomeComponent)\n * @example <caption>Base Paths</caption>\n * import { connect } from 'react-redux'\n * import { firebaseConnect, getVal } from 'react-redux-firebase'\n *\n * export default connect(({ firebase }) => ({\n *   // this.props.auth loaded from state.firebase.auth\n *   auth: getVal(firebase, 'auth'),\n *   profile: getVal(firebase, 'profile')\n * })(SomeComponent)\n * @example <caption>Default Value</caption>\n * import { compose } from 'redux'\n * import { connect } from 'react-redux'\n * import { firebaseConnect, getVal } from 'react-redux-firebase'\n *\n * const defaultValue = {\n *  1: {\n *    text: 'Example Todo'\n *  }\n * }\n *\n * const enhance = compose(\n *   firebaseConnect(['todos/user1']),\n *   connect(({ firebase }) => ({\n *     // this.props.todos loaded from state.firebase.data.todos\n *     todos: getVal(firebase, 'data/todos/user1', defaultValue)\n *   }))\n * )\n *\n * export default enhance(SomeComponent)\n */\nexport function getVal(firebase, path, notSetValue) {\n  if (!firebase) {\n    return notSetValue\n  }\n\n  const dotPath = getDotStrPath(path)\n  const valueAtPath = get(firebase, dotPath, notSetValue)\n\n  return valueAtPath\n}\n\n/**\n * Detect whether data from redux state is loaded yet or not\n * @param {...object} args - Items to check loaded status of. A comma separated\n * list is also acceptable.\n * @returns {boolean} Whether or not item is loaded\n * @example\n * import React from 'react'\n * import PropTypes from 'prop-types'\n * import { compose } from 'redux'\n * import { connect } from 'react-redux'\n * import firebaseConnect from 'react-redux-firebase/lib/firebaseConnect'\n * import { isLoaded, isEmpty } from 'react-redux-firebase/lib/utils'\n *\n * const enhance = compose(\n *   firebaseConnect(['todos']),\n *   connect(({ firebase: { data: { todos } } }) => ({\n *     todos // state.firebase.data.todos from redux passed as todos prop\n *   }))\n * )\n *\n * function Todos({ todos }) {\n *   // Message for if todos are loading\n *   if (!isLoaded(todos)) {\n *     return <span>Loading...</span>\n *   }\n *\n *   // Message if todos are empty\n *   if (isEmpty(todos)) {\n *     return <span>No Todos Found</span>\n *   }\n *\n *   return <div><pre>{JSON.stringify(todos, null, 2)}</pre></div>\n * }\n *\n * Todos.propTypes = {\n *   todos: PropTypes.object\n * }\n *\n * export default enhance(Todos)\n */\nexport function isLoaded(...args) {\n  return !args || !args.length\n    ? true\n    : args.every(arg => arg !== undefined && get(arg, 'isLoaded') !== false)\n}\n\n/**\n * Detect whether items are empty or not\n * @param {object} args - Item to check loaded status of. A comma seperated list\n * is also acceptable.\n * @returns {boolean} Whether or not item is empty\n * @example\n * import React from 'react'\n * import PropTypes from 'prop-types'\n * import { compose } from 'redux'\n * import { connect } from 'react-redux'\n * import { firebaseConnect, isEmpty, isLoaded } from 'react-redux-firebase'\n *\n * const enhance = compose(\n *   firebaseConnect(['todos']),\n *   connect(({ firebase: { data: { todos } } }) => ({\n *     todos // state.firebase.data.todos from redux passed as todos prop\n *   }))\n * )\n *\n * function Todos({ todos }) {\n *   // Message for if todos are loading\n *   if (!isLoaded(todos)) {\n *     return <span>Loading...</span>\n *   }\n *\n *   // Message if todos are empty\n *   if (isEmpty(todos)) {\n *     return <span>No Todos Found</span>\n *   }\n *\n *   return <todos>{JSON.stringify(todos)}</todos>\n * }\n *\n * Todos.propTypes = {\n *   todos: PropTypes.object\n * }\n *\n * export default enhance(Todos)\n */\nexport function isEmpty(...args) {\n  return !args || !args.length\n    ? true\n    : args.some(arg => !(arg && size(arg)) || arg.isEmpty === true)\n}\n\n/**\n * @description Fix path by adding \"/\" to path if needed\n * @param {string} path - Path string to fix\n * @returns {string} - Fixed path\n * @private\n */\nexport function fixPath(path) {\n  return (path.substring(0, 1) === '/' ? '' : '/') + path\n}\n\n/**\n * @private\n * Build child list based on populate config\n * @param {object} state - Firebase state object\n * @param {object} list - Path of parameter to load\n * @param {object} p - Object with population settings\n * @returns {object} List of child objects\n */\nfunction buildChildList(state, list, p) {\n  return mapValues(list, (val, key) => {\n    let getKey = val\n    // Handle key: true lists\n    if (val === true || p.populateByKey) {\n      getKey = key\n    }\n    // Allow for aliasing populated data see #126 for more details\n    const dotRoot = getDotStrPath(p.root)\n    const pathArr = [dotRoot, getKey]\n\n    // Handle child param\n    if (p.childParam) {\n      pathArr.push(p.childParam)\n    }\n\n    const pathString = pathArr.join('.')\n\n    // Set to child under key if populate child exists\n    if (get(state.data, pathString)) {\n      return p.keyProp\n        ? { [p.keyProp]: getKey, ...get(state.data, pathString) }\n        : get(state.data, pathString)\n    }\n    // Populate child does not exist\n    return val === true || p.populateByKey ? val : getKey\n  })\n}\n\n/**\n * @private\n * Populate a child based on config. Handles list population\n * by making use of buildChildList.\n * @param {object} state - Firebase state object\n * @param {object} child - Path of parameter to load\n * @param {object} p - Object with population settings\n * @returns {object} Populated child object\n */\nfunction populateChild(state, child, p) {\n  // no matching child parameter\n  const childVal = get(child, p.child)\n  if (!child || !childVal) {\n    return null\n  }\n  // populate child is key\n  if (typeof childVal === 'string' || childVal instanceof String) {\n    // attach child paramter if it exists\n    const dotRoot = p.root\n      .split('/')\n      .filter(Boolean) // Drop falsey values (compact)\n      .join('.')\n    const pathArr = [dotRoot, childVal]\n\n    // Handle child param\n    if (p.childParam) {\n      pathArr.push(p.childParam)\n    }\n\n    const pathString = pathArr.join('.')\n\n    const populateVal = get(state.data, pathString)\n    if (populateVal) {\n      return set(\n        {},\n        p.childAlias || p.child,\n        p.keyProp ? { [p.keyProp]: childVal, ...populateVal } : populateVal\n      )\n    }\n    // matching child does not exist\n    return child\n  }\n  // populate child list\n  return set({}, p.childAlias || p.child, buildChildList(state, childVal, p))\n}\n\n/**\n * Populate with data from multiple locations of redux state.\n * @param {object} state - Firebase state object (state.firebase in redux store)\n * @param {string} path - Path of parameter to load\n * @param {Array} populates - Array of populate config objects\n * @param {object|string|boolean} notSetValue - Value to return if value is not found\n * @returns {object} Data located at path within Immutable Object\n * @example <caption>Basic</caption>\n * import { compose } from 'redux'\n * import { connect } from 'react-redux'\n * import { firebaseConnect } from 'react-redux-firebase'\n * const populates = [{ child: 'owner', root: 'users' }]\n *\n * const enhance = compose(\n *   firebaseConnect([\n *     { path: 'todos', populates } // load \"todos\" and matching \"users\" to redux\n *   ]),\n *   connect((state) => ({\n *     // this.props.todos loaded from state.firebase.data.todos\n *     // each todo has child 'owner' populated from matching uid in 'users' root\n *     // for loading un-populated todos use state.firebase.data.todos\n *     todos: populate(state.firebase, 'todos', populates),\n *   }))\n * )\n *\n * export default enhance(SomeComponent)\n */\nexport function populate(state, path, populates, notSetValue) {\n  const splitPath = path.split('/').filter(Boolean) // Drop falsey values (compact)\n  // append 'data' prefix to path if it is not a top level path\n  const pathArr =\n    topLevelPaths.indexOf(splitPath[0]) === -1\n      ? ['data', ...splitPath]\n      : splitPath\n  const dotPath = pathArr.join('.')\n  // Gather data from top level if path is profile (handles populating profile)\n  const data = get(state, dotPath, notSetValue)\n\n  // Return notSetValue for undefined child\n  if (!state || data === notSetValue) {\n    return notSetValue\n  }\n  // Return null for null child\n  if (data === null) {\n    return null\n  }\n\n  // check for if data is single object or a list of objects\n  const populatesForData = getPopulateObjs(\n    typeof populates === 'function'\n      ? populates(pathArr.slice(-1)[0], data) // pass last slice in path\n      : populates\n  )\n\n  if (Array.isArray(data)) {\n    // When using a path in ordered, data will be an array instead of an object\n    // and data is located at the `value` prop\n    const someArrayItemHasKey = array => key =>\n      some(array, item => has(item, key))\n\n    // Check items within the list to see if value exists for some populate parameters\n    const dataHasPopulateChilds = some(populatesForData, populate =>\n      someArrayItemHasKey(data)(['value', populate.child])\n    )\n\n    // Populate if populate children exist\n    if (dataHasPopulateChilds) {\n      return data.map(({ key, value: dataValue }) => {\n        const populatedValue = populatesForData\n          .map(p => populateChild(state, dataValue, p))\n          .reduce((acc, v) => defaultsDeep(v, acc), dataValue)\n\n        return {\n          key,\n          value: populatedValue\n        }\n      })\n    }\n\n    // return unpopulated data if no populates have values\n    return data\n  }\n\n  // check each populate child parameter for existence\n  const dataHasPopulateChilds = some(populatesForData, p => has(data, p.child))\n\n  // Single object that contains at least one child parameter\n  if (dataHasPopulateChilds) {\n    return populatesForData\n      .map(p => populateChild(state, data, p))\n      .reduce((acc, v) => defaultsDeep(v, acc), data)\n  }\n\n  // Return for profile since it is a single object (following is for a list of objects)\n  // TODO: Improve this logic to allow for other paths containing profile\n  if (pathArr.indexOf('profile') !== -1) {\n    return data\n  }\n\n  // Data is a map of objects, each value has parameters to be populated\n  return mapValues(data, (child, childKey) => {\n    // use child's key if doing ordered populate\n    const key = pathArr[0] === 'ordered' ? child.key : childKey\n    // get populate settings on item level (passes child if populates is a function)\n    const populatesForDataItem = getPopulateObjs(\n      typeof populates === 'function' ? populates(key, child) : populates\n    )\n    // confirm at least one populate value exists on child\n    const dataHasPopulateChilds = some(populatesForDataItem, p =>\n      has(child, p.child)\n    )\n    // return unmodified child if no populate params exist on child\n    if (!dataHasPopulateChilds) {\n      return child\n    }\n    // combine data from all populates to one object starting with original data\n    return reduce(\n      map(populatesForDataItem, p => populateChild(state, child, p)),\n      (obj, v) => defaultsDeep(v, obj),\n      child\n    )\n  })\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"44c56dcfdf03a389fb51028d5ceb6879b4a2c5c0","contentHash":"ed52f47a7837dc69e18d61ad272967f3820893237b96c160c34e8d2b944b78fa"},"/Users/scott/Dev/Code/react-redux-firebase/src/utils/populate.js":{"path":"/Users/scott/Dev/Code/react-redux-firebase/src/utils/populate.js","statementMap":{"0":{"start":{"line":1,"column":40},"end":{"line":1,"column":95}},"1":{"start":{"line":1,"column":96},"end":{"line":1,"column":421}},"2":{"start":{"line":1,"column":432},"end":{"line":1,"column":478}},"3":{"start":{"line":1,"column":485},"end":{"line":1,"column":530}},"4":{"start":{"line":1,"column":537},"end":{"line":1,"column":582}},"5":{"start":{"line":1,"column":593},"end":{"line":1,"column":642}},"6":{"start":{"line":1,"column":649},"end":{"line":1,"column":694}},"7":{"start":{"line":1,"column":701},"end":{"line":1,"column":746}},"8":{"start":{"line":1,"column":758},"end":{"line":1,"column":808}},"9":{"start":{"line":1,"column":818},"end":{"line":1,"column":866}},"10":{"start":{"line":1,"column":874},"end":{"line":1,"column":892}},"11":{"start":{"line":1,"column":922},"end":{"line":1,"column":962}},"12":{"start":{"line":1,"column":951},"end":{"line":1,"column":962}},"13":{"start":{"line":1,"column":975},"end":{"line":1,"column":989}},"14":{"start":{"line":2,"column":0},"end":{"line":2,"column":42}},"15":{"start":{"line":7,"column":32},"end":{"line":7,"column":149}},"16":{"start":{"line":12,"column":33},"end":{"line":12,"column":136}},"17":{"start":{"line":12,"column":79},"end":{"line":12,"column":130}},"18":{"start":{"line":17,"column":52},"end":{"line":17,"column":228}},"19":{"start":{"line":17,"column":101},"end":{"line":17,"column":185}},"20":{"start":{"line":17,"column":204},"end":{"line":17,"column":226}},"21":{"start":{"line":18,"column":0},"end":{"line":18,"column":58}},"22":{"start":{"line":26,"column":51},"end":{"line":27,"column":13}},"23":{"start":{"line":26,"column":165},"end":{"line":27,"column":11}},"24":{"start":{"line":35,"column":50},"end":{"line":36,"column":213}},"25":{"start":{"line":36,"column":16},"end":{"line":36,"column":52}},"26":{"start":{"line":36,"column":53},"end":{"line":36,"column":210}},"27":{"start":{"line":36,"column":119},"end":{"line":36,"column":208}},"28":{"start":{"line":45,"column":18},"end":{"line":45,"column":20}},"29":{"start":{"line":45,"column":29},"end":{"line":45,"column":31}},"30":{"start":{"line":45,"column":49},"end":{"line":45,"column":142}},"31":{"start":{"line":45,"column":165},"end":{"line":45,"column":274}},"32":{"start":{"line":45,"column":220},"end":{"line":45,"column":272}},"33":{"start":{"line":46,"column":0},"end":{"line":53,"column":64}},"34":{"start":{"line":46,"column":80},"end":{"line":46,"column":450}},"35":{"start":{"line":46,"column":252},"end":{"line":46,"column":353}},"36":{"start":{"line":48,"column":25},"end":{"line":48,"column":102}},"37":{"start":{"line":49,"column":0},"end":{"line":53,"column":2}},"38":{"start":{"line":50,"column":13},"end":{"line":50,"column":41}},"39":{"start":{"line":51,"column":0},"end":{"line":51,"column":343}},"40":{"start":{"line":51,"column":120},"end":{"line":51,"column":205}},"41":{"start":{"line":53,"column":48},"end":{"line":53,"column":62}}},"fnMap":{"0":{"name":"getPopulateObj","decl":{"start":{"line":1,"column":902},"end":{"line":1,"column":916}},"loc":{"start":{"line":1,"column":921},"end":{"line":2,"column":43}},"line":1},"1":{"name":"getChildType","decl":{"start":{"line":7,"column":12},"end":{"line":7,"column":24}},"loc":{"start":{"line":7,"column":31},"end":{"line":7,"column":150}},"line":7},"2":{"name":"getPopulateObjs","decl":{"start":{"line":12,"column":12},"end":{"line":12,"column":27}},"loc":{"start":{"line":12,"column":32},"end":{"line":12,"column":137}},"line":12},"3":{"name":"(anonymous_3)","decl":{"start":{"line":12,"column":67},"end":{"line":12,"column":68}},"loc":{"start":{"line":12,"column":78},"end":{"line":12,"column":131}},"line":12},"4":{"name":"getPopulates","decl":{"start":{"line":17,"column":12},"end":{"line":17,"column":24}},"loc":{"start":{"line":17,"column":37},"end":{"line":18,"column":59}},"line":17},"5":{"name":"(anonymous_5)","decl":{"start":{"line":17,"column":85},"end":{"line":17,"column":86}},"loc":{"start":{"line":17,"column":100},"end":{"line":17,"column":186}},"line":17},"6":{"name":"(anonymous_6)","decl":{"start":{"line":17,"column":192},"end":{"line":17,"column":193}},"loc":{"start":{"line":17,"column":203},"end":{"line":17,"column":227}},"line":17},"7":{"name":"getPopulateChild","decl":{"start":{"line":26,"column":12},"end":{"line":26,"column":28}},"loc":{"start":{"line":26,"column":50},"end":{"line":27,"column":14}},"line":26},"8":{"name":"(anonymous_8)","decl":{"start":{"line":26,"column":150},"end":{"line":26,"column":151}},"loc":{"start":{"line":26,"column":164},"end":{"line":27,"column":12}},"line":26},"9":{"name":"populateList","decl":{"start":{"line":35,"column":12},"end":{"line":35,"column":24}},"loc":{"start":{"line":35,"column":49},"end":{"line":36,"column":214}},"line":35},"10":{"name":"(anonymous_10)","decl":{"start":{"line":35,"column":146},"end":{"line":35,"column":147}},"loc":{"start":{"line":35,"column":167},"end":{"line":36,"column":211}},"line":35},"11":{"name":"(anonymous_11)","decl":{"start":{"line":36,"column":106},"end":{"line":36,"column":107}},"loc":{"start":{"line":36,"column":118},"end":{"line":36,"column":209}},"line":36},"12":{"name":"promisesForPopulate","decl":{"start":{"line":44,"column":12},"end":{"line":44,"column":31}},"loc":{"start":{"line":44,"column":74},"end":{"line":53,"column":65}},"line":44},"13":{"name":"(anonymous_13)","decl":{"start":{"line":45,"column":201},"end":{"line":45,"column":202}},"loc":{"start":{"line":45,"column":219},"end":{"line":45,"column":273}},"line":45},"14":{"name":"(anonymous_14)","decl":{"start":{"line":46,"column":68},"end":{"line":46,"column":69}},"loc":{"start":{"line":46,"column":79},"end":{"line":47,"column":1}},"line":46},"15":{"name":"(anonymous_15)","decl":{"start":{"line":46,"column":240},"end":{"line":46,"column":241}},"loc":{"start":{"line":46,"column":251},"end":{"line":46,"column":354}},"line":46},"16":{"name":"(anonymous_16)","decl":{"start":{"line":47,"column":38},"end":{"line":47,"column":39}},"loc":{"start":{"line":47,"column":53},"end":{"line":53,"column":3}},"line":47},"17":{"name":"(anonymous_17)","decl":{"start":{"line":49,"column":43},"end":{"line":49,"column":44}},"loc":{"start":{"line":49,"column":54},"end":{"line":53,"column":1}},"line":49},"18":{"name":"(anonymous_18)","decl":{"start":{"line":51,"column":108},"end":{"line":51,"column":109}},"loc":{"start":{"line":51,"column":119},"end":{"line":51,"column":206}},"line":51},"19":{"name":"(anonymous_19)","decl":{"start":{"line":53,"column":37},"end":{"line":53,"column":38}},"loc":{"start":{"line":53,"column":47},"end":{"line":53,"column":63}},"line":53}},"branchMap":{"0":{"loc":{"start":{"line":1,"column":922},"end":{"line":1,"column":962}},"type":"if","locations":[{"start":{"line":1,"column":922},"end":{"line":1,"column":962}},{"start":{"line":1,"column":922},"end":{"line":1,"column":962}}],"line":1},"1":{"loc":{"start":{"line":7,"column":38},"end":{"line":7,"column":149}},"type":"cond-expr","locations":[{"start":{"line":7,"column":65},"end":{"line":7,"column":73}},{"start":{"line":7,"column":74},"end":{"line":7,"column":149}}],"line":7},"2":{"loc":{"start":{"line":7,"column":74},"end":{"line":7,"column":149}},"type":"cond-expr","locations":[{"start":{"line":7,"column":95},"end":{"line":7,"column":102}},{"start":{"line":7,"column":103},"end":{"line":7,"column":149}}],"line":7},"3":{"loc":{"start":{"line":7,"column":103},"end":{"line":7,"column":149}},"type":"cond-expr","locations":[{"start":{"line":7,"column":133},"end":{"line":7,"column":141}},{"start":{"line":7,"column":142},"end":{"line":7,"column":149}}],"line":7},"4":{"loc":{"start":{"line":12,"column":40},"end":{"line":12,"column":136}},"type":"cond-expr","locations":[{"start":{"line":12,"column":59},"end":{"line":12,"column":132}},{"start":{"line":12,"column":133},"end":{"line":12,"column":136}}],"line":12},"5":{"loc":{"start":{"line":12,"column":85},"end":{"line":12,"column":130}},"type":"cond-expr","locations":[{"start":{"line":12,"column":111},"end":{"line":12,"column":112}},{"start":{"line":12,"column":113},"end":{"line":12,"column":130}}],"line":12},"6":{"loc":{"start":{"line":17,"column":107},"end":{"line":17,"column":185}},"type":"binary-expr","locations":[{"start":{"line":17,"column":107},"end":{"line":17,"column":137}},{"start":{"line":17,"column":139},"end":{"line":17,"column":168}},{"start":{"line":17,"column":170},"end":{"line":17,"column":185}}],"line":17},"7":{"loc":{"start":{"line":18,"column":7},"end":{"line":18,"column":58}},"type":"cond-expr","locations":[{"start":{"line":18,"column":24},"end":{"line":18,"column":53}},{"start":{"line":18,"column":54},"end":{"line":18,"column":58}}],"line":18},"8":{"loc":{"start":{"line":35,"column":57},"end":{"line":35,"column":110}},"type":"binary-expr","locations":[{"start":{"line":35,"column":57},"end":{"line":35,"column":72}},{"start":{"line":35,"column":74},"end":{"line":35,"column":110}}],"line":35},"9":{"loc":{"start":{"line":36,"column":16},"end":{"line":36,"column":52}},"type":"cond-expr","locations":[{"start":{"line":36,"column":41},"end":{"line":36,"column":49}},{"start":{"line":36,"column":50},"end":{"line":36,"column":52}}],"line":36},"10":{"loc":{"start":{"line":36,"column":16},"end":{"line":36,"column":40}},"type":"binary-expr","locations":[{"start":{"line":36,"column":16},"end":{"line":36,"column":23}},{"start":{"line":36,"column":25},"end":{"line":36,"column":40}}],"line":36},"11":{"loc":{"start":{"line":36,"column":126},"end":{"line":36,"column":208}},"type":"cond-expr","locations":[{"start":{"line":36,"column":129},"end":{"line":36,"column":200}},{"start":{"line":36,"column":201},"end":{"line":36,"column":208}}],"line":36},"12":{"loc":{"start":{"line":45,"column":65},"end":{"line":45,"column":141}},"type":"cond-expr","locations":[{"start":{"line":45,"column":96},"end":{"line":45,"column":129}},{"start":{"line":45,"column":130},"end":{"line":45,"column":141}}],"line":45},"13":{"loc":{"start":{"line":46,"column":7},"end":{"line":53,"column":4}},"type":"cond-expr","locations":[{"start":{"line":46,"column":29},"end":{"line":47,"column":2}},{"start":{"line":47,"column":3},"end":{"line":53,"column":4}}],"line":46},"14":{"loc":{"start":{"line":46,"column":86},"end":{"line":46,"column":449}},"type":"cond-expr","locations":[{"start":{"line":46,"column":147},"end":{"line":46,"column":356}},{"start":{"line":46,"column":357},"end":{"line":46,"column":449}}],"line":46},"15":{"loc":{"start":{"line":46,"column":252},"end":{"line":46,"column":353}},"type":"binary-expr","locations":[{"start":{"line":46,"column":252},"end":{"line":46,"column":253}},{"start":{"line":46,"column":255},"end":{"line":46,"column":353}}],"line":46},"16":{"loc":{"start":{"line":48,"column":40},"end":{"line":48,"column":101}},"type":"cond-expr","locations":[{"start":{"line":48,"column":71},"end":{"line":48,"column":89}},{"start":{"line":48,"column":90},"end":{"line":48,"column":101}}],"line":48},"17":{"loc":{"start":{"line":51,"column":7},"end":{"line":51,"column":342}},"type":"cond-expr","locations":[{"start":{"line":51,"column":16},"end":{"line":51,"column":335}},{"start":{"line":51,"column":336},"end":{"line":51,"column":342}}],"line":51},"18":{"loc":{"start":{"line":51,"column":16},"end":{"line":51,"column":335}},"type":"cond-expr","locations":[{"start":{"line":51,"column":46},"end":{"line":51,"column":208}},{"start":{"line":51,"column":209},"end":{"line":51,"column":335}}],"line":51},"19":{"loc":{"start":{"line":51,"column":127},"end":{"line":51,"column":197}},"type":"binary-expr","locations":[{"start":{"line":51,"column":127},"end":{"line":51,"column":128}},{"start":{"line":51,"column":130},"end":{"line":51,"column":197}}],"line":51},"20":{"loc":{"start":{"line":51,"column":209},"end":{"line":51,"column":335}},"type":"cond-expr","locations":[{"start":{"line":51,"column":267},"end":{"line":51,"column":328}},{"start":{"line":51,"column":329},"end":{"line":51,"column":335}}],"line":51},"21":{"loc":{"start":{"line":51,"column":209},"end":{"line":51,"column":266}},"type":"binary-expr","locations":[{"start":{"line":51,"column":209},"end":{"line":51,"column":232}},{"start":{"line":51,"column":234},"end":{"line":51,"column":266}}],"line":51}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":11,"12":6,"13":5,"14":5,"15":4,"16":146,"17":165,"18":5,"19":5,"20":3,"21":5,"22":11,"23":11,"24":5,"25":8,"26":8,"27":8,"28":12,"29":12,"30":12,"31":12,"32":28,"33":12,"34":4,"35":1,"36":5,"37":5,"38":4,"39":4,"40":1,"41":12},"f":{"0":11,"1":4,"2":146,"3":165,"4":5,"5":5,"6":3,"7":11,"8":11,"9":5,"10":8,"11":8,"12":12,"13":28,"14":4,"15":1,"16":5,"17":4,"18":1,"19":12},"b":{"0":[6,5],"1":[1,3],"2":[1,2],"3":[1,1],"4":[141,5],"5":[164,1],"6":[5,2,0],"7":[3,2],"8":[5,4],"9":[6,2],"10":[8,2],"11":[4,4],"12":[0,12],"13":[3,9],"14":[1,3],"15":[1,1],"16":[0,5],"17":[3,1],"18":[1,2],"19":[1,1],"20":[2,0],"21":[2,1]},"inputSourceMap":{"version":3,"sources":["populate.js"],"names":["getPopulateObj","str","strArray","split","child","root","getChildType","Array","isArray","getPopulateObjs","arr","map","o","getPopulates","queryParams","populates","param","indexOf","p","length","getPopulateChild","firebase","populate","id","database","ref","once","then","snap","val","populateList","list","results","Promise","all","childKey","populateKey","populateByKey","pc","promisesForPopulate","dataKey","originalData","populatesIn","promisesArray","populatesForData","dataHasPopulateChilds","push","v","d","key","populatesForDataItem","idOrList"],"mappings":"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","sourceRoot":"/Users/scott/Dev/Code/react-redux-firebase/src/utils","sourcesContent":["import { filter, isObject, map, get, forEach, set, has, some } from 'lodash'\nimport { isString } from './index'\n\n/**\n * @private\n * Create standardized populate object from strings or objects\n * @param {string|object} str - String or Object to standardize into populate object\n * @returns {object} Populate object\n */\nexport function getPopulateObj(str) {\n  if (!isString(str)) {\n    return str\n  }\n  const strArray = str.split(':')\n  // TODO: Handle childParam\n  return { child: strArray[0], root: strArray[1] }\n}\n\n/**\n * @private\n * Determine the structure of the child parameter to populate onto\n * @param {string|object} child - Value at child parameter\n * @returns {string} Type of child\n */\nexport function getChildType(child) {\n  if (isString(child)) {\n    return 'string'\n  }\n  if (Array.isArray(child)) {\n    return 'array'\n  }\n  if (isObject(child)) {\n    return 'object'\n  }\n  return 'other'\n}\n\n/**\n * @private\n * Create standardized populate object from strings or objects\n * @param {string|object} arr - String or Object to standardize into populate object\n * @returns {Array} List of populate objects\n */\nexport function getPopulateObjs(arr) {\n  if (!Array.isArray(arr)) {\n    return arr\n  }\n  return arr.map(o => (isObject(o) ? o : getPopulateObj(o)))\n}\n\n/**\n * @private\n * Get array of populates from list of query params\n * @param {Array} queryParams - Query parameters from which to get populates\n * @returns {Array} Array of populate settings\n */\nexport function getPopulates(queryParams) {\n  const populates = filter(\n    queryParams,\n    param =>\n      param.indexOf('populate') !== -1 || (isObject(param) && param.populates)\n  ).map(p => p.split('=')[1])\n  // No populates\n  if (!populates.length) {\n    return null\n  }\n  return populates.map(getPopulateObj)\n}\n\n/**\n * @private\n * Create an array of promises for population of an object or list\n * @param {object} firebase - Internal firebase object\n * @param {object} populate - Object containing root to be populate\n * @param {object} populate.root - Firebase root path from which to load populate item\n * @param {string} id - String id\n * @returns {Promise} Resolves with populate child\n */\nexport function getPopulateChild(firebase, populate, id) {\n  return firebase\n    .database()\n    .ref()\n    .child(`${populate.root}/${id}`)\n    .once('value')\n    .then(snap =>\n      // Return id if population value does not exist\n      snap.val()\n    )\n}\n\n/**\n * @private\n * Populate list of data\n * @param {object} firebase - Internal firebase object\n * @param {object} list - Object to have parameter populated\n * @param {object} p - Object containing populate information\n * @param {object} results - Object containing results of population from other populates\n * @returns {Promise} Resovles with populated list\n */\nexport function populateList(firebase, list, p, results) {\n  // Handle root not being defined\n  if (!results[p.root]) {\n    set(results, p.root, {})\n  }\n  return Promise.all(\n    map(list, (id, childKey) => {\n      // handle list of keys\n      const populateKey = id === true || p.populateByKey ? childKey : id\n      return getPopulateChild(firebase, p, populateKey).then(pc => {\n        if (pc) {\n          // write child to result object under root name if it is found\n          return set(results, `${p.root}.${populateKey}`, pc)\n        }\n        return results\n      })\n    })\n  )\n}\n\n/**\n * @private\n * Create an array of promises for population of an object or list\n * @param {object} firebase - Internal firebase object\n * @param {string} dataKey - Object to have parameter populated\n * @param {object} originalData - Data before population\n * @param {Function|object} populatesIn - Populate configs or function returning configs\n * @returns {Promise} Promise which resolves after populate data is loaded\n */\nexport function promisesForPopulate(\n  firebase,\n  dataKey,\n  originalData,\n  populatesIn\n) {\n  // TODO: Handle selecting of parameter to populate with (i.e. displayName of users/user)\n  let promisesArray = []\n  let results = {}\n\n  // test if data is a single object, try generating populates and looking for the child\n  const populatesForData = getPopulateObjs(\n    typeof populatesIn === 'function'\n      ? populatesIn(dataKey, originalData)\n      : populatesIn\n  )\n\n  const dataHasPopulateChilds = some(populatesForData, populate =>\n    has(originalData, populate.child)\n  )\n\n  if (dataHasPopulateChilds) {\n    // Data is a single object, resolve populates directly\n    forEach(populatesForData, p => {\n      if (isString(get(originalData, p.child))) {\n        return promisesArray.push(\n          getPopulateChild(firebase, p, get(originalData, p.child)).then(v => {\n            // write child to result object under root name if it is found\n            if (v) {\n              set(results, `${p.root}.${get(originalData, p.child)}`, v)\n            }\n          })\n        )\n      }\n\n      // Single Parameter is list\n      return promisesArray.push(\n        populateList(firebase, get(originalData, p.child), p, results)\n      )\n    })\n  } else {\n    // Data is a list of objects, each value has parameters to be populated\n    // { '1': {someobject}, '2': {someobject} }\n    forEach(originalData, (d, key) => {\n      // generate populates for this data item if a fn was passed\n      const populatesForDataItem = getPopulateObj(\n        typeof populatesIn === 'function' ? populatesIn(key, d) : populatesIn\n      )\n\n      // resolve each populate for this data item\n      forEach(populatesForDataItem, p => {\n        // get value of parameter to be populated (key or list of keys)\n        const idOrList = get(d, p.child)\n\n        // Parameter/child of list item does not exist\n        if (!idOrList) {\n          return\n        }\n\n        // Parameter of each list item is single ID\n        if (isString(idOrList)) {\n          return promisesArray.push(\n            getPopulateChild(firebase, p, idOrList).then(v => {\n              // write child to result object under root name if it is found\n              if (v) {\n                set(results, `${p.root}.${idOrList}`, v)\n              }\n              return results\n            })\n          )\n        }\n\n        // Parameter of each list item is a list of ids\n        if (Array.isArray(idOrList) || isObject(idOrList)) {\n          // Create single promise that includes a promise for each child\n          return promisesArray.push(\n            populateList(firebase, idOrList, p, results)\n          )\n        }\n      })\n    })\n  }\n\n  // Return original data after population promises run\n  return Promise.all(promisesArray).then(() => results)\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"e952297723fe8707d17abf93313ba87f4f6704bc","contentHash":"0ceefb26edc4e0d37b09c9b4a2863643f4cbe4eb877275aec069fe92281df235"},"/Users/scott/Dev/Code/react-redux-firebase/src/utils/index.js":{"path":"/Users/scott/Dev/Code/react-redux-firebase/src/utils/index.js","statementMap":{"0":{"start":{"line":1,"column":40},"end":{"line":1,"column":95}},"1":{"start":{"line":1,"column":96},"end":{"line":1,"column":449}},"2":{"start":{"line":1,"column":412},"end":{"line":1,"column":445}},"3":{"start":{"line":1,"column":462},"end":{"line":1,"column":510}},"4":{"start":{"line":1,"column":518},"end":{"line":1,"column":564}},"5":{"start":{"line":1,"column":575},"end":{"line":1,"column":624}},"6":{"start":{"line":1,"column":636},"end":{"line":1,"column":686}},"7":{"start":{"line":1,"column":695},"end":{"line":1,"column":714}},"8":{"start":{"line":1,"column":745},"end":{"line":1,"column":808}},"9":{"start":{"line":6,"column":30},"end":{"line":6,"column":84}},"10":{"start":{"line":12,"column":49},"end":{"line":12,"column":73}},"11":{"start":{"line":12,"column":74},"end":{"line":12,"column":130}},"12":{"start":{"line":18,"column":38},"end":{"line":18,"column":148}},"13":{"start":{"line":23,"column":51},"end":{"line":23,"column":121}},"14":{"start":{"line":28,"column":34},"end":{"line":28,"column":91}},"15":{"start":{"line":28,"column":101},"end":{"line":28,"column":158}},"16":{"start":{"line":28,"column":166},"end":{"line":28,"column":168}},"17":{"start":{"line":28,"column":169},"end":{"line":28,"column":454}},"18":{"start":{"line":28,"column":227},"end":{"line":28,"column":308}},"19":{"start":{"line":28,"column":274},"end":{"line":28,"column":306}},"20":{"start":{"line":28,"column":368},"end":{"line":28,"column":445}},"21":{"start":{"line":28,"column":411},"end":{"line":28,"column":443}}},"fnMap":{"0":{"name":"get","decl":{"start":{"line":1,"column":406},"end":{"line":1,"column":409}},"loc":{"start":{"line":1,"column":411},"end":{"line":1,"column":446}},"line":1},"1":{"name":"isString","decl":{"start":{"line":1,"column":724},"end":{"line":1,"column":732}},"loc":{"start":{"line":1,"column":744},"end":{"line":1,"column":809}},"line":1},"2":{"name":"createCallable","decl":{"start":{"line":6,"column":12},"end":{"line":6,"column":26}},"loc":{"start":{"line":6,"column":29},"end":{"line":6,"column":85}},"line":6},"3":{"name":"invokeArrayQuery","decl":{"start":{"line":12,"column":12},"end":{"line":12,"column":28}},"loc":{"start":{"line":12,"column":37},"end":{"line":12,"column":131}},"line":12},"4":{"name":"getDisplayName","decl":{"start":{"line":18,"column":12},"end":{"line":18,"column":26}},"loc":{"start":{"line":18,"column":37},"end":{"line":18,"column":149}},"line":18},"5":{"name":"wrapDisplayName","decl":{"start":{"line":23,"column":12},"end":{"line":23,"column":27}},"loc":{"start":{"line":23,"column":50},"end":{"line":23,"column":122}},"line":23},"6":{"name":"getChanges","decl":{"start":{"line":28,"column":12},"end":{"line":28,"column":22}},"loc":{"start":{"line":28,"column":24},"end":{"line":28,"column":455}},"line":28},"7":{"name":"(anonymous_7)","decl":{"start":{"line":28,"column":215},"end":{"line":28,"column":216}},"loc":{"start":{"line":28,"column":226},"end":{"line":28,"column":309}},"line":28},"8":{"name":"(anonymous_8)","decl":{"start":{"line":28,"column":262},"end":{"line":28,"column":263}},"loc":{"start":{"line":28,"column":273},"end":{"line":28,"column":307}},"line":28},"9":{"name":"(anonymous_9)","decl":{"start":{"line":28,"column":356},"end":{"line":28,"column":357}},"loc":{"start":{"line":28,"column":367},"end":{"line":28,"column":446}},"line":28},"10":{"name":"(anonymous_10)","decl":{"start":{"line":28,"column":399},"end":{"line":28,"column":400}},"loc":{"start":{"line":28,"column":410},"end":{"line":28,"column":444}},"line":28}},"branchMap":{"0":{"loc":{"start":{"line":1,"column":751},"end":{"line":1,"column":808}},"type":"binary-expr","locations":[{"start":{"line":1,"column":751},"end":{"line":1,"column":778}},{"start":{"line":1,"column":780},"end":{"line":1,"column":808}}],"line":1},"1":{"loc":{"start":{"line":6,"column":36},"end":{"line":6,"column":84}},"type":"cond-expr","locations":[{"start":{"line":6,"column":57},"end":{"line":6,"column":58}},{"start":{"line":6,"column":59},"end":{"line":6,"column":84}}],"line":6},"2":{"loc":{"start":{"line":12,"column":81},"end":{"line":12,"column":130}},"type":"cond-expr","locations":[{"start":{"line":12,"column":103},"end":{"line":12,"column":109}},{"start":{"line":12,"column":110},"end":{"line":12,"column":130}}],"line":12},"3":{"loc":{"start":{"line":12,"column":110},"end":{"line":12,"column":130}},"type":"cond-expr","locations":[{"start":{"line":12,"column":117},"end":{"line":12,"column":125}},{"start":{"line":12,"column":126},"end":{"line":12,"column":130}}],"line":12},"4":{"loc":{"start":{"line":18,"column":44},"end":{"line":18,"column":148}},"type":"cond-expr","locations":[{"start":{"line":18,"column":71},"end":{"line":18,"column":80}},{"start":{"line":18,"column":81},"end":{"line":18,"column":148}}],"line":18},"5":{"loc":{"start":{"line":18,"column":81},"end":{"line":18,"column":148}},"type":"cond-expr","locations":[{"start":{"line":18,"column":91},"end":{"line":18,"column":141}},{"start":{"line":18,"column":142},"end":{"line":18,"column":148}}],"line":18},"6":{"loc":{"start":{"line":18,"column":91},"end":{"line":18,"column":141}},"type":"binary-expr","locations":[{"start":{"line":18,"column":91},"end":{"line":18,"column":112}},{"start":{"line":18,"column":114},"end":{"line":18,"column":128}},{"start":{"line":18,"column":130},"end":{"line":18,"column":141}}],"line":18},"7":{"loc":{"start":{"line":28,"column":34},"end":{"line":28,"column":91}},"type":"cond-expr","locations":[{"start":{"line":28,"column":76},"end":{"line":28,"column":88}},{"start":{"line":28,"column":89},"end":{"line":28,"column":91}}],"line":28},"8":{"loc":{"start":{"line":28,"column":34},"end":{"line":28,"column":75}},"type":"binary-expr","locations":[{"start":{"line":28,"column":34},"end":{"line":28,"column":52}},{"start":{"line":28,"column":54},"end":{"line":28,"column":75}}],"line":28},"9":{"loc":{"start":{"line":28,"column":101},"end":{"line":28,"column":158}},"type":"cond-expr","locations":[{"start":{"line":28,"column":143},"end":{"line":28,"column":155}},{"start":{"line":28,"column":156},"end":{"line":28,"column":158}}],"line":28},"10":{"loc":{"start":{"line":28,"column":101},"end":{"line":28,"column":142}},"type":"binary-expr","locations":[{"start":{"line":28,"column":101},"end":{"line":28,"column":119}},{"start":{"line":28,"column":121},"end":{"line":28,"column":142}}],"line":28}},"s":{"0":1,"1":1,"2":50,"3":1,"4":1,"5":1,"6":1,"7":1,"8":173,"9":38,"10":15,"11":15,"12":63,"13":63,"14":9,"15":9,"16":9,"17":9,"18":9,"19":2,"20":3,"21":2},"f":{"0":50,"1":173,"2":38,"3":15,"4":63,"5":63,"6":9,"7":9,"8":2,"9":3,"10":2},"b":{"0":[173,15],"1":[22,16],"2":[2,13],"3":[12,1],"4":[6,57],"5":[57,0],"6":[57,57,6],"7":[9,0],"8":[9,9],"9":[3,6],"10":[9,9]},"inputSourceMap":{"version":3,"sources":["index.js"],"names":["isString","varToCheck","String","createCallable","f","invokeArrayQuery","props","result","Array","isArray","getDisplayName","Component","displayName","name","wrapDisplayName","BaseComponent","hocName","getChanges","data","prevData","added","d","p","removed"],"mappings":"2sBAQO,QAASA,CAAAA,QAAT,CAAkBC,UAAlB,CAA8B,CACnC,MAA6B,QAAtB,QAAOA,CAAAA,UAAP,EAAkCA,UAAU,WAAYC,CAAAA,MAChE,CAED;;;;;GAMO,QAASC,CAAAA,cAAT,CAAwBC,CAAxB,CAA2B,CAChC,MAAoB,UAAb,QAAOA,CAAAA,CAAP,CAA0BA,CAA1B,CAA8B,uBAASA,CAAT,CACtC,CAED;;;;;;GAOO,QAASC,CAAAA,gBAAT,CAA0BD,CAA1B,CAA6BE,KAA7B,CAAoC,CACzC,GAAMC,CAAAA,MAAM,CAAGJ,cAAc,CAACC,CAAD,CAAd,CAAkBE,KAAlB,CAAf,CADyC,MAErCE,CAAAA,KAAK,CAACC,OAAN,CAAcF,MAAd,CAFqC,CAGhCA,MAHgC,CAKpCA,MALoC,CAQlC,CAACA,MAAD,CARkC,CAMhC,IAGV,CAED;;;;;;GAOA,QAASG,CAAAA,cAAT,CAAwBC,SAAxB,CAAmC,OACR,QAArB,QAAOA,CAAAA,SADsB,CAExBA,SAFwB,CAK5BA,SAL4B,CAS1BA,SAAS,CAACC,WAAV,EAAyBD,SAAS,CAACE,IAAnC,EAA2C,WATjB,OAUlC,CAED;;;;;GAMO,QAASC,CAAAA,eAAT,CAAyBC,aAAzB,CAAwCC,OAAxC,CAAiD,CACtD,gBAAUA,OAAV,aAAqBN,cAAc,CAACK,aAAD,CAAnC,KACD,CAED;;;;;GAMO,QAASE,CAAAA,UAAT,EAA8C,IAA1BC,CAAAA,IAA0B,wDAAnB,EAAmB,CAAfC,QAAe,wDAAJ,EAAI,CAC7CZ,MAAM,CAAG,EADoC,CAInD,MAFAA,CAAAA,MAAM,CAACa,KAAP,CAAe,qBAAOF,IAAP,CAAa,SAAAG,CAAC,QAAI,CAAC,mBAAKF,QAAL,CAAe,SAAAG,CAAC,QAAI,sBAAQD,CAAR,CAAWC,CAAX,CAAJ,CAAhB,CAAL,CAAd,CAEf,CADAf,MAAM,CAACgB,OAAP,CAAiB,qBAAOJ,QAAP,CAAiB,SAAAG,CAAC,QAAI,CAAC,mBAAKJ,IAAL,CAAW,SAAAG,CAAC,QAAI,sBAAQC,CAAR,CAAWD,CAAX,CAAJ,CAAZ,CAAL,CAAlB,CACjB,CAAOd,MACR","sourceRoot":"/Users/scott/Dev/Code/react-redux-firebase/src/utils","sourcesContent":["import { constant, isEqual, some, filter } from 'lodash'\nexport { getEventsFromInput } from './events'\n\n/**\n * Check to see if a variable is a string\n * @param {any} varToCheck - Variable to check for type string\n * @returns {boolean} Whether or not the provided value is a string\n */\nexport function isString(varToCheck) {\n  return typeof varToCheck === 'string' || varToCheck instanceof String\n}\n\n/**\n * @private\n * Create a function if not already one\n * @param {Function|object|Array|string} f function or value of return for new function\n * @returns {any} Callable\n */\nexport function createCallable(f) {\n  return typeof f === 'function' ? f : constant(f)\n}\n\n/**\n * Invoke function or handle existing array to create array\n * query settings\n * @param {any} f - Function or array of queries\n * @param {object} props - Component props\n * @returns {Array|null} Array of query settings\n */\nexport function invokeArrayQuery(f, props) {\n  const result = createCallable(f)(props)\n  if (Array.isArray(result)) {\n    return result\n  }\n  if (!result) {\n    return null\n  }\n  return [result]\n}\n\n/**\n * Get the displayName field of a component falling\n * back to name field then finally to \"component\".\n * @param {React.Component} Component - Component from\n * which to get displayName\n * @returns {string} Display name of component\n */\nfunction getDisplayName(Component) {\n  if (typeof Component === 'string') {\n    return Component\n  }\n\n  if (!Component) {\n    return undefined\n  }\n\n  return Component.displayName || Component.name || 'Component'\n}\n\n/**\n * Get provided react component's display name and wrap with with a passed name.\n * @param {React.Component} BaseComponent - Component from which to get name to wrap\n * @param {string} hocName - Name of wrapping hoc\n * @returns {string} Wrapped display name for component\n */\nexport function wrapDisplayName(BaseComponent, hocName) {\n  return `${hocName}(${getDisplayName(BaseComponent)})`\n}\n\n/**\n * Get changes between two query settings arrays\n * @param {Array} data - Query settings array\n * @param {Array} prevData - Previous query settings array\n * @returns {object} Object containing added and removed value changes\n */\nexport function getChanges(data = [], prevData = []) {\n  const result = {}\n  result.added = filter(data, d => !some(prevData, p => isEqual(d, p)))\n  result.removed = filter(prevData, p => !some(data, d => isEqual(p, d)))\n  return result\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"69b79f5da47a64c18f9ffda5773cea8a7c83ab6e","contentHash":"3621f93babd840bdc056cfb823958d97add476943d7e61a7b4e83dd6821ba0ad"},"/Users/scott/Dev/Code/react-redux-firebase/src/utils/events.js":{"path":"/Users/scott/Dev/Code/react-redux-firebase/src/utils/events.js","statementMap":{"0":{"start":{"line":1,"column":40},"end":{"line":1,"column":95}},"1":{"start":{"line":1,"column":96},"end":{"line":1,"column":254}},"2":{"start":{"line":1,"column":267},"end":{"line":1,"column":315}},"3":{"start":{"line":1,"column":327},"end":{"line":1,"column":377}},"4":{"start":{"line":1,"column":388},"end":{"line":1,"column":437}},"5":{"start":{"line":1,"column":448},"end":{"line":1,"column":469}},"6":{"start":{"line":1,"column":477},"end":{"line":1,"column":495}},"7":{"start":{"line":1,"column":536},"end":{"line":1,"column":571}},"8":{"start":{"line":1,"column":580},"end":{"line":1,"column":615}},"9":{"start":{"line":2,"column":0},"end":{"line":2,"column":396}},"10":{"start":{"line":2,"column":26},"end":{"line":2,"column":41}},"11":{"start":{"line":2,"column":42},"end":{"line":2,"column":395}},"12":{"start":{"line":2,"column":360},"end":{"line":2,"column":392}},"13":{"start":{"line":3,"column":0},"end":{"line":3,"column":14}},"14":{"start":{"line":7,"column":38},"end":{"line":10,"column":613}},"15":{"start":{"line":8,"column":0},"end":{"line":8,"column":76}},"16":{"start":{"line":8,"column":49},"end":{"line":8,"column":76}},"17":{"start":{"line":8,"column":76},"end":{"line":10,"column":182}},"18":{"start":{"line":10,"column":0},"end":{"line":10,"column":182}},"19":{"start":{"line":10,"column":182},"end":{"line":10,"column":506}},"20":{"start":{"line":10,"column":215},"end":{"line":10,"column":302}},"21":{"start":{"line":10,"column":229},"end":{"line":10,"column":302}},"22":{"start":{"line":10,"column":314},"end":{"line":10,"column":323}},"23":{"start":{"line":10,"column":324},"end":{"line":10,"column":505}},"24":{"start":{"line":10,"column":506},"end":{"line":10,"column":611}},"25":{"start":{"line":10,"column":627},"end":{"line":10,"column":666}},"26":{"start":{"line":10,"column":667},"end":{"line":10,"column":692}}},"fnMap":{"0":{"name":"pathStrToObj","decl":{"start":{"line":1,"column":505},"end":{"line":1,"column":517}},"loc":{"start":{"line":1,"column":523},"end":{"line":3,"column":15}},"line":1},"1":{"name":"(anonymous_1)","decl":{"start":{"line":2,"column":348},"end":{"line":2,"column":349}},"loc":{"start":{"line":2,"column":359},"end":{"line":2,"column":393}},"line":2},"2":{"name":"getEventsFromInput","decl":{"start":{"line":7,"column":12},"end":{"line":7,"column":30}},"loc":{"start":{"line":7,"column":37},"end":{"line":10,"column":614}},"line":7},"3":{"name":"(anonymous_3)","decl":{"start":{"line":7,"column":72},"end":{"line":7,"column":73}},"loc":{"start":{"line":7,"column":86},"end":{"line":10,"column":612}},"line":7}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":0},"end":{"line":2,"column":396}},"type":"if","locations":[{"start":{"line":2,"column":0},"end":{"line":2,"column":396}},{"start":{"line":2,"column":0},"end":{"line":2,"column":396}}],"line":2},"1":{"loc":{"start":{"line":2,"column":159},"end":{"line":2,"column":395}},"type":"binary-expr","locations":[{"start":{"line":2,"column":159},"end":{"line":2,"column":210}},{"start":{"line":2,"column":213},"end":{"line":2,"column":394}}],"line":2},"2":{"loc":{"start":{"line":8,"column":0},"end":{"line":8,"column":76}},"type":"if","locations":[{"start":{"line":8,"column":0},"end":{"line":8,"column":76}},{"start":{"line":8,"column":0},"end":{"line":8,"column":76}}],"line":8},"3":{"loc":{"start":{"line":8,"column":3},"end":{"line":8,"column":48}},"type":"binary-expr","locations":[{"start":{"line":8,"column":3},"end":{"line":8,"column":24}},{"start":{"line":8,"column":26},"end":{"line":8,"column":48}}],"line":8},"4":{"loc":{"start":{"line":8,"column":76},"end":{"line":10,"column":182}},"type":"if","locations":[{"start":{"line":8,"column":76},"end":{"line":10,"column":182}},{"start":{"line":8,"column":76},"end":{"line":10,"column":182}}],"line":8},"5":{"loc":{"start":{"line":10,"column":182},"end":{"line":10,"column":506}},"type":"if","locations":[{"start":{"line":10,"column":182},"end":{"line":10,"column":506}},{"start":{"line":10,"column":182},"end":{"line":10,"column":506}}],"line":10},"6":{"loc":{"start":{"line":10,"column":215},"end":{"line":10,"column":302}},"type":"if","locations":[{"start":{"line":10,"column":215},"end":{"line":10,"column":302}},{"start":{"line":10,"column":215},"end":{"line":10,"column":302}}],"line":10},"7":{"loc":{"start":{"line":10,"column":331},"end":{"line":10,"column":380}},"type":"binary-expr","locations":[{"start":{"line":10,"column":331},"end":{"line":10,"column":343}},{"start":{"line":10,"column":346},"end":{"line":10,"column":379}}],"line":10},"8":{"loc":{"start":{"line":10,"column":381},"end":{"line":10,"column":448}},"type":"binary-expr","locations":[{"start":{"line":10,"column":381},"end":{"line":10,"column":397}},{"start":{"line":10,"column":400},"end":{"line":10,"column":447}}],"line":10}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":45,"8":45,"9":45,"10":2,"11":2,"12":1,"13":45,"14":59,"15":48,"16":43,"17":5,"18":1,"19":4,"20":3,"21":1,"22":2,"23":2,"24":1,"25":1,"26":1},"f":{"0":45,"1":1,"2":59,"3":48},"b":{"0":[2,43],"1":[2,1],"2":[43,5],"3":[48,5],"4":[1,4],"5":[3,1],"6":[1,2],"7":[2,0],"8":[2,1]},"inputSourceMap":{"version":3,"sources":["events.js"],"names":["pathStrToObj","path","pathObj","type","isQuery","queryId","pathArray","split","Object","assign","queryParams","populates","p","indexOf","getEventsFromInput","paths","String","Array","isArray","Error","strPath","storeAs","join"],"mappings":"gfASO,QAASA,CAAAA,YAAT,CAAsBC,IAAtB,CAA4B,IAC7BC,CAAAA,OAAO,CAAG,CAAED,IAAI,CAAJA,IAAF,CAAQE,IAAI,CAAE,OAAd,CAAuBC,OAAO,GAA9B,CADmB,CAE3BC,OAAO,CAAG,8BAAmBJ,IAAnB,CAFiB,CAGjC;AACA,GAAII,OAAJ,CAAa,CACX,GAAMC,CAAAA,SAAS,CAAGL,IAAI,CAACM,KAAL,CAAW,GAAX,CAAlB,CACAL,OAAO,CAAGM,MAAM,CAACC,MAAP,CAAc,EAAd,CAAkBP,OAAlB,CAA2B,CACnCG,OAAO,CAAPA,OADmC,CAEnCD,OAAO,GAF4B,CAGnCH,IAAI,CAAEK,SAAS,CAAC,CAAD,CAHoB,CAInCI,WAAW,CAAEJ,SAAS,CAAC,CAAD,CAAT,CAAaC,KAAb,CAAmB,GAAnB,CAJsB,CAA3B,CAFC,CAQP,2BAAaD,SAAS,CAAC,CAAD,CAAT,CAAaC,KAAb,CAAmB,GAAnB,CAAb,CARO,GASTL,OAAO,CAACS,SAAR,CAAoB,2BAAaL,SAAS,CAAC,CAAD,CAAT,CAAaC,KAAb,CAAmB,GAAnB,CAAb,CATX,CAUTL,OAAO,CAACQ,WAAR,CAAsB,qBACpBJ,SAAS,CAAC,CAAD,CAAT,CAAaC,KAAb,CAAmB,GAAnB,CADoB,CAEpB,SAAAK,CAAC,QAA8B,CAAC,CAA3B,GAAAA,CAAC,CAACC,OAAF,CAAU,UAAV,CAAJ,CAFmB,CAVb,CAeZ,CACD;AACA,MAAOX,CAAAA,OACR,CAED;;;;GAKO,QAASY,CAAAA,kBAAT,CAA4BC,KAA5B,CAAmC,CACxC,MAAO,sBAAQA,KAAR,CAAe,SAAAd,IAAI,CAAI,CAC5B;AACA,GAAoB,QAAhB,QAAOA,CAAAA,IAAP,EAA4BA,IAAI,WAAYe,CAAAA,MAAhD,CACE,MAAO,CAAChB,YAAY,CAACC,IAAD,CAAb,CAAP,CAGF,GAAIgB,KAAK,CAACC,OAAN,CAAcjB,IAAd,CAAJ,CACE;AACA;AACA,MAAO,CACL,CAAEE,IAAI,CAAE,aAAR,CAAuBF,IAAI,CAAEA,IAAI,CAAC,CAAD,CAAjC,CADK,CAEL,CAAEE,IAAI,CAAE,aAAR,CAAuBF,IAAI,CAAEA,IAAI,CAAC,CAAD,CAAjC,CAFK,CAGL,CAAEE,IAAI,CAAE,eAAR,CAAyBF,IAAI,CAAEA,IAAI,CAAC,CAAD,CAAnC,CAHK,CAIL,CAAEE,IAAI,CAAE,aAAR,CAAuBF,IAAI,CAAEA,IAAI,CAAC,CAAD,CAAjC,CAJK,CAKL,CAAEE,IAAI,CAAE,eAAR,CAAyBF,IAAI,CAAEA,IAAI,CAAC,CAAD,CAAnC,CALK,CAAP,CASF,GAAI,uBAASA,IAAT,CAAJ,CAAoB,CAClB,GAAI,CAACA,IAAI,CAACA,IAAV,CACE,KAAM,IAAIkB,CAAAA,KAAJ,CAAU,uDAAV,CAAN,CAEF,GAAIC,CAAAA,OAAO,CAAGnB,IAAI,CAACA,IAAnB,CAcA,MAZIA,CAAAA,IAAI,CAACoB,OAYT,GAVED,OAAO,aAAQnB,IAAI,CAACoB,OAAb,CAUT,EAPIpB,IAAI,CAACS,WAOT,GALEU,OAAO,aAAQnB,IAAI,CAACS,WAAL,CAAiBY,IAAjB,CAAsB,GAAtB,CAAR,CAKT,EADArB,IAAI,CAAGO,MAAM,CAACC,MAAP,CAAc,EAAd,CAAkBT,YAAY,CAACoB,OAAD,CAA9B,CAAyCnB,IAAzC,CACP,CAAO,CAACA,IAAD,CACR,CAED,KAAM,IAAIkB,CAAAA,KAAJ,oCACwBlB,IADxB,kDAGP,CA1CM,CA2CR,C,aAEc,CAAEa,kBAAkB,CAAlBA,kBAAF,C","sourceRoot":"/Users/scott/Dev/Code/react-redux-firebase/src/utils","sourcesContent":["import { flatMap, isObject, remove } from 'lodash'\nimport { getPopulates } from './populate'\nimport { getQueryIdFromPath } from './query'\n\n/**\n * @description Convert path string to object with queryParams, path, and populates\n * @param {string} path - Path that can contain query parameters and populates\n * @returns {object} watchEvents - Array of watch events\n */\nexport function pathStrToObj(path) {\n  let pathObj = { path, type: 'value', isQuery: false }\n  const queryId = getQueryIdFromPath(path)\n  // If Query id exists split params from path\n  if (queryId) {\n    const pathArray = path.split('#')\n    pathObj = Object.assign({}, pathObj, {\n      queryId,\n      isQuery: true,\n      path: pathArray[0],\n      queryParams: pathArray[1].split('&')\n    })\n    if (getPopulates(pathArray[1].split('&'))) {\n      pathObj.populates = getPopulates(pathArray[1].split('&'))\n      pathObj.queryParams = remove(\n        pathArray[1].split('&'),\n        p => p.indexOf('populate') === -1\n      )\n    }\n  }\n  // if queryId does not exist, return original pathObj\n  return pathObj\n}\n\n/**\n * @description Convert watch path definition array to watch events\n * @param {Array} paths - Array of path strings, objects, and arrays to watch\n * @returns {Array} watchEvents - Array of watch events\n */\nexport function getEventsFromInput(paths) {\n  return flatMap(paths, path => {\n    // If path is a string - convert to obj and place within new array\n    if (typeof path === 'string' || path instanceof String) {\n      return [pathStrToObj(path)]\n    }\n\n    if (Array.isArray(path)) {\n      // TODO: Handle input other than array with string\n      // TODO: Handle populates within array\n      return [\n        { type: 'first_child', path: path[0] },\n        { type: 'child_added', path: path[0] },\n        { type: 'child_removed', path: path[0] },\n        { type: 'child_moved', path: path[0] },\n        { type: 'child_changed', path: path[0] }\n      ]\n    }\n\n    if (isObject(path)) {\n      if (!path.path) {\n        throw new Error('Path is a required parameter within definition object')\n      }\n      let strPath = path.path\n\n      if (path.storeAs) {\n        // append storeAs to query path\n        strPath += `@${path.storeAs}`\n      }\n\n      if (path.queryParams) {\n        // append query params to path for queryId added in pathStrToObj\n        strPath += `#${path.queryParams.join('&')}`\n      }\n\n      // Add all parameters that are missing (ones that exist will remain)\n      path = Object.assign({}, pathStrToObj(strPath), path)\n      return [path]\n    }\n\n    throw new Error(\n      `Invalid Path Definition: ${path}. Only strings, objects, and arrays accepted.`\n    )\n  })\n}\n\nexport default { getEventsFromInput }\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"3f193162d54bb7b75d63c3785fd00d7e995c24f7","contentHash":"5738142ca94e854cd0b330685d8515999e48956a1fe0e653ba9e02f6bc08d3d4"},"/Users/scott/Dev/Code/react-redux-firebase/src/utils/query.js":{"path":"/Users/scott/Dev/Code/react-redux-firebase/src/utils/query.js","statementMap":{"0":{"start":{"line":1,"column":40},"end":{"line":1,"column":95}},"1":{"start":{"line":1,"column":96},"end":{"line":1,"column":477}},"2":{"start":{"line":1,"column":491},"end":{"line":1,"column":540}},"3":{"start":{"line":1,"column":549},"end":{"line":1,"column":596}},"4":{"start":{"line":1,"column":608},"end":{"line":1,"column":631}},"5":{"start":{"line":1,"column":642},"end":{"line":1,"column":663}},"6":{"start":{"line":1,"column":671},"end":{"line":1,"column":689}},"7":{"start":{"line":1,"column":734},"end":{"line":1,"column":740}},"8":{"start":{"line":1,"column":741},"end":{"line":1,"column":787}},"9":{"start":{"line":7,"column":37},"end":{"line":7,"column":113}},"10":{"start":{"line":7,"column":66},"end":{"line":7,"column":113}},"11":{"start":{"line":7,"column":113},"end":{"line":7,"column":193}},"12":{"start":{"line":14,"column":43},"end":{"line":14,"column":120}},"13":{"start":{"line":14,"column":73},"end":{"line":14,"column":120}},"14":{"start":{"line":14,"column":133},"end":{"line":14,"column":137}},"15":{"start":{"line":14,"column":151},"end":{"line":14,"column":166}},"16":{"start":{"line":14,"column":167},"end":{"line":14,"column":188}},"17":{"start":{"line":14,"column":200},"end":{"line":14,"column":221}},"18":{"start":{"line":14,"column":234},"end":{"line":14,"column":271}},"19":{"start":{"line":14,"column":280},"end":{"line":15,"column":94}},"20":{"start":{"line":14,"column":338},"end":{"line":14,"column":354}},"21":{"start":{"line":15,"column":0},"end":{"line":15,"column":55}},"22":{"start":{"line":15,"column":32},"end":{"line":15,"column":55}},"23":{"start":{"line":15,"column":77},"end":{"line":15,"column":85}},"24":{"start":{"line":15,"column":95},"end":{"line":15,"column":206}},"25":{"start":{"line":24,"column":68},"end":{"line":24,"column":133}},"26":{"start":{"line":24,"column":134},"end":{"line":24,"column":319}},"27":{"start":{"line":32,"column":64},"end":{"line":32,"column":129}},"28":{"start":{"line":32,"column":130},"end":{"line":32,"column":160}},"29":{"start":{"line":40,"column":70},"end":{"line":40,"column":135}},"30":{"start":{"line":40,"column":136},"end":{"line":40,"column":160}},"31":{"start":{"line":40,"column":173},"end":{"line":40,"column":192}},"32":{"start":{"line":40,"column":193},"end":{"line":40,"column":428}},"33":{"start":{"line":46,"column":65},"end":{"line":46,"column":67}},"34":{"start":{"line":46,"column":68},"end":{"line":46,"column":1396}},"35":{"start":{"line":46,"column":124},"end":{"line":46,"column":1388}},"36":{"start":{"line":46,"column":183},"end":{"line":46,"column":224}},"37":{"start":{"line":46,"column":224},"end":{"line":46,"column":230}},"38":{"start":{"line":46,"column":252},"end":{"line":46,"column":296}},"39":{"start":{"line":46,"column":296},"end":{"line":46,"column":302}},"40":{"start":{"line":46,"column":319},"end":{"line":46,"column":358}},"41":{"start":{"line":46,"column":358},"end":{"line":46,"column":364}},"42":{"start":{"line":46,"column":383},"end":{"line":46,"column":418}},"43":{"start":{"line":46,"column":418},"end":{"line":46,"column":424}},"44":{"start":{"line":46,"column":443},"end":{"line":46,"column":491}},"45":{"start":{"line":46,"column":491},"end":{"line":46,"column":497}},"46":{"start":{"line":46,"column":515},"end":{"line":46,"column":562}},"47":{"start":{"line":46,"column":562},"end":{"line":46,"column":568}},"48":{"start":{"line":46,"column":584},"end":{"line":46,"column":598}},"49":{"start":{"line":46,"column":598},"end":{"line":46,"column":604}},"50":{"start":{"line":46,"column":617},"end":{"line":46,"column":631}},"51":{"start":{"line":46,"column":631},"end":{"line":46,"column":637}},"52":{"start":{"line":46,"column":668},"end":{"line":46,"column":714}},"53":{"start":{"line":46,"column":715},"end":{"line":46,"column":955}},"54":{"start":{"line":46,"column":955},"end":{"line":46,"column":961}},"55":{"start":{"line":46,"column":992},"end":{"line":46,"column":1038}},"56":{"start":{"line":46,"column":1039},"end":{"line":46,"column":1180}},"57":{"start":{"line":46,"column":1180},"end":{"line":46,"column":1186}},"58":{"start":{"line":46,"column":1213},"end":{"line":46,"column":1259}},"59":{"start":{"line":46,"column":1260},"end":{"line":46,"column":1387}},"60":{"start":{"line":51,"column":38},"end":{"line":51,"column":91}},"61":{"start":{"line":51,"column":79},"end":{"line":51,"column":91}},"62":{"start":{"line":51,"column":103},"end":{"line":51,"column":105}},"63":{"start":{"line":51,"column":106},"end":{"line":51,"column":233}},"64":{"start":{"line":51,"column":156},"end":{"line":51,"column":203}},"65":{"start":{"line":65,"column":67},"end":{"line":65,"column":78}},"66":{"start":{"line":65,"column":89},"end":{"line":65,"column":105}},"67":{"start":{"line":65,"column":115},"end":{"line":65,"column":130}},"68":{"start":{"line":65,"column":136},"end":{"line":65,"column":147}},"69":{"start":{"line":65,"column":156},"end":{"line":65,"column":170}},"70":{"start":{"line":66,"column":0},"end":{"line":66,"column":456}},"71":{"start":{"line":66,"column":101},"end":{"line":66,"column":347}},"72":{"start":{"line":66,"column":159},"end":{"line":66,"column":226}},"73":{"start":{"line":66,"column":370},"end":{"line":66,"column":454}}},"fnMap":{"0":{"name":"tryParseToNumber","decl":{"start":{"line":1,"column":699},"end":{"line":1,"column":715}},"loc":{"start":{"line":1,"column":722},"end":{"line":1,"column":788}},"line":1},"1":{"name":"getWatchPath","decl":{"start":{"line":7,"column":12},"end":{"line":7,"column":24}},"loc":{"start":{"line":7,"column":36},"end":{"line":7,"column":194}},"line":7},"2":{"name":"getQueryIdFromPath","decl":{"start":{"line":14,"column":12},"end":{"line":14,"column":30}},"loc":{"start":{"line":14,"column":42},"end":{"line":15,"column":207}},"line":14},"3":{"name":"(anonymous_3)","decl":{"start":{"line":14,"column":304},"end":{"line":14,"column":305}},"loc":{"start":{"line":14,"column":319},"end":{"line":15,"column":56}},"line":14},"4":{"name":"(anonymous_4)","decl":{"start":{"line":15,"column":65},"end":{"line":15,"column":66}},"loc":{"start":{"line":15,"column":76},"end":{"line":15,"column":86}},"line":15},"5":{"name":"setWatcher","decl":{"start":{"line":24,"column":12},"end":{"line":24,"column":22}},"loc":{"start":{"line":24,"column":60},"end":{"line":24,"column":320}},"line":24},"6":{"name":"getWatcherCount","decl":{"start":{"line":32,"column":12},"end":{"line":32,"column":27}},"loc":{"start":{"line":32,"column":56},"end":{"line":32,"column":161}},"line":32},"7":{"name":"unsetWatcher","decl":{"start":{"line":40,"column":12},"end":{"line":40,"column":24}},"loc":{"start":{"line":40,"column":62},"end":{"line":40,"column":429}},"line":40},"8":{"name":"applyParamsToQuery","decl":{"start":{"line":46,"column":12},"end":{"line":46,"column":30}},"loc":{"start":{"line":46,"column":49},"end":{"line":46,"column":1397}},"line":46},"9":{"name":"(anonymous_9)","decl":{"start":{"line":46,"column":108},"end":{"line":46,"column":109}},"loc":{"start":{"line":46,"column":123},"end":{"line":46,"column":1389}},"line":46},"10":{"name":"orderedFromSnapshot","decl":{"start":{"line":51,"column":12},"end":{"line":51,"column":31}},"loc":{"start":{"line":51,"column":37},"end":{"line":51,"column":234}},"line":51},"11":{"name":"(anonymous_11)","decl":{"start":{"line":51,"column":140},"end":{"line":51,"column":141}},"loc":{"start":{"line":51,"column":155},"end":{"line":51,"column":204}},"line":51},"12":{"name":"populateAndDispatch","decl":{"start":{"line":65,"column":12},"end":{"line":65,"column":31}},"loc":{"start":{"line":65,"column":57},"end":{"line":66,"column":457}},"line":65},"13":{"name":"(anonymous_13)","decl":{"start":{"line":66,"column":83},"end":{"line":66,"column":84}},"loc":{"start":{"line":66,"column":100},"end":{"line":66,"column":348}},"line":66},"14":{"name":"(anonymous_14)","decl":{"start":{"line":66,"column":137},"end":{"line":66,"column":138}},"loc":{"start":{"line":66,"column":158},"end":{"line":66,"column":227}},"line":66},"15":{"name":"(anonymous_15)","decl":{"start":{"line":66,"column":356},"end":{"line":66,"column":357}},"loc":{"start":{"line":66,"column":369},"end":{"line":66,"column":455}},"line":66}},"branchMap":{"0":{"loc":{"start":{"line":1,"column":747},"end":{"line":1,"column":787}},"type":"cond-expr","locations":[{"start":{"line":1,"column":775},"end":{"line":1,"column":780}},{"start":{"line":1,"column":781},"end":{"line":1,"column":787}}],"line":1},"1":{"loc":{"start":{"line":7,"column":37},"end":{"line":7,"column":113}},"type":"if","locations":[{"start":{"line":7,"column":37},"end":{"line":7,"column":113}},{"start":{"line":7,"column":37},"end":{"line":7,"column":113}}],"line":7},"2":{"loc":{"start":{"line":7,"column":40},"end":{"line":7,"column":65}},"type":"binary-expr","locations":[{"start":{"line":7,"column":40},"end":{"line":7,"column":46}},{"start":{"line":7,"column":48},"end":{"line":7,"column":58}},{"start":{"line":7,"column":60},"end":{"line":7,"column":65}}],"line":7},"3":{"loc":{"start":{"line":7,"column":147},"end":{"line":7,"column":179}},"type":"cond-expr","locations":[{"start":{"line":7,"column":173},"end":{"line":7,"column":175}},{"start":{"line":7,"column":176},"end":{"line":7,"column":179}}],"line":7},"4":{"loc":{"start":{"line":14,"column":43},"end":{"line":14,"column":120}},"type":"if","locations":[{"start":{"line":14,"column":43},"end":{"line":14,"column":120}},{"start":{"line":14,"column":43},"end":{"line":14,"column":120}}],"line":14},"5":{"loc":{"start":{"line":14,"column":234},"end":{"line":14,"column":271}},"type":"cond-expr","locations":[{"start":{"line":14,"column":242},"end":{"line":14,"column":268}},{"start":{"line":14,"column":269},"end":{"line":14,"column":271}}],"line":14},"6":{"loc":{"start":{"line":14,"column":280},"end":{"line":15,"column":94}},"type":"cond-expr","locations":[{"start":{"line":14,"column":288},"end":{"line":15,"column":87}},{"start":{"line":15,"column":88},"end":{"line":15,"column":94}}],"line":14},"7":{"loc":{"start":{"line":15,"column":0},"end":{"line":15,"column":55}},"type":"if","locations":[{"start":{"line":15,"column":0},"end":{"line":15,"column":55}},{"start":{"line":15,"column":0},"end":{"line":15,"column":55}}],"line":15},"8":{"loc":{"start":{"line":15,"column":102},"end":{"line":15,"column":206}},"type":"cond-expr","locations":[{"start":{"line":15,"column":128},"end":{"line":15,"column":182}},{"start":{"line":15,"column":183},"end":{"line":15,"column":206}}],"line":15},"9":{"loc":{"start":{"line":15,"column":102},"end":{"line":15,"column":127}},"type":"binary-expr","locations":[{"start":{"line":15,"column":102},"end":{"line":15,"column":109}},{"start":{"line":15,"column":111},"end":{"line":15,"column":127}}],"line":15},"10":{"loc":{"start":{"line":15,"column":128},"end":{"line":15,"column":182}},"type":"cond-expr","locations":[{"start":{"line":15,"column":134},"end":{"line":15,"column":171}},{"start":{"line":15,"column":172},"end":{"line":15,"column":182}}],"line":15},"11":{"loc":{"start":{"line":15,"column":183},"end":{"line":15,"column":206}},"type":"cond-expr","locations":[{"start":{"line":15,"column":191},"end":{"line":15,"column":199}},{"start":{"line":15,"column":200},"end":{"line":15,"column":206}}],"line":15},"12":{"loc":{"start":{"line":24,"column":68},"end":{"line":24,"column":133}},"type":"binary-expr","locations":[{"start":{"line":24,"column":68},"end":{"line":24,"column":75}},{"start":{"line":24,"column":77},"end":{"line":24,"column":107}},{"start":{"line":24,"column":109},"end":{"line":24,"column":133}}],"line":24},"13":{"loc":{"start":{"line":24,"column":141},"end":{"line":24,"column":216}},"type":"cond-expr","locations":[{"start":{"line":24,"column":165},"end":{"line":24,"column":190}},{"start":{"line":24,"column":191},"end":{"line":24,"column":216}}],"line":24},"14":{"loc":{"start":{"line":32,"column":64},"end":{"line":32,"column":129}},"type":"binary-expr","locations":[{"start":{"line":32,"column":64},"end":{"line":32,"column":71}},{"start":{"line":32,"column":73},"end":{"line":32,"column":103}},{"start":{"line":32,"column":105},"end":{"line":32,"column":129}}],"line":32},"15":{"loc":{"start":{"line":40,"column":70},"end":{"line":40,"column":135}},"type":"binary-expr","locations":[{"start":{"line":40,"column":70},"end":{"line":40,"column":77}},{"start":{"line":40,"column":79},"end":{"line":40,"column":109}},{"start":{"line":40,"column":111},"end":{"line":40,"column":135}}],"line":40},"16":{"loc":{"start":{"line":40,"column":193},"end":{"line":40,"column":347}},"type":"cond-expr","locations":[{"start":{"line":40,"column":210},"end":{"line":40,"column":317}},{"start":{"line":40,"column":319},"end":{"line":40,"column":347}}],"line":40},"17":{"loc":{"start":{"line":40,"column":230},"end":{"line":40,"column":317}},"type":"binary-expr","locations":[{"start":{"line":40,"column":230},"end":{"line":40,"column":251}},{"start":{"line":40,"column":253},"end":{"line":40,"column":267}},{"start":{"line":40,"column":269},"end":{"line":40,"column":317}}],"line":40},"18":{"loc":{"start":{"line":40,"column":319},"end":{"line":40,"column":347}},"type":"binary-expr","locations":[{"start":{"line":40,"column":319},"end":{"line":40,"column":331}},{"start":{"line":40,"column":333},"end":{"line":40,"column":347}}],"line":40},"19":{"loc":{"start":{"line":46,"column":75},"end":{"line":46,"column":1390}},"type":"binary-expr","locations":[{"start":{"line":46,"column":75},"end":{"line":46,"column":86}},{"start":{"line":46,"column":88},"end":{"line":46,"column":1390}}],"line":46},"20":{"loc":{"start":{"line":46,"column":124},"end":{"line":46,"column":1388}},"type":"switch","locations":[{"start":{"line":46,"column":164},"end":{"line":46,"column":230}},{"start":{"line":46,"column":230},"end":{"line":46,"column":302}},{"start":{"line":46,"column":302},"end":{"line":46,"column":364}},{"start":{"line":46,"column":364},"end":{"line":46,"column":424}},{"start":{"line":46,"column":424},"end":{"line":46,"column":497}},{"start":{"line":46,"column":497},"end":{"line":46,"column":568}},{"start":{"line":46,"column":568},"end":{"line":46,"column":604}},{"start":{"line":46,"column":604},"end":{"line":46,"column":637}},{"start":{"line":46,"column":637},"end":{"line":46,"column":961}},{"start":{"line":46,"column":961},"end":{"line":46,"column":1186}},{"start":{"line":46,"column":1186},"end":{"line":46,"column":1387}}],"line":46},"21":{"loc":{"start":{"line":46,"column":668},"end":{"line":46,"column":714}},"type":"cond-expr","locations":[{"start":{"line":46,"column":679},"end":{"line":46,"column":687}},{"start":{"line":46,"column":688},"end":{"line":46,"column":714}}],"line":46},"22":{"loc":{"start":{"line":46,"column":728},"end":{"line":46,"column":767}},"type":"cond-expr","locations":[{"start":{"line":46,"column":750},"end":{"line":46,"column":754}},{"start":{"line":46,"column":755},"end":{"line":46,"column":767}}],"line":46},"23":{"loc":{"start":{"line":46,"column":781},"end":{"line":46,"column":817}},"type":"binary-expr","locations":[{"start":{"line":46,"column":781},"end":{"line":46,"column":803}},{"start":{"line":46,"column":805},"end":{"line":46,"column":817}}],"line":46},"24":{"loc":{"start":{"line":46,"column":831},"end":{"line":46,"column":866}},"type":"binary-expr","locations":[{"start":{"line":46,"column":831},"end":{"line":46,"column":852}},{"start":{"line":46,"column":854},"end":{"line":46,"column":866}}],"line":46},"25":{"loc":{"start":{"line":46,"column":873},"end":{"line":46,"column":954}},"type":"cond-expr","locations":[{"start":{"line":46,"column":890},"end":{"line":46,"column":926}},{"start":{"line":46,"column":927},"end":{"line":46,"column":954}}],"line":46},"26":{"loc":{"start":{"line":46,"column":992},"end":{"line":46,"column":1038}},"type":"cond-expr","locations":[{"start":{"line":46,"column":1003},"end":{"line":46,"column":1011}},{"start":{"line":46,"column":1012},"end":{"line":46,"column":1038}}],"line":46},"27":{"loc":{"start":{"line":46,"column":1052},"end":{"line":46,"column":1091}},"type":"cond-expr","locations":[{"start":{"line":46,"column":1074},"end":{"line":46,"column":1078}},{"start":{"line":46,"column":1079},"end":{"line":46,"column":1091}}],"line":46},"28":{"loc":{"start":{"line":46,"column":1098},"end":{"line":46,"column":1179}},"type":"cond-expr","locations":[{"start":{"line":46,"column":1115},"end":{"line":46,"column":1151}},{"start":{"line":46,"column":1152},"end":{"line":46,"column":1179}}],"line":46},"29":{"loc":{"start":{"line":46,"column":1213},"end":{"line":46,"column":1259}},"type":"cond-expr","locations":[{"start":{"line":46,"column":1224},"end":{"line":46,"column":1232}},{"start":{"line":46,"column":1233},"end":{"line":46,"column":1259}}],"line":46},"30":{"loc":{"start":{"line":46,"column":1271},"end":{"line":46,"column":1306}},"type":"cond-expr","locations":[{"start":{"line":46,"column":1291},"end":{"line":46,"column":1295}},{"start":{"line":46,"column":1296},"end":{"line":46,"column":1306}}],"line":46},"31":{"loc":{"start":{"line":46,"column":1313},"end":{"line":46,"column":1386}},"type":"cond-expr","locations":[{"start":{"line":46,"column":1330},"end":{"line":46,"column":1362}},{"start":{"line":46,"column":1363},"end":{"line":46,"column":1386}}],"line":46},"32":{"loc":{"start":{"line":51,"column":38},"end":{"line":51,"column":91}},"type":"if","locations":[{"start":{"line":51,"column":38},"end":{"line":51,"column":91}},{"start":{"line":51,"column":38},"end":{"line":51,"column":91}}],"line":51},"33":{"loc":{"start":{"line":51,"column":41},"end":{"line":51,"column":78}},"type":"binary-expr","locations":[{"start":{"line":51,"column":41},"end":{"line":51,"column":57}},{"start":{"line":51,"column":59},"end":{"line":51,"column":78}}],"line":51},"34":{"loc":{"start":{"line":51,"column":113},"end":{"line":51,"column":205}},"type":"binary-expr","locations":[{"start":{"line":51,"column":113},"end":{"line":51,"column":125}},{"start":{"line":51,"column":127},"end":{"line":51,"column":205}}],"line":51},"35":{"loc":{"start":{"line":51,"column":206},"end":{"line":51,"column":233}},"type":"cond-expr","locations":[{"start":{"line":51,"column":221},"end":{"line":51,"column":228}},{"start":{"line":51,"column":229},"end":{"line":51,"column":233}}],"line":51},"36":{"loc":{"start":{"line":66,"column":276},"end":{"line":66,"column":289}},"type":"binary-expr","locations":[{"start":{"line":66,"column":276},"end":{"line":66,"column":283}},{"start":{"line":66,"column":285},"end":{"line":66,"column":289}}],"line":66}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":8,"8":8,"9":75,"10":2,"11":73,"12":148,"13":0,"14":148,"15":148,"16":148,"17":148,"18":148,"19":148,"20":4,"21":4,"22":1,"23":4,"24":148,"25":30,"26":30,"27":29,"28":29,"29":13,"30":13,"31":13,"32":13,"33":16,"34":16,"35":24,"36":1,"37":1,"38":2,"39":2,"40":1,"41":1,"42":7,"43":7,"44":1,"45":1,"46":1,"47":1,"48":1,"49":1,"50":0,"51":0,"52":7,"53":7,"54":7,"55":2,"56":2,"57":2,"58":1,"59":1,"60":29,"61":24,"62":5,"63":5,"64":1,"65":2,"66":2,"67":2,"68":2,"69":2,"70":2,"71":2,"72":0,"73":0},"f":{"0":8,"1":75,"2":148,"3":4,"4":4,"5":30,"6":29,"7":13,"8":16,"9":24,"10":29,"11":1,"12":2,"13":2,"14":0,"15":0},"b":{"0":[7,1],"1":[2,73],"2":[75,73,73],"3":[7,66],"4":[0,148],"5":[4,144],"6":[4,144],"7":[1,3],"8":[1,147],"9":[148,4],"10":[0,1],"11":[3,144],"12":[30,30,30],"13":[3,27],"14":[29,29,29],"15":[13,13,13],"16":[9,4],"17":[9,9,8],"18":[4,2],"19":[16,16],"20":[1,2,1,7,1,1,1,0,7,2,1],"21":[1,6],"22":[1,6],"23":[7,6],"24":[7,6],"25":[0,7],"26":[1,1],"27":[0,2],"28":[0,2],"29":[0,1],"30":[0,1],"31":[0,1],"32":[24,5],"33":[29,24],"34":[5,3],"35":[1,4],"36":[2,2]},"inputSourceMap":{"version":3,"sources":["query.js"],"names":["tryParseToNumber","value","result","getWatchPath","event","path","Error","substring","getQueryIdFromPath","origPath","pathSplitted","split","isQuery","length","queryParams","queryId","map","param","splittedParam","filter","q","setWatcher","firebase","dispatch","id","_","watchers","type","actionTypes","SET_LISTENER","payload","getWatcherCount","unsetWatcher","database","ref","child","off","UNSET_LISTENER","applyParamsToQuery","query","doNotParse","forEach","orderByValue","orderByPriority","orderByKey","orderByChild","limitToFirst","parseInt","limitToLast","equalToParam","equalTo","startAtParam","startAt","endAtParam","endAt","orderedFromSnapshot","snap","hasChildren","ordered","push","key","val","populateAndDispatch","config","data","populates","snapshot","storeAs","then","results","MERGE","SET","catch","err","ERROR","Promise","reject"],"mappings":"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","sourceRoot":"/Users/scott/Dev/Code/react-redux-firebase/src/utils","sourcesContent":["import { actionTypes } from '../constants'\nimport { promisesForPopulate } from './populate'\nimport { isNaN, forEach } from 'lodash'\nimport { isString } from './index'\n\n/**\n * @private\n * Try to parse passed input to a number. If it is not a number return itself.\n * @param {string|number} value - Item to attempt to parse to a number\n * @returns {any} Number if parse to number was successful, otherwise,\n * original value\n */\nfunction tryParseToNumber(value) {\n  const result = Number(value)\n  if (isNaN(result)) {\n    return value\n  }\n  return result\n}\n\n/**\n * @private\n * Get path to watch provided event type and path.\n * @param {string} event - Type of event to watch for\n * @param {string} path - Path to watch with watcher\n * @returns {string} watchPath\n */\nexport function getWatchPath(event, path) {\n  if (!event || event === '' || !path) {\n    throw new Error('Event and path are required')\n  }\n  return `${event}:${path.substring(0, 1) === '/' ? '' : '/'}${path}`\n}\n\n/**\n * @private\n * Get query id from query path. queryId paramter is\n * later used to add/remove listeners from internal firebase instance.\n * @param {string} path - Path from which to get query id\n * @param {string} event - Type of query event\n * @returns {string} Query id\n */\nexport function getQueryIdFromPath(path, event) {\n  if (!isString(path)) {\n    throw new Error('Query path must be a string')\n  }\n  const origPath = path\n  let pathSplitted = path.split('#')\n  path = pathSplitted[0]\n\n  const isQuery = pathSplitted.length > 1\n  const queryParams = isQuery ? pathSplitted[1].split('&') : []\n  const queryId = isQuery\n    ? queryParams\n        .map(param => {\n          let splittedParam = param.split('=')\n          // Handle query id in path\n          if (splittedParam[0] === 'queryId') {\n            return splittedParam[1]\n          }\n        })\n        .filter(q => q)\n    : undefined\n  return queryId && queryId.length > 0\n    ? event ? `${event}:/${queryId}` : queryId[0]\n    : isQuery ? origPath : undefined\n}\n\n/**\n * @private\n * Update the number of watchers for a query\n * @param {object} firebase - Internal firebase object\n * @param {Function} dispatch - Redux dispatch function\n * @param {string} event - Type of event to watch for\n * @param {string} path - Path to watch with watcher\n * @param {string} queryId - Id of query\n * @returns {number} watcherCount - count\n */\nexport function setWatcher(firebase, dispatch, event, path, queryId) {\n  const id =\n    queryId || getQueryIdFromPath(path, event) || getWatchPath(event, path)\n\n  if (firebase._.watchers[id]) {\n    firebase._.watchers[id]++\n  } else {\n    firebase._.watchers[id] = 1\n  }\n\n  dispatch({ type: actionTypes.SET_LISTENER, path, payload: { id } })\n\n  return firebase._.watchers[id]\n}\n\n/**\n * @private\n * Get count of currently attached watchers\n * @param {object} firebase - Internal firebase object\n * @param {string} event - Type of event to watch for\n * @param {string} path - Path to watch with watcher\n * @param {string} queryId - Id of query\n * @returns {number} watcherCount\n */\nexport function getWatcherCount(firebase, event, path, queryId) {\n  const id =\n    queryId || getQueryIdFromPath(path, event) || getWatchPath(event, path)\n  return firebase._.watchers[id]\n}\n\n/**\n * @private\n * Remove/Unset a watcher\n * @param {object} firebase - Internal firebase object\n * @param {Function} dispatch - Redux's dispatch function\n * @param {string} event - Type of event to watch for\n * @param {string} path - Path to watch with watcher\n * @param {string} queryId - Id of query\n */\nexport function unsetWatcher(firebase, dispatch, event, path, queryId) {\n  let id =\n    queryId || getQueryIdFromPath(path, event) || getWatchPath(event, path)\n  path = path.split('#')[0]\n  const { watchers } = firebase._\n  if (watchers[id] <= 1) {\n    delete watchers[id]\n    if (event !== 'first_child' && event !== 'once') {\n      firebase\n        .database()\n        .ref()\n        .child(path)\n        .off(event)\n    }\n  } else if (watchers[id]) {\n    watchers[id]--\n  }\n\n  dispatch({ type: actionTypes.UNSET_LISTENER, path, payload: { id } })\n}\n\n/**\n * Modify query to include methods based on query parameters (such\n * as orderByChild).\n * @param {Array} queryParams - Array of query parameters to apply to query\n * @param {object} query - Query object on which to apply query parameters\n * @returns {firebase.database.Query} Query with query params applied\n */\nexport function applyParamsToQuery(queryParams, query) {\n  let doNotParse = false\n  if (queryParams) {\n    queryParams.forEach(param => {\n      param = param.split('=')\n      switch (param[0]) {\n        case 'orderByValue':\n          query = query.orderByValue()\n          doNotParse = true\n          break\n        case 'orderByPriority':\n          query = query.orderByPriority()\n          doNotParse = true\n          break\n        case 'orderByKey':\n          query = query.orderByKey()\n          doNotParse = true\n          break\n        case 'orderByChild':\n          query = query.orderByChild(param[1])\n          break\n        case 'limitToFirst':\n          // TODO: Handle number not being passed as param\n          query = query.limitToFirst(parseInt(param[1], 10))\n          break\n        case 'limitToLast':\n          // TODO: Handle number not being passed as param\n          query = query.limitToLast(parseInt(param[1], 10))\n          break\n        case 'notParsed':\n          // support disabling internal number parsing (number strings)\n          doNotParse = true\n          break\n        case 'parsed':\n          // support disabling internal number parsing (number strings)\n          doNotParse = false\n          break\n        case 'equalTo':\n          let equalToParam = !doNotParse ? tryParseToNumber(param[1]) : param[1]\n          equalToParam = equalToParam === 'null' ? null : equalToParam\n          equalToParam = equalToParam === 'false' ? false : equalToParam\n          equalToParam = equalToParam === 'true' ? true : equalToParam\n          query =\n            param.length === 3\n              ? query.equalTo(equalToParam, param[2])\n              : query.equalTo(equalToParam)\n          break\n        case 'startAt':\n          let startAtParam = !doNotParse ? tryParseToNumber(param[1]) : param[1]\n          startAtParam = startAtParam === 'null' ? null : startAtParam\n          query =\n            param.length === 3\n              ? query.startAt(startAtParam, param[2])\n              : query.startAt(startAtParam)\n          break\n        case 'endAt':\n          let endAtParam = !doNotParse ? tryParseToNumber(param[1]) : param[1]\n          endAtParam = endAtParam === 'null' ? null : endAtParam\n          query =\n            param.length === 3\n              ? query.endAt(endAtParam, param[2])\n              : query.endAt(endAtParam)\n          break\n      }\n    })\n  }\n\n  return query\n}\n\n/**\n * Get ordered array from snapshot\n * @param {firebase.database.DataSnapshot} snap - Data for which to create\n * an ordered array.\n * @returns {Array|null} Ordered list of children from snapshot or null\n */\nexport function orderedFromSnapshot(snap) {\n  if (snap.hasChildren && !snap.hasChildren()) {\n    return null\n  }\n  const ordered = []\n  if (snap.forEach) {\n    snap.forEach(child => {\n      ordered.push({ key: child.key, value: child.val() })\n    })\n  }\n  return ordered.length ? ordered : null\n}\n\n/**\n * Get data associated with populate settings, and dispatch\n *\n * @param {object} firebase - Internal firebase object\n * @param {Function} dispatch - Redux's dispatch function\n * @param {object} config - Config object\n * @param {any} config.data - Original query data result\n * @param {Array} config.populates - List of populate settings\n * @param {string} config.path - Base query path\n * @param {string} config.storeAs - Location within redux in which to\n * query results will be stored (path is used as default if not provided).\n * @returns {Promise} Promise that resolves after data for populates has been\n * loaded and associated actions have been dispatched\n * @private\n */\nexport function populateAndDispatch(firebase, dispatch, config) {\n  const { data, populates, snapshot, path, storeAs } = config\n  // TODO: Allow setting of unpopulated data before starting population through config\n  return promisesForPopulate(firebase, snapshot.key, data, populates)\n    .then(results => {\n      // dispatch child sets first so isLoaded is only set to true for\n      // populatedDataToJS after all data is in redux (Issue #121)\n      // TODO: Allow config to toggle Combining into one SET action\n      // TODO: Set ordered for populate queries\n      forEach(results, (result, path) => {\n        dispatch({\n          type: actionTypes.MERGE,\n          path,\n          data: result\n        })\n      })\n      dispatch({\n        type: actionTypes.SET,\n        path: storeAs || path,\n        data,\n        ordered: orderedFromSnapshot(snapshot)\n      })\n      return results\n    })\n    .catch(err => {\n      dispatch({\n        type: actionTypes.ERROR,\n        payload: err\n      })\n      return Promise.reject(err)\n    })\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"7d15f730094f4d06ab648ede03945d17e3c5bfb2","contentHash":"50087460a6945d27efb4c106e146d5cd6e1f023b10eb1625c1e0724008546020"},"/Users/scott/Dev/Code/react-redux-firebase/src/utils/reducers.js":{"path":"/Users/scott/Dev/Code/react-redux-firebase/src/utils/reducers.js","statementMap":{"0":{"start":{"line":1,"column":40},"end":{"line":1,"column":95}},"1":{"start":{"line":1,"column":96},"end":{"line":1,"column":389}},"2":{"start":{"line":1,"column":410},"end":{"line":1,"column":482}},"3":{"start":{"line":1,"column":491},"end":{"line":1,"column":541}},"4":{"start":{"line":1,"column":549},"end":{"line":1,"column":595}},"5":{"start":{"line":1,"column":603},"end":{"line":1,"column":649}},"6":{"start":{"line":1,"column":656},"end":{"line":1,"column":701}},"7":{"start":{"line":1,"column":751},"end":{"line":1,"column":770}},"8":{"start":{"line":1,"column":771},"end":{"line":1,"column":1002}},"9":{"start":{"line":1,"column":816},"end":{"line":1,"column":852}},"10":{"start":{"line":1,"column":853},"end":{"line":1,"column":1001}},"11":{"start":{"line":1,"column":907},"end":{"line":1,"column":968}},"12":{"start":{"line":1,"column":1002},"end":{"line":1,"column":1013}},"13":{"start":{"line":1,"column":1045},"end":{"line":1,"column":1453}},"14":{"start":{"line":1,"column":1062},"end":{"line":1,"column":1063}},"15":{"start":{"line":1,"column":1087},"end":{"line":1,"column":1453}},"16":{"start":{"line":1,"column":1174},"end":{"line":1,"column":1226}},"17":{"start":{"line":1,"column":1373},"end":{"line":1,"column":1450}},"18":{"start":{"line":1,"column":1453},"end":{"line":1,"column":1466}},"19":{"start":{"line":1,"column":1492},"end":{"line":1,"column":1554}},"20":{"start":{"line":1,"column":1540},"end":{"line":1,"column":1549}},"21":{"start":{"line":6,"column":34},"end":{"line":6,"column":66}},"22":{"start":{"line":11,"column":32},"end":{"line":11,"column":64}},"23":{"start":{"line":20,"column":38},"end":{"line":21,"column":34}},"24":{"start":{"line":20,"column":66},"end":{"line":20,"column":123}},"25":{"start":{"line":20,"column":131},"end":{"line":20,"column":169}},"26":{"start":{"line":20,"column":170},"end":{"line":21,"column":33}},"27":{"start":{"line":20,"column":230},"end":{"line":21,"column":28}},"28":{"start":{"line":29,"column":0},"end":{"line":29,"column":78}},"29":{"start":{"line":29,"column":38},"end":{"line":29,"column":78}},"30":{"start":{"line":30,"column":0},"end":{"line":30,"column":84}},"31":{"start":{"line":30,"column":24},"end":{"line":30,"column":84}},"32":{"start":{"line":30,"column":84},"end":{"line":30,"column":166}},"33":{"start":{"line":30,"column":118},"end":{"line":30,"column":166}},"34":{"start":{"line":31,"column":0},"end":{"line":31,"column":79}},"35":{"start":{"line":40,"column":57},"end":{"line":40,"column":116}},"36":{"start":{"line":40,"column":117},"end":{"line":40,"column":137}},"37":{"start":{"line":40,"column":126},"end":{"line":40,"column":137}},"38":{"start":{"line":40,"column":137},"end":{"line":40,"column":218}},"39":{"start":{"line":40,"column":207},"end":{"line":40,"column":218}},"40":{"start":{"line":42,"column":25},"end":{"line":42,"column":54}},"41":{"start":{"line":42,"column":63},"end":{"line":42,"column":110}},"42":{"start":{"line":42,"column":111},"end":{"line":42,"column":165}}},"fnMap":{"0":{"name":"ownKeys","decl":{"start":{"line":1,"column":711},"end":{"line":1,"column":718}},"loc":{"start":{"line":1,"column":741},"end":{"line":1,"column":1014}},"line":1},"1":{"name":"(anonymous_1)","decl":{"start":{"line":1,"column":893},"end":{"line":1,"column":894}},"loc":{"start":{"line":1,"column":906},"end":{"line":1,"column":969}},"line":1},"2":{"name":"_objectSpread","decl":{"start":{"line":1,"column":1023},"end":{"line":1,"column":1036}},"loc":{"start":{"line":1,"column":1044},"end":{"line":1,"column":1467}},"line":1},"3":{"name":"(anonymous_3)","decl":{"start":{"line":1,"column":1160},"end":{"line":1,"column":1161}},"loc":{"start":{"line":1,"column":1173},"end":{"line":1,"column":1227}},"line":1},"4":{"name":"(anonymous_4)","decl":{"start":{"line":1,"column":1359},"end":{"line":1,"column":1360}},"loc":{"start":{"line":1,"column":1372},"end":{"line":1,"column":1451}},"line":1},"5":{"name":"pathToArr","decl":{"start":{"line":1,"column":1476},"end":{"line":1,"column":1485}},"loc":{"start":{"line":1,"column":1491},"end":{"line":1,"column":1555}},"line":1},"6":{"name":"(anonymous_6)","decl":{"start":{"line":1,"column":1528},"end":{"line":1,"column":1529}},"loc":{"start":{"line":1,"column":1539},"end":{"line":1,"column":1550}},"line":1},"7":{"name":"getSlashStrPath","decl":{"start":{"line":6,"column":12},"end":{"line":6,"column":27}},"loc":{"start":{"line":6,"column":33},"end":{"line":6,"column":67}},"line":6},"8":{"name":"getDotStrPath","decl":{"start":{"line":11,"column":12},"end":{"line":11,"column":25}},"loc":{"start":{"line":11,"column":31},"end":{"line":11,"column":65}},"line":11},"9":{"name":"combineReducers","decl":{"start":{"line":20,"column":12},"end":{"line":20,"column":27}},"loc":{"start":{"line":20,"column":37},"end":{"line":21,"column":35}},"line":20},"10":{"name":"(anonymous_10)","decl":{"start":{"line":20,"column":45},"end":{"line":20,"column":46}},"loc":{"start":{"line":20,"column":55},"end":{"line":21,"column":34}},"line":20},"11":{"name":"(anonymous_11)","decl":{"start":{"line":20,"column":206},"end":{"line":20,"column":207}},"loc":{"start":{"line":20,"column":229},"end":{"line":21,"column":29}},"line":20},"12":{"name":"preserveValuesFromState","decl":{"start":{"line":28,"column":12},"end":{"line":28,"column":35}},"loc":{"start":{"line":28,"column":68},"end":{"line":31,"column":80}},"line":28},"13":{"name":"recursiveUnset","decl":{"start":{"line":40,"column":12},"end":{"line":40,"column":26}},"loc":{"start":{"line":40,"column":36},"end":{"line":42,"column":166}},"line":40}},"branchMap":{"0":{"loc":{"start":{"line":1,"column":771},"end":{"line":1,"column":1002}},"type":"if","locations":[{"start":{"line":1,"column":771},"end":{"line":1,"column":1002}},{"start":{"line":1,"column":771},"end":{"line":1,"column":1002}}],"line":1},"1":{"loc":{"start":{"line":1,"column":853},"end":{"line":1,"column":971}},"type":"binary-expr","locations":[{"start":{"line":1,"column":853},"end":{"line":1,"column":867}},{"start":{"line":1,"column":870},"end":{"line":1,"column":970}}],"line":1},"2":{"loc":{"start":{"line":1,"column":1094},"end":{"line":1,"column":1128}},"type":"cond-expr","locations":[{"start":{"line":1,"column":1113},"end":{"line":1,"column":1115}},{"start":{"line":1,"column":1116},"end":{"line":1,"column":1128}}],"line":1},"3":{"loc":{"start":{"line":1,"column":1129},"end":{"line":1,"column":1452}},"type":"cond-expr","locations":[{"start":{"line":1,"column":1133},"end":{"line":1,"column":1228}},{"start":{"line":1,"column":1229},"end":{"line":1,"column":1452}}],"line":1},"4":{"loc":{"start":{"line":1,"column":1229},"end":{"line":1,"column":1452}},"type":"cond-expr","locations":[{"start":{"line":1,"column":1262},"end":{"line":1,"column":1334}},{"start":{"line":1,"column":1335},"end":{"line":1,"column":1452}}],"line":1},"5":{"loc":{"start":{"line":1,"column":1499},"end":{"line":1,"column":1554}},"type":"cond-expr","locations":[{"start":{"line":1,"column":1504},"end":{"line":1,"column":1551}},{"start":{"line":1,"column":1552},"end":{"line":1,"column":1554}}],"line":1},"6":{"loc":{"start":{"line":20,"column":66},"end":{"line":20,"column":123}},"type":"cond-expr","locations":[{"start":{"line":20,"column":108},"end":{"line":20,"column":120}},{"start":{"line":20,"column":121},"end":{"line":20,"column":123}}],"line":20},"7":{"loc":{"start":{"line":20,"column":66},"end":{"line":20,"column":107}},"type":"binary-expr","locations":[{"start":{"line":20,"column":66},"end":{"line":20,"column":84}},{"start":{"line":20,"column":86},"end":{"line":20,"column":107}}],"line":20},"8":{"loc":{"start":{"line":20,"column":131},"end":{"line":20,"column":169}},"type":"cond-expr","locations":[{"start":{"line":20,"column":150},"end":{"line":20,"column":162}},{"start":{"line":20,"column":163},"end":{"line":20,"column":169}}],"line":20},"9":{"loc":{"start":{"line":29,"column":0},"end":{"line":29,"column":78}},"type":"if","locations":[{"start":{"line":29,"column":0},"end":{"line":29,"column":78}},{"start":{"line":29,"column":0},"end":{"line":29,"column":78}}],"line":29},"10":{"loc":{"start":{"line":30,"column":0},"end":{"line":30,"column":84}},"type":"if","locations":[{"start":{"line":30,"column":0},"end":{"line":30,"column":84}},{"start":{"line":30,"column":0},"end":{"line":30,"column":84}}],"line":30},"11":{"loc":{"start":{"line":30,"column":31},"end":{"line":30,"column":83}},"type":"cond-expr","locations":[{"start":{"line":30,"column":41},"end":{"line":30,"column":77}},{"start":{"line":30,"column":78},"end":{"line":30,"column":83}}],"line":30},"12":{"loc":{"start":{"line":30,"column":84},"end":{"line":30,"column":166}},"type":"if","locations":[{"start":{"line":30,"column":84},"end":{"line":30,"column":166}},{"start":{"line":30,"column":84},"end":{"line":30,"column":166}}],"line":30},"13":{"loc":{"start":{"line":40,"column":57},"end":{"line":40,"column":116}},"type":"binary-expr","locations":[{"start":{"line":40,"column":57},"end":{"line":40,"column":102}},{"start":{"line":40,"column":104},"end":{"line":40,"column":116}}],"line":40},"14":{"loc":{"start":{"line":40,"column":60},"end":{"line":40,"column":101}},"type":"binary-expr","locations":[{"start":{"line":40,"column":60},"end":{"line":40,"column":78}},{"start":{"line":40,"column":80},"end":{"line":40,"column":101}}],"line":40},"15":{"loc":{"start":{"line":40,"column":117},"end":{"line":40,"column":137}},"type":"if","locations":[{"start":{"line":40,"column":117},"end":{"line":40,"column":137}},{"start":{"line":40,"column":117},"end":{"line":40,"column":137}}],"line":40},"16":{"loc":{"start":{"line":40,"column":137},"end":{"line":40,"column":218}},"type":"if","locations":[{"start":{"line":40,"column":137},"end":{"line":40,"column":218}},{"start":{"line":40,"column":137},"end":{"line":40,"column":218}}],"line":40},"17":{"loc":{"start":{"line":40,"column":140},"end":{"line":40,"column":206}},"type":"binary-expr","locations":[{"start":{"line":40,"column":140},"end":{"line":40,"column":189}},{"start":{"line":40,"column":191},"end":{"line":40,"column":206}}],"line":40},"18":{"loc":{"start":{"line":42,"column":63},"end":{"line":42,"column":110}},"type":"cond-expr","locations":[{"start":{"line":42,"column":80},"end":{"line":42,"column":107}},{"start":{"line":42,"column":108},"end":{"line":42,"column":110}}],"line":42}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":14,"8":14,"9":14,"10":14,"11":0,"12":14,"13":7,"14":7,"15":21,"16":27,"17":0,"18":7,"19":236,"20":366,"21":30,"22":206,"23":2,"24":149,"25":149,"26":149,"27":966,"28":16,"29":3,"30":13,"31":7,"32":6,"33":6,"34":0,"35":12,"36":12,"37":1,"38":11,"39":3,"40":8,"41":8,"42":8},"f":{"0":14,"1":0,"2":7,"3":27,"4":0,"5":236,"6":366,"7":30,"8":206,"9":2,"10":149,"11":966,"12":16,"13":12},"b":{"0":[14,0],"1":[14,14],"2":[0,21],"3":[14,7],"4":[7,0],"5":[236,0],"6":[81,68],"7":[149,149],"8":[149,0],"9":[3,13],"10":[7,6],"11":[7,0],"12":[6,0],"13":[12,8],"14":[12,8],"15":[1,11],"16":[3,8],"17":[11,7],"18":[7,1]},"inputSourceMap":{"version":3,"sources":["reducers.js"],"names":["pathToArr","path","split","filter","p","getSlashStrPath","join","getDotStrPath","combineReducers","reducers","state","action","Object","keys","reduce","nextState","key","preserveValuesFromState","preserveSetting","Array","isArray","Error","recursiveUnset","obj","isRecursiveCall","objectWithRemovedKey","newPath","match","replace"],"mappings":"27CASO,QAASA,CAAAA,SAAT,CAAmBC,IAAnB,CAAyB,CAC9B,MAAOA,CAAAA,IAAI,CAAGA,IAAI,CAACC,KAAL,CAAW,IAAX,EAAiBC,MAAjB,CAAwB,SAAAC,CAAC,QAAI,CAAC,CAACA,CAAN,CAAzB,CAAH,CAAuC,EACnD,CAED;;;;;GAMO,QAASC,CAAAA,eAAT,CAAyBJ,IAAzB,CAA+B,CACpC,MAAOD,CAAAA,SAAS,CAACC,IAAD,CAAT,CAAgBK,IAAhB,CAAqB,GAArB,CACR,CAED;;;;;GAMO,QAASC,CAAAA,aAAT,CAAuBN,IAAvB,CAA6B,CAClC,MAAOD,CAAAA,SAAS,CAACC,IAAD,CAAT,CAAgBK,IAAhB,CAAqB,GAArB,CACR,CAED;;;;;;;;;GAUO,QAASE,CAAAA,eAAT,CAAyBC,QAAzB,CAAmC,CACxC,MAAO,WAAwB,IAAvBC,CAAAA,KAAuB,wDAAf,EAAe,CAAXC,MAAW,wCAC7B,MAAOC,CAAAA,MAAM,CAACC,IAAP,CAAYJ,QAAZ,EAAsBK,MAAtB,CAA6B,SAACC,SAAD,CAAYC,GAAZ,CAAoB,CAMtD,MALAD,CAAAA,SAAS,CAACC,GAAD,CAAT,CAAiBP,QAAQ,CAACO,GAAD,CAAR,CACf;AACAN,KAAK,CAACM,GAAD,CAFU,CAGfL,MAHe,CAKjB,CAAOI,SACR,CAPM,CAOJ,EAPI,CAQR,CACF,CAED;;;;;;;GAQO,QAASE,CAAAA,uBAAT,CAAiCP,KAAjC,CAAwCQ,eAAxC,CAAyDH,SAAzD,CAAoE,CACzE;AACA,GAA+B,UAA3B,QAAOG,CAAAA,eAAX,CACE,MAAOA,CAAAA,eAAe,CAACR,KAAD,CAAQK,SAAR,CAAtB,CAGF;AACA,GAAI,KAAAG,eAAJ,CACE,MAAOH,CAAAA,SAAS,kBAAQL,KAAR,IAAkBK,SAAlB,EAAgCL,KAAhD,CAGF,GAAIS,KAAK,CAACC,OAAN,CAAcF,eAAd,CAAJ,CACE,MAAO,mBAAKR,KAAL,CAAYQ,eAAZ,CAAP,CAAoC;AAGtC,KAAM,IAAIG,CAAAA,KAAJ,CACJ,8DADI,CAGP,CAED;;;;;;;;;GAUO,QAASC,CAAAA,cAAT,CAAwBrB,IAAxB,CAA8BsB,GAA9B,CAA4D,IAAzBC,CAAAA,eAAyB,6DACjE,GAAI,CAACvB,IAAL,CACE,MAAOsB,CAAAA,GAAP,CAGF,GAA2B,CAAvB,oBAAK,kBAAIA,GAAJ,CAAStB,IAAT,CAAL,GAA4BuB,eAAhC,CACE,MAAOD,CAAAA,GAAP,CAEF;AACA;AATiE,GAU3DE,CAAAA,oBAAoB,CAAG,oBAAMxB,IAAN,CAAYsB,GAAZ,CAVoC,CAW3DG,OAAO,CAAGzB,IAAI,CAAC0B,KAAL,CAAW,IAAX,EAAmB1B,IAAI,CAAC2B,OAAL,CAAa,UAAb,CAAyB,EAAzB,CAAnB,CAAkD,EAXD,CAYjE,MAAON,CAAAA,cAAc,CAACI,OAAD,CAAUD,oBAAV,IACtB","sourceRoot":"/Users/scott/Dev/Code/react-redux-firebase/src/utils","sourcesContent":["import { get, size, pick } from 'lodash'\nimport { unset } from 'lodash/fp'\n\n/**\n * Create a path array from path string\n * @param {string} path - Path seperated with slashes\n * @returns {Array} Path as Array\n * @private\n */\nexport function pathToArr(path) {\n  return path ? path.split(/\\//).filter(p => !!p) : []\n}\n\n/**\n * Trim leading slash from path for use with state\n * @param {string} path - Path seperated with slashes\n * @returns {string} Path seperated with slashes\n * @private\n */\nexport function getSlashStrPath(path) {\n  return pathToArr(path).join('/')\n}\n\n/**\n * Convert path with slashes to dot seperated path (for use with lodash get/set)\n * @param {string} path - Path seperated with slashes\n * @returns {string} Path seperated with dots\n * @private\n */\nexport function getDotStrPath(path) {\n  return pathToArr(path).join('.')\n}\n\n/**\n * Combine reducers utility (abreveated version of redux's combineReducer).\n * Turns an object whose values are different reducer functions, into a single\n * reducer function.\n * @param {object} reducers An object whose values correspond to different\n * reducer functions that need to be combined into one.\n * @returns {Function} A reducer function that invokes every reducer inside the\n * passed object, and builds a state object with the same shape.\n * @private\n */\nexport function combineReducers(reducers) {\n  return (state = {}, action) => {\n    return Object.keys(reducers).reduce((nextState, key) => {\n      nextState[key] = reducers[key](\n        // eslint-disable-line no-param-reassign\n        state[key],\n        action\n      )\n      return nextState\n    }, {})\n  }\n}\n\n/**\n * Preserve values from redux state change\n * @param {object} state - Redux state\n * @param {Function|boolean|Array} preserveSetting - Setting for which values to preserve\n * from redux state\n * @param {object} nextState - Next redux state\n * @returns {object} State with values preserved\n */\nexport function preserveValuesFromState(state, preserveSetting, nextState) {\n  // Return result of function if preserve is a function\n  if (typeof preserveSetting === 'function') {\n    return preserveSetting(state, nextState)\n  }\n\n  // Return original state if preserve is true\n  if (preserveSetting === true) {\n    return nextState ? { ...state, ...nextState } : state\n  }\n\n  if (Array.isArray(preserveSetting)) {\n    return pick(state, preserveSetting) // pick returns a new object\n  }\n\n  throw new Error(\n    'Invalid preserve parameter. It must be an Object or an Array'\n  )\n}\n\n/**\n * Recursively unset a property starting at the deep path, and unsetting the parent\n * property if there are no other enumerable properties at that level.\n * @param {string} path - Deep dot path of the property to unset\n * @param {object} obj - Object from which path should be recursivley unset\n * @param {boolean} [isRecursiveCall=false] - Used internally to ensure that\n * the object size check is only performed after one iteration.\n * @returns {object} The object with the property deeply unset\n * @private\n */\nexport function recursiveUnset(path, obj, isRecursiveCall = false) {\n  if (!path) {\n    return obj\n  }\n\n  if (size(get(obj, path)) > 0 && isRecursiveCall) {\n    return obj\n  }\n  // The object does not have any other properties at this level.  Remove the\n  // property.\n  const objectWithRemovedKey = unset(path, obj)\n  const newPath = path.match(/\\./) ? path.replace(/\\.[^.]*$/, '') : ''\n  return recursiveUnset(newPath, objectWithRemovedKey, true)\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"b6e5ee3d7ae65dbd9595878fcd8fbc4fe1933d52","contentHash":"e820f04737340326e298df5b6e8b041800f3a9825f52af471d94d7aa68935f26"},"/Users/scott/Dev/Code/react-redux-firebase/src/utils/auth.js":{"path":"/Users/scott/Dev/Code/react-redux-firebase/src/utils/auth.js","statementMap":{"0":{"start":{"line":1,"column":40},"end":{"line":1,"column":95}},"1":{"start":{"line":1,"column":96},"end":{"line":1,"column":425}},"2":{"start":{"line":1,"column":442},"end":{"line":1,"column":494}},"3":{"start":{"line":1,"column":506},"end":{"line":1,"column":529}},"4":{"start":{"line":3,"column":24},"end":{"line":3,"column":88}},"5":{"start":{"line":4,"column":0},"end":{"line":4,"column":195}},"6":{"start":{"line":4,"column":39},"end":{"line":4,"column":195}},"7":{"start":{"line":4,"column":208},"end":{"line":4,"column":246}},"8":{"start":{"line":4,"column":268},"end":{"line":4,"column":306}},"9":{"start":{"line":7,"column":0},"end":{"line":7,"column":425}},"10":{"start":{"line":7,"column":308},"end":{"line":7,"column":332}},"11":{"start":{"line":28,"column":68},"end":{"line":28,"column":85}},"12":{"start":{"line":28,"column":95},"end":{"line":28,"column":115}},"13":{"start":{"line":28,"column":125},"end":{"line":28,"column":145}},"14":{"start":{"line":28,"column":151},"end":{"line":28,"column":167}},"15":{"start":{"line":28,"column":174},"end":{"line":28,"column":191}},"16":{"start":{"line":28,"column":199},"end":{"line":28,"column":217}},"17":{"start":{"line":28,"column":230},"end":{"line":28,"column":253}},"18":{"start":{"line":28,"column":274},"end":{"line":28,"column":305}},"19":{"start":{"line":28,"column":317},"end":{"line":28,"column":339}},"20":{"start":{"line":29,"column":0},"end":{"line":30,"column":212}},"21":{"start":{"line":30,"column":19},"end":{"line":30,"column":70}},"22":{"start":{"line":30,"column":71},"end":{"line":30,"column":211}},"23":{"start":{"line":31,"column":0},"end":{"line":32,"column":429}},"24":{"start":{"line":32,"column":0},"end":{"line":32,"column":143}},"25":{"start":{"line":32,"column":74},"end":{"line":32,"column":143}},"26":{"start":{"line":32,"column":143},"end":{"line":32,"column":245}},"27":{"start":{"line":32,"column":152},"end":{"line":32,"column":245}},"28":{"start":{"line":32,"column":262},"end":{"line":32,"column":306}},"29":{"start":{"line":32,"column":307},"end":{"line":32,"column":428}},"30":{"start":{"line":33,"column":0},"end":{"line":34,"column":195}},"31":{"start":{"line":34,"column":14},"end":{"line":34,"column":66}},"32":{"start":{"line":34,"column":67},"end":{"line":34,"column":194}},"33":{"start":{"line":35,"column":0},"end":{"line":35,"column":197}},"34":{"start":{"line":35,"column":16},"end":{"line":35,"column":117}},"35":{"start":{"line":35,"column":40},"end":{"line":35,"column":117}},"36":{"start":{"line":35,"column":117},"end":{"line":35,"column":196}},"37":{"start":{"line":37,"column":0},"end":{"line":37,"column":189}},"38":{"start":{"line":48,"column":51},"end":{"line":48,"column":67}},"39":{"start":{"line":48,"column":82},"end":{"line":48,"column":114}},"40":{"start":{"line":48,"column":133},"end":{"line":48,"column":166}},"41":{"start":{"line":48,"column":167},"end":{"line":48,"column":415}},"42":{"start":{"line":48,"column":189},"end":{"line":48,"column":415}},"43":{"start":{"line":48,"column":415},"end":{"line":48,"column":449}},"44":{"start":{"line":58,"column":45},"end":{"line":58,"column":110}},"45":{"start":{"line":58,"column":111},"end":{"line":58,"column":297}},"46":{"start":{"line":58,"column":148},"end":{"line":58,"column":295}},"47":{"start":{"line":58,"column":180},"end":{"line":58,"column":190}},"48":{"start":{"line":58,"column":211},"end":{"line":58,"column":295}},"49":{"start":{"line":58,"column":238},"end":{"line":58,"column":293}},"50":{"start":{"line":66,"column":44},"end":{"line":66,"column":164}},"51":{"start":{"line":71,"column":72},"end":{"line":71,"column":82}},"52":{"start":{"line":71,"column":90},"end":{"line":71,"column":108}},"53":{"start":{"line":71,"column":117},"end":{"line":71,"column":136}},"54":{"start":{"line":71,"column":148},"end":{"line":71,"column":222}},"55":{"start":{"line":71,"column":223},"end":{"line":71,"column":312}},"56":{"start":{"line":71,"column":279},"end":{"line":71,"column":310}},"57":{"start":{"line":84,"column":73},"end":{"line":84,"column":130}},"58":{"start":{"line":84,"column":147},"end":{"line":84,"column":161}},"59":{"start":{"line":84,"column":177},"end":{"line":84,"column":190}},"60":{"start":{"line":84,"column":201},"end":{"line":84,"column":219}},"61":{"start":{"line":84,"column":233},"end":{"line":84,"column":243}},"62":{"start":{"line":84,"column":251},"end":{"line":84,"column":270}},"63":{"start":{"line":84,"column":279},"end":{"line":84,"column":299}},"64":{"start":{"line":84,"column":311},"end":{"line":84,"column":377}},"65":{"start":{"line":84,"column":399},"end":{"line":84,"column":557}},"66":{"start":{"line":84,"column":558},"end":{"line":84,"column":627}},"67":{"start":{"line":84,"column":602},"end":{"line":84,"column":625}},"68":{"start":{"line":93,"column":0},"end":{"line":99,"column":55}},"69":{"start":{"line":93,"column":61},"end":{"line":93,"column":86}},"70":{"start":{"line":93,"column":100},"end":{"line":93,"column":110}},"71":{"start":{"line":93,"column":131},"end":{"line":93,"column":150}},"72":{"start":{"line":93,"column":160},"end":{"line":93,"column":188}},"73":{"start":{"line":93,"column":198},"end":{"line":93,"column":226}},"74":{"start":{"line":93,"column":235},"end":{"line":93,"column":255}},"75":{"start":{"line":93,"column":265},"end":{"line":93,"column":293}},"76":{"start":{"line":93,"column":304},"end":{"line":93,"column":413}},"77":{"start":{"line":93,"column":426},"end":{"line":93,"column":509}},"78":{"start":{"line":93,"column":510},"end":{"line":99,"column":54}},"79":{"start":{"line":93,"column":596},"end":{"line":99,"column":52}},"80":{"start":{"line":94,"column":0},"end":{"line":97,"column":218}},"81":{"start":{"line":94,"column":16},"end":{"line":94,"column":86}},"82":{"start":{"line":95,"column":12},"end":{"line":95,"column":94}},"83":{"start":{"line":97,"column":0},"end":{"line":97,"column":217}},"84":{"start":{"line":97,"column":164},"end":{"line":97,"column":215}},"85":{"start":{"line":99,"column":0},"end":{"line":99,"column":51}}},"fnMap":{"0":{"name":"createAuthProvider","decl":{"start":{"line":1,"column":539},"end":{"line":1,"column":557}},"loc":{"start":{"line":1,"column":587},"end":{"line":8,"column":1}},"line":1},"1":{"name":"(anonymous_1)","decl":{"start":{"line":7,"column":292},"end":{"line":7,"column":293}},"loc":{"start":{"line":7,"column":307},"end":{"line":7,"column":333}},"line":7},"2":{"name":"getLoginMethodAndParams","decl":{"start":{"line":28,"column":12},"end":{"line":28,"column":35}},"loc":{"start":{"line":28,"column":57},"end":{"line":38,"column":1}},"line":28},"3":{"name":"isAuthReady","decl":{"start":{"line":48,"column":12},"end":{"line":48,"column":23}},"loc":{"start":{"line":48,"column":40},"end":{"line":48,"column":450}},"line":48},"4":{"name":"authIsReady","decl":{"start":{"line":58,"column":12},"end":{"line":58,"column":23}},"loc":{"start":{"line":58,"column":30},"end":{"line":58,"column":298}},"line":58},"5":{"name":"(anonymous_5)","decl":{"start":{"line":58,"column":130},"end":{"line":58,"column":131}},"loc":{"start":{"line":58,"column":147},"end":{"line":58,"column":296}},"line":58},"6":{"name":"(anonymous_6)","decl":{"start":{"line":58,"column":227},"end":{"line":58,"column":228}},"loc":{"start":{"line":58,"column":237},"end":{"line":58,"column":294}},"line":58},"7":{"name":"createAuthIsReady","decl":{"start":{"line":66,"column":12},"end":{"line":66,"column":29}},"loc":{"start":{"line":66,"column":43},"end":{"line":66,"column":165}},"line":66},"8":{"name":"updateProfileOnRTDB","decl":{"start":{"line":71,"column":12},"end":{"line":71,"column":31}},"loc":{"start":{"line":71,"column":55},"end":{"line":71,"column":313}},"line":71},"9":{"name":"(anonymous_9)","decl":{"start":{"line":71,"column":268},"end":{"line":71,"column":269}},"loc":{"start":{"line":71,"column":278},"end":{"line":71,"column":311}},"line":71},"10":{"name":"updateProfileOnFirestore","decl":{"start":{"line":84,"column":12},"end":{"line":84,"column":36}},"loc":{"start":{"line":84,"column":60},"end":{"line":84,"column":628}},"line":84},"11":{"name":"(anonymous_11)","decl":{"start":{"line":84,"column":591},"end":{"line":84,"column":592}},"loc":{"start":{"line":84,"column":601},"end":{"line":84,"column":626}},"line":84},"12":{"name":"setupPresence","decl":{"start":{"line":92,"column":12},"end":{"line":92,"column":25}},"loc":{"start":{"line":92,"column":44},"end":{"line":99,"column":56}},"line":92},"13":{"name":"(anonymous_13)","decl":{"start":{"line":93,"column":577},"end":{"line":93,"column":578}},"loc":{"start":{"line":93,"column":595},"end":{"line":99,"column":53}},"line":93},"14":{"name":"(anonymous_14)","decl":{"start":{"line":97,"column":153},"end":{"line":97,"column":154}},"loc":{"start":{"line":97,"column":163},"end":{"line":97,"column":216}},"line":97}},"branchMap":{"0":{"loc":{"start":{"line":4,"column":0},"end":{"line":4,"column":195}},"type":"if","locations":[{"start":{"line":4,"column":0},"end":{"line":4,"column":195}},{"start":{"line":4,"column":0},"end":{"line":4,"column":195}}],"line":4},"1":{"loc":{"start":{"line":7,"column":6},"end":{"line":7,"column":424}},"type":"cond-expr","locations":[{"start":{"line":7,"column":208},"end":{"line":7,"column":216}},{"start":{"line":7,"column":218},"end":{"line":7,"column":423}}],"line":7},"2":{"loc":{"start":{"line":7,"column":7},"end":{"line":7,"column":129}},"type":"binary-expr","locations":[{"start":{"line":7,"column":7},"end":{"line":7,"column":27}},{"start":{"line":7,"column":29},"end":{"line":7,"column":63}},{"start":{"line":7,"column":65},"end":{"line":7,"column":129}}],"line":7},"3":{"loc":{"start":{"line":7,"column":130},"end":{"line":7,"column":206}},"type":"binary-expr","locations":[{"start":{"line":7,"column":130},"end":{"line":7,"column":168}},{"start":{"line":7,"column":170},"end":{"line":7,"column":206}}],"line":7},"4":{"loc":{"start":{"line":7,"column":245},"end":{"line":7,"column":414}},"type":"binary-expr","locations":[{"start":{"line":7,"column":245},"end":{"line":7,"column":251}},{"start":{"line":7,"column":254},"end":{"line":7,"column":413}}],"line":7},"5":{"loc":{"start":{"line":7,"column":254},"end":{"line":7,"column":334}},"type":"binary-expr","locations":[{"start":{"line":7,"column":254},"end":{"line":7,"column":275}},{"start":{"line":7,"column":277},"end":{"line":7,"column":334}}],"line":7},"6":{"loc":{"start":{"line":7,"column":335},"end":{"line":7,"column":413}},"type":"binary-expr","locations":[{"start":{"line":7,"column":336},"end":{"line":7,"column":359}},{"start":{"line":7,"column":361},"end":{"line":7,"column":385}},{"start":{"line":7,"column":388},"end":{"line":7,"column":413}}],"line":7},"7":{"loc":{"start":{"line":29,"column":0},"end":{"line":30,"column":212}},"type":"if","locations":[{"start":{"line":29,"column":0},"end":{"line":30,"column":212}},{"start":{"line":29,"column":0},"end":{"line":30,"column":212}}],"line":29},"8":{"loc":{"start":{"line":30,"column":78},"end":{"line":30,"column":211}},"type":"cond-expr","locations":[{"start":{"line":30,"column":93},"end":{"line":30,"column":159}},{"start":{"line":30,"column":160},"end":{"line":30,"column":211}}],"line":30},"9":{"loc":{"start":{"line":31,"column":0},"end":{"line":32,"column":429}},"type":"if","locations":[{"start":{"line":31,"column":0},"end":{"line":32,"column":429}},{"start":{"line":31,"column":0},"end":{"line":32,"column":429}}],"line":31},"10":{"loc":{"start":{"line":32,"column":0},"end":{"line":32,"column":143}},"type":"if","locations":[{"start":{"line":32,"column":0},"end":{"line":32,"column":143}},{"start":{"line":32,"column":0},"end":{"line":32,"column":143}}],"line":32},"11":{"loc":{"start":{"line":32,"column":143},"end":{"line":32,"column":245}},"type":"if","locations":[{"start":{"line":32,"column":143},"end":{"line":32,"column":245}},{"start":{"line":32,"column":143},"end":{"line":32,"column":245}}],"line":32},"12":{"loc":{"start":{"line":32,"column":313},"end":{"line":32,"column":428}},"type":"cond-expr","locations":[{"start":{"line":32,"column":328},"end":{"line":32,"column":376}},{"start":{"line":32,"column":377},"end":{"line":32,"column":428}}],"line":32},"13":{"loc":{"start":{"line":33,"column":0},"end":{"line":34,"column":195}},"type":"if","locations":[{"start":{"line":33,"column":0},"end":{"line":34,"column":195}},{"start":{"line":33,"column":0},"end":{"line":34,"column":195}}],"line":33},"14":{"loc":{"start":{"line":34,"column":74},"end":{"line":34,"column":194}},"type":"cond-expr","locations":[{"start":{"line":34,"column":84},"end":{"line":34,"column":146}},{"start":{"line":34,"column":147},"end":{"line":34,"column":194}}],"line":34},"15":{"loc":{"start":{"line":35,"column":0},"end":{"line":35,"column":197}},"type":"if","locations":[{"start":{"line":35,"column":0},"end":{"line":35,"column":197}},{"start":{"line":35,"column":0},"end":{"line":35,"column":197}}],"line":35},"16":{"loc":{"start":{"line":35,"column":16},"end":{"line":35,"column":117}},"type":"if","locations":[{"start":{"line":35,"column":16},"end":{"line":35,"column":117}},{"start":{"line":35,"column":16},"end":{"line":35,"column":117}}],"line":35},"17":{"loc":{"start":{"line":37,"column":7},"end":{"line":37,"column":188}},"type":"cond-expr","locations":[{"start":{"line":37,"column":50},"end":{"line":37,"column":111}},{"start":{"line":37,"column":112},"end":{"line":37,"column":188}}],"line":37},"18":{"loc":{"start":{"line":48,"column":82},"end":{"line":48,"column":114}},"type":"cond-expr","locations":[{"start":{"line":48,"column":92},"end":{"line":48,"column":108}},{"start":{"line":48,"column":109},"end":{"line":48,"column":114}}],"line":48},"19":{"loc":{"start":{"line":48,"column":133},"end":{"line":48,"column":166}},"type":"binary-expr","locations":[{"start":{"line":48,"column":133},"end":{"line":48,"column":146}},{"start":{"line":48,"column":148},"end":{"line":48,"column":166}}],"line":48},"20":{"loc":{"start":{"line":48,"column":167},"end":{"line":48,"column":415}},"type":"if","locations":[{"start":{"line":48,"column":167},"end":{"line":48,"column":415}},{"start":{"line":48,"column":167},"end":{"line":48,"column":415}}],"line":48},"21":{"loc":{"start":{"line":48,"column":292},"end":{"line":48,"column":329}},"type":"cond-expr","locations":[{"start":{"line":48,"column":302},"end":{"line":48,"column":326}},{"start":{"line":48,"column":327},"end":{"line":48,"column":329}}],"line":48},"22":{"loc":{"start":{"line":58,"column":45},"end":{"line":58,"column":110}},"type":"cond-expr","locations":[{"start":{"line":58,"column":87},"end":{"line":58,"column":99}},{"start":{"line":58,"column":100},"end":{"line":58,"column":110}}],"line":58},"23":{"loc":{"start":{"line":58,"column":45},"end":{"line":58,"column":86}},"type":"binary-expr","locations":[{"start":{"line":58,"column":45},"end":{"line":58,"column":63}},{"start":{"line":58,"column":65},"end":{"line":58,"column":86}}],"line":58},"24":{"loc":{"start":{"line":58,"column":148},"end":{"line":58,"column":295}},"type":"if","locations":[{"start":{"line":58,"column":148},"end":{"line":58,"column":295}},{"start":{"line":58,"column":148},"end":{"line":58,"column":295}}],"line":58},"25":{"loc":{"start":{"line":58,"column":238},"end":{"line":58,"column":293}},"type":"binary-expr","locations":[{"start":{"line":58,"column":238},"end":{"line":58,"column":266}},{"start":{"line":58,"column":269},"end":{"line":58,"column":292}}],"line":58},"26":{"loc":{"start":{"line":66,"column":50},"end":{"line":66,"column":164}},"type":"cond-expr","locations":[{"start":{"line":66,"column":88},"end":{"line":66,"column":120}},{"start":{"line":66,"column":121},"end":{"line":66,"column":164}}],"line":66},"27":{"loc":{"start":{"line":84,"column":73},"end":{"line":84,"column":130}},"type":"cond-expr","locations":[{"start":{"line":84,"column":115},"end":{"line":84,"column":127}},{"start":{"line":84,"column":128},"end":{"line":84,"column":130}}],"line":84},"28":{"loc":{"start":{"line":84,"column":73},"end":{"line":84,"column":114}},"type":"binary-expr","locations":[{"start":{"line":84,"column":73},"end":{"line":84,"column":91}},{"start":{"line":84,"column":93},"end":{"line":84,"column":114}}],"line":84},"29":{"loc":{"start":{"line":84,"column":399},"end":{"line":84,"column":557}},"type":"cond-expr","locations":[{"start":{"line":84,"column":444},"end":{"line":84,"column":524}},{"start":{"line":84,"column":525},"end":{"line":84,"column":557}}],"line":84},"30":{"loc":{"start":{"line":84,"column":399},"end":{"line":84,"column":443}},"type":"binary-expr","locations":[{"start":{"line":84,"column":399},"end":{"line":84,"column":426}},{"start":{"line":84,"column":428},"end":{"line":84,"column":443}}],"line":84},"31":{"loc":{"start":{"line":84,"column":480},"end":{"line":84,"column":522}},"type":"binary-expr","locations":[{"start":{"line":84,"column":480},"end":{"line":84,"column":506}},{"start":{"line":84,"column":508},"end":{"line":84,"column":522}}],"line":84},"32":{"loc":{"start":{"line":93,"column":0},"end":{"line":99,"column":55}},"type":"if","locations":[{"start":{"line":93,"column":0},"end":{"line":99,"column":55}},{"start":{"line":93,"column":0},"end":{"line":99,"column":55}}],"line":93},"33":{"loc":{"start":{"line":93,"column":3},"end":{"line":93,"column":51}},"type":"binary-expr","locations":[{"start":{"line":93,"column":3},"end":{"line":93,"column":20}},{"start":{"line":93,"column":22},"end":{"line":93,"column":51}}],"line":93},"34":{"loc":{"start":{"line":93,"column":314},"end":{"line":93,"column":397}},"type":"cond-expr","locations":[{"start":{"line":93,"column":342},"end":{"line":93,"column":388}},{"start":{"line":93,"column":389},"end":{"line":93,"column":397}}],"line":93},"35":{"loc":{"start":{"line":93,"column":426},"end":{"line":93,"column":509}},"type":"cond-expr","locations":[{"start":{"line":93,"column":454},"end":{"line":93,"column":500}},{"start":{"line":93,"column":501},"end":{"line":93,"column":509}}],"line":93},"36":{"loc":{"start":{"line":93,"column":510},"end":{"line":93,"column":556}},"type":"binary-expr","locations":[{"start":{"line":93,"column":510},"end":{"line":93,"column":521}},{"start":{"line":93,"column":524},"end":{"line":93,"column":555}}],"line":93},"37":{"loc":{"start":{"line":93,"column":596},"end":{"line":99,"column":52}},"type":"if","locations":[{"start":{"line":93,"column":596},"end":{"line":99,"column":52}},{"start":{"line":93,"column":596},"end":{"line":99,"column":52}}],"line":93},"38":{"loc":{"start":{"line":94,"column":0},"end":{"line":97,"column":218}},"type":"if","locations":[{"start":{"line":94,"column":0},"end":{"line":97,"column":218}},{"start":{"line":94,"column":0},"end":{"line":97,"column":218}}],"line":94},"39":{"loc":{"start":{"line":97,"column":0},"end":{"line":97,"column":68}},"type":"binary-expr","locations":[{"start":{"line":97,"column":0},"end":{"line":97,"column":38}},{"start":{"line":97,"column":40},"end":{"line":97,"column":68}}],"line":97}},"s":{"0":1,"1":1,"2":1,"3":1,"4":6,"5":6,"6":0,"7":6,"8":6,"9":6,"10":2,"11":18,"12":18,"13":18,"14":18,"15":18,"16":18,"17":18,"18":18,"19":18,"20":18,"21":1,"22":1,"23":17,"24":8,"25":1,"26":7,"27":1,"28":6,"29":6,"30":9,"31":3,"32":3,"33":6,"34":4,"35":0,"36":4,"37":2,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":9,"52":9,"53":9,"54":9,"55":9,"56":6,"57":2,"58":2,"59":2,"60":2,"61":2,"62":2,"63":2,"64":2,"65":2,"66":2,"67":2,"68":4,"69":2,"70":2,"71":2,"72":2,"73":2,"74":2,"75":2,"76":2,"77":1,"78":1,"79":1,"80":1,"81":0,"82":0,"83":0,"84":0,"85":1},"f":{"0":6,"1":2,"2":18,"3":0,"4":0,"5":0,"6":0,"7":0,"8":9,"9":6,"10":2,"11":2,"12":4,"13":1,"14":0},"b":{"0":[0,6],"1":[1,5],"2":[6,1,1],"3":[6,5],"4":[5,3],"5":[3,2],"6":[3,2,1],"7":[1,17],"8":[1,0],"9":[8,9],"10":[1,7],"11":[1,6],"12":[1,5],"13":[3,6],"14":[0,3],"15":[4,2],"16":[0,4],"17":[2,0],"18":[0,0],"19":[0,0],"20":[0,0],"21":[0,0],"22":[0,0],"23":[0,0],"24":[0,0],"25":[0,0],"26":[0,0],"27":[0,2],"28":[2,2],"29":[2,0],"30":[2,0],"31":[2,0],"32":[2,2],"33":[4,3],"34":[0,2],"35":[0,1],"36":[1,0],"37":[1,0],"38":[0,1],"39":[0,0]},"inputSourceMap":{"version":3,"sources":["auth.js"],"names":["createAuthProvider","firebase","providerName","scopes","capitalProviderName","auth","Error","provider","customAuthParameters","_","config","setCustomParameters","toLowerCase","addScope","Array","isArray","forEach","scope","String","getLoginMethodAndParams","credentials","email","password","type","token","phoneNumber","applicationVerifier","credential","credentialAuth","signInAndRetrieveDataWithCredential","method","params","indexOf","authProvider","tokenAuth","signInAndRetrieveDataWithCustomToken","signInWithEmailAndPassword","isAuthReady","store","stateName","state","getState","firebaseState","firebaseAuthState","isLoaded","authIsReady","Promise","resolve","unsubscribe","subscribe","createAuthIsReady","firebaseStateName","updateProfileOnRTDB","profileUpdate","authUid","profileRef","database","ref","userProfile","update","then","once","updateProfileOnFirestore","options","useSet","merge","firestore","doc","profileUpdatePromise","set","get","setupPresence","dispatch","ServerValue","presence","sessions","amOnline","child","onlineRef","currentUser","sessionsRef","on","snapShot","val","actionTypes","SESSION_START","payload","session","push","startedAt","TIMESTAMP","user","setPriority","onDisconnect","SESSION_END","remove"],"mappings":"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","sourceRoot":"/Users/scott/Dev/Code/react-redux-firebase/src/utils","sourcesContent":["import { capitalize } from 'lodash'\nimport { supportedAuthProviders, actionTypes } from '../constants'\n\n/**\n * @description Get correct login method and params order based on provided credentials\n * @param {object} firebase - Internal firebase object\n * @param {string} providerName - Name of Auth Provider (i.e. google, github, facebook, twitter)\n * @param {Array|string} scopes - List of scopes to add to auth provider\n * @returns {firebase.auth.AuthCredential} provider - Auth Provider\n * @private\n */\nfunction createAuthProvider(firebase, providerName, scopes) {\n  // TODO: Verify scopes are valid before adding\n  // TODO: Validate parameter inputs\n  const capitalProviderName = `${capitalize(providerName)}AuthProvider`\n\n  // Throw if auth provider does not exist on Firebase instance\n  if (!firebase.auth[capitalProviderName]) {\n    throw new Error(\n      `${providerName} is not a valid auth provider for your firebase instance. If using react-native, use a RN specific auth library.`\n    )\n  }\n\n  const provider = new firebase.auth[capitalProviderName]()\n\n  // Custom Auth Parameters\n  // TODO: Validate parameter inputs\n  const { customAuthParameters } = firebase._.config\n  if (customAuthParameters && customAuthParameters[providerName]) {\n    provider.setCustomParameters(customAuthParameters[providerName])\n  }\n\n  // Handle providers without scopes\n  if (\n    providerName.toLowerCase() === 'twitter' ||\n    typeof provider.addScope !== 'function'\n  ) {\n    return provider\n  }\n\n  // TODO: Verify scopes are valid before adding\n  provider.addScope('email')\n\n  if (scopes) {\n    if (Array.isArray(scopes)) {\n      scopes.forEach(scope => {\n        provider.addScope(scope)\n      })\n    }\n    // Add single scope if it is a string\n    if (typeof scopes === 'string' || scopes instanceof String) {\n      provider.addScope(scopes)\n    }\n  }\n\n  return provider\n}\n\n/**\n * Get correct login method and params order based on provided\n * credentials\n * @param {object} firebase - Internal firebase object\n * @param {object} credentials - Login credentials\n * @param {string} credentials.email - Email to login with (only needed for\n * email login)\n * @param {string} credentials.password - Password to login with (only needed\n * for email login)\n * @param {string} credentials.provider - Provider name such as google, twitter\n * (only needed for 3rd party provider login)\n * @param {string} credentials.type - Popup or redirect (only needed for 3rd\n * party provider login)\n * @param {string} credentials.token - Custom or provider token\n * @param {firebase.auth.AuthCredential} credentials.credential - Custom or\n * provider token\n * @param {Array|string} credentials.scopes - Scopes to add to provider\n * (i.e. email)\n * @returns {object} Method and params for calling login\n * @private\n */\nexport function getLoginMethodAndParams(firebase, credentials) {\n  const {\n    email,\n    password,\n    provider,\n    type,\n    token,\n    scopes,\n    phoneNumber,\n    applicationVerifier,\n    credential\n  } = credentials\n  // Credential Auth\n  if (credential) {\n    // Attempt to use signInAndRetrieveDataWithCredential if it exists (see #467 for more info)\n    const credentialAuth = firebase.auth().signInAndRetrieveDataWithCredential\n\n    if (credentialAuth) {\n      return {\n        method: 'signInAndRetrieveDataWithCredential',\n        params: [credential]\n      }\n    }\n    return { method: 'signInWithCredential', params: [credential] }\n  }\n\n  // Provider Auth\n  if (provider) {\n    // Verify providerName is valid\n    if (supportedAuthProviders.indexOf(provider.toLowerCase()) === -1) {\n      throw new Error(`${provider} is not a valid Auth Provider`)\n    }\n    if (token) {\n      throw new Error(\n        'provider with token no longer supported, use credential parameter instead'\n      )\n    }\n    const authProvider = createAuthProvider(firebase, provider, scopes)\n    if (type === 'popup') {\n      return { method: 'signInWithPopup', params: [authProvider] }\n    }\n    return { method: 'signInWithRedirect', params: [authProvider] }\n  }\n\n  // Token Auth\n  if (token) {\n    // Check for new sign in method (see #484 for more info)\n    const tokenAuth = firebase.auth().signInAndRetrieveDataWithCustomToken\n\n    if (tokenAuth) {\n      return { method: 'signInAndRetrieveDataWithCustomToken', params: [token] }\n    }\n\n    return { method: 'signInWithCustomToken', params: [token] }\n  }\n\n  // Phone Number Auth\n  if (phoneNumber) {\n    if (!applicationVerifier) {\n      throw new Error(\n        'Application verifier is required for phone authentication'\n      )\n    }\n    return {\n      method: 'signInWithPhoneNumber',\n      params: [phoneNumber, applicationVerifier]\n    }\n  }\n\n  // Check for new sign in method (see #484 for more info)\n  // Note: usage of signInAndRetrieveDataWithEmailAndPassword is now a fallback since it is deprecated (see #484 for more info)\n  if (!firebase.auth().signInWithEmailAndPassword) {\n    return {\n      method: 'signInAndRetrieveDataWithEmailAndPassword',\n      params: [email, password]\n    }\n  }\n\n  // Email/Password Auth\n  return { method: 'signInWithEmailAndPassword', params: [email, password] }\n}\n\n/**\n * Returns a promise that completes when Firebase Auth is ready in the given\n * store using react-redux-firebase.\n * @param {object} store - The Redux store on which we want to detect if\n * Firebase auth is ready.\n * @param {string} [stateName='firebase'] - The attribute name of the\n * react-redux-firebase reducer when using multiple combined reducers.\n * 'firebase' by default. Set this to `null` to indicate that the\n * react-redux-firebase reducer is not in a combined reducer.\n * @returns {Promise} Resolves when Firebase auth is ready in the store.\n */\nfunction isAuthReady(store, stateName) {\n  const state = store.getState()\n  const firebaseState = stateName ? state[stateName] : state\n  const firebaseAuthState = firebaseState && firebaseState.auth\n  if (!firebaseAuthState) {\n    throw new Error(\n      `The Firebase auth state could not be found in the store under the attribute '${\n        stateName ? `${stateName}.` : ''\n      }auth'. Make sure your react-redux-firebase reducer is correctly set in the store`\n    )\n  }\n  return firebaseState.auth.isLoaded\n}\n\n/**\n * Returns a promise that completes when Firebase Auth is ready in the given\n * store using react-redux-firebase.\n * @param {object} store - The Redux store on which we want to detect if\n * Firebase auth is ready.\n * @param {string} [stateName='firebase'] - The attribute name of the react-redux-firebase\n * reducer when using multiple combined reducers. 'firebase' by default. Set\n * this to `null` to indicate that the react-redux-firebase reducer is not in a\n * combined reducer.\n * @returns {Promise} Resolve when Firebase auth is ready in the store.\n */\nexport function authIsReady(store, stateName = 'firebase') {\n  return new Promise(resolve => {\n    if (isAuthReady(store, stateName)) {\n      resolve()\n    } else {\n      const unsubscribe = store.subscribe(() => {\n        if (isAuthReady(store, stateName)) {\n          unsubscribe()\n          resolve()\n        }\n      })\n    }\n  })\n}\n\n/**\n * Function that creates and authIsReady promise\n * @param {object} store - The Redux store on which we want to detect if\n * Firebase auth is ready.\n * @param {object} config - Config options for authIsReady\n * @param {string} config.authIsReady - Config options for authIsReady\n * @param {string} config.firebaseStateName - Config options for authIsReady\n * @returns {Promise} Resolves when Firebase auth is ready in the store.\n */\nexport function createAuthIsReady(store, config) {\n  return typeof config.authIsReady === 'function'\n    ? config.authIsReady(store, config)\n    : authIsReady(store, config.firebaseStateName)\n}\n\n/**\n * Update profile data on Firebase Real Time Database\n * @param {object} firebase - internal firebase object\n * @param {object} profileUpdate - Updates to profile object\n * @returns {Promise} Resolves with results of profile get\n */\nexport function updateProfileOnRTDB(firebase, profileUpdate) {\n  const { _: { config, authUid } } = firebase\n  const profileRef = firebase.database().ref(`${config.userProfile}/${authUid}`)\n  return profileRef.update(profileUpdate).then(() => profileRef.once('value'))\n}\n\n/**\n * Update profile data on Firestore by calling set (with merge: true) on\n * the profile.\n * @param {object} firebase - internal firebase object\n * @param {object} profileUpdate - Updates to profile object\n * @param {object} options - Options object for configuring how profile\n * update occurs\n * @param {boolean} [options.useSet=true] - Use set with merge instead of\n * update. Setting to `false` uses update (can cause issue of profile document\n * does not exist).\n * @param {boolean} [options.merge=true] - Whether or not to use merge when\n * setting profile\n * @returns {Promise} Resolves with results of profile get\n */\nexport function updateProfileOnFirestore(\n  firebase,\n  profileUpdate,\n  options = {}\n) {\n  const { useSet = true, merge = true } = options\n  const { firestore, _: { config, authUid } } = firebase\n  const profileRef = firestore().doc(`${config.userProfile}/${authUid}`)\n  // Use set with merge (to prevent \"No document to update\") unless otherwise\n  // specificed through options\n  const profileUpdatePromise = useSet\n    ? profileRef.set(profileUpdate, { merge })\n    : profileRef.update(profileUpdate)\n  return profileUpdatePromise.then(() => profileRef.get())\n}\n\n/**\n * Start presence management for a specificed user uid.\n * Presence collection contains a list of users that are online currently.\n * Sessions collection contains a record of all user sessions.\n * This function is called within login functions if enablePresence: true.\n * @param {Function} dispatch - Action dispatch function\n * @param {object} firebase - Internal firebase object\n * @private\n */\nexport function setupPresence(dispatch, firebase) {\n  // exit if database does not exist on firebase instance\n  if (!firebase.database || !firebase.database.ServerValue) {\n    return\n  }\n  const ref = firebase.database().ref()\n  const { config: { presence, sessions }, authUid } = firebase._\n  const amOnline = ref.child('.info/connected')\n  const onlineRef = ref\n    .child(\n      typeof presence === 'function'\n        ? presence(firebase.auth().currentUser, firebase)\n        : presence\n    )\n    .child(authUid)\n  let sessionsRef =\n    typeof sessions === 'function'\n      ? sessions(firebase.auth().currentUser, firebase)\n      : sessions\n  if (sessionsRef) {\n    sessionsRef = ref.child(sessions)\n  }\n  amOnline.on('value', snapShot => {\n    if (!snapShot.val()) return\n    // user is online\n    if (sessionsRef) {\n      // add session and set disconnect\n      dispatch({ type: actionTypes.SESSION_START, payload: authUid })\n      // add new session to sessions collection\n      const session = sessionsRef.push({\n        startedAt: firebase.database.ServerValue.TIMESTAMP,\n        user: authUid\n      })\n      // Support versions of react-native-firebase that do not have setPriority\n      // on firebase.database.ThenableReference\n      if (typeof session.setPriority === 'function') {\n        // set authUid as priority for easy sorting\n        session.setPriority(authUid)\n      }\n      session\n        .child('endedAt')\n        .onDisconnect()\n        .set(firebase.database.ServerValue.TIMESTAMP, () => {\n          dispatch({ type: actionTypes.SESSION_END })\n        })\n    }\n    // add correct session id to user\n    // remove from presence list\n    onlineRef.set(true)\n    onlineRef.onDisconnect().remove()\n  })\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"1b7a59295d3b729e97d71cf248d8b5b4e22b028f","contentHash":"c88c6d206d83d322462e4eec91e4de7d12cf50b3c1f0861ede9f587d23d9c88f"},"/Users/scott/Dev/Code/react-redux-firebase/src/ReactReduxFirebaseProvider.js":{"path":"/Users/scott/Dev/Code/react-redux-firebase/src/ReactReduxFirebaseProvider.js","statementMap":{"0":{"start":{"line":1,"column":40},"end":{"line":1,"column":95}},"1":{"start":{"line":1,"column":96},"end":{"line":1,"column":174}},"2":{"start":{"line":1,"column":188},"end":{"line":1,"column":253}},"3":{"start":{"line":1,"column":261},"end":{"line":1,"column":301}},"4":{"start":{"line":1,"column":313},"end":{"line":1,"column":358}},"5":{"start":{"line":1,"column":383},"end":{"line":1,"column":442}},"6":{"start":{"line":1,"column":470},"end":{"line":1,"column":532}},"7":{"start":{"line":1,"column":557},"end":{"line":1,"column":616}},"8":{"start":{"line":13,"column":51},"end":{"line":13,"column":108}},"9":{"start":{"line":13,"column":118},"end":{"line":13,"column":132}},"10":{"start":{"line":13,"column":140},"end":{"line":13,"column":152}},"11":{"start":{"line":13,"column":162},"end":{"line":13,"column":176}},"12":{"start":{"line":13,"column":186},"end":{"line":13,"column":200}},"13":{"start":{"line":13,"column":216},"end":{"line":13,"column":236}},"14":{"start":{"line":13,"column":261},"end":{"line":13,"column":290}},"15":{"start":{"line":13,"column":316},"end":{"line":13,"column":559}},"16":{"start":{"line":13,"column":379},"end":{"line":13,"column":440}},"17":{"start":{"line":13,"column":441},"end":{"line":13,"column":530}},"18":{"start":{"line":14,"column":0},"end":{"line":14,"column":376}},"19":{"start":{"line":14,"column":377},"end":{"line":14,"column":730}},"20":{"start":{"line":14,"column":743},"end":{"line":14,"column":769}},"21":{"start":{"line":14,"column":770},"end":{"line":14,"column":826}}},"fnMap":{"0":{"name":"ReactReduxFirebaseProvider","decl":{"start":{"line":13,"column":12},"end":{"line":13,"column":38}},"loc":{"start":{"line":13,"column":40},"end":{"line":14,"column":377}},"line":13},"1":{"name":"(anonymous_1)","decl":{"start":{"line":13,"column":339},"end":{"line":13,"column":340}},"loc":{"start":{"line":13,"column":349},"end":{"line":13,"column":531}},"line":13}},"branchMap":{"0":{"loc":{"start":{"line":13,"column":51},"end":{"line":13,"column":108}},"type":"cond-expr","locations":[{"start":{"line":13,"column":93},"end":{"line":13,"column":105}},{"start":{"line":13,"column":106},"end":{"line":13,"column":108}}],"line":13},"1":{"loc":{"start":{"line":13,"column":51},"end":{"line":13,"column":92}},"type":"binary-expr","locations":[{"start":{"line":13,"column":51},"end":{"line":13,"column":69}},{"start":{"line":13,"column":71},"end":{"line":13,"column":92}}],"line":13},"2":{"loc":{"start":{"line":13,"column":448},"end":{"line":13,"column":505}},"type":"binary-expr","locations":[{"start":{"line":13,"column":448},"end":{"line":13,"column":462}},{"start":{"line":13,"column":464},"end":{"line":13,"column":505}}],"line":13},"3":{"loc":{"start":{"line":14,"column":7},"end":{"line":14,"column":376}},"type":"cond-expr","locations":[{"start":{"line":14,"column":31},"end":{"line":14,"column":260}},{"start":{"line":14,"column":261},"end":{"line":14,"column":376}}],"line":14}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":56,"9":56,"10":56,"11":56,"12":56,"13":56,"14":56,"15":56,"16":56,"17":56,"18":56,"19":1,"20":1,"21":1},"f":{"0":56,"1":56},"b":{"0":[56,0],"1":[56,56],"2":[56,56],"3":[54,2]},"inputSourceMap":{"version":3,"sources":["ReactReduxFirebaseProvider.js"],"names":["ReactReduxFirebaseProvider","props","children","config","dispatch","firebase","initializeAuth","createFirestoreInstance","extendedFirebaseInstance","React","useMemo","defaultProps","propTypes","PropTypes","node","object","isRequired","func","bool"],"mappings":"ymBAMA;;;;;;;;;;;;GAaA,QAASA,CAAAA,0BAAT,EAAgD,IAAZC,CAAAA,KAAY,wDAAJ,EAAI,CAE5CC,QAF4C,CAQ1CD,KAR0C,CAE5CC,QAF4C,CAG5CC,MAH4C,CAQ1CF,KAR0C,CAG5CE,MAH4C,CAI5CC,QAJ4C,CAQ1CH,KAR0C,CAI5CG,QAJ4C,CAK5CC,QAL4C,CAQ1CJ,KAR0C,CAK5CI,QAL4C,CAM5CC,cAN4C,CAQ1CL,KAR0C,CAM5CK,cAN4C,CAO5CC,uBAP4C,CAQ1CN,KAR0C,CAO5CM,uBAP4C,CASxCC,wBAAwB,CAAGC,eAAMC,OAAN,CAC/B,UAAM,CACJ,GAAMF,CAAAA,wBAAwB,CAAG,oCAC/BH,QAD+B,CAE/BF,MAF+B,CAG/BC,QAH+B,CAAjC,CAQA,MAHIE,CAAAA,cAGJ,EAFEE,wBAAwB,CAACF,cAAzB,EAEF,CAAOE,wBACR,CAX8B,CAY/B,CAACH,QAAD,CAAWF,MAAX,CAAmBC,QAAnB,CAZ+B,CATa,CAuB9C;AAvB8C,MAwB1CG,CAAAA,uBAxB0C,CA0B1C,6BAAC,kCAAD,CAA2B,QAA3B,EAAoC,KAAK,CAAEC,wBAA3C,EACE,6BAAC,+BAAD,0BAA4BP,KAA5B,EAAmC,cAAc,GAAjD,GACGC,QADH,CADF,CA1B0C,CAkC5C,6BAAC,kCAAD,CAA2B,QAA3B,EAAoC,KAAK,CAAEM,wBAA3C,EACGN,QADH,CAIH,CAEDF,0BAA0B,CAACW,YAA3B,CAA0C,CACxCL,cAAc,GAD0B,C,CAI1CN,0BAA0B,CAACY,SAA3B,CAAuC,CACrCV,QAAQ,CAAEW,mBAAUC,IADiB,CAErCX,MAAM,CAAEU,mBAAUE,MAAV,CAAiBC,UAFY,CAGrCZ,QAAQ,CAAES,mBAAUI,IAAV,CAAeD,UAHY,CAIrCX,QAAQ,CAAEQ,mBAAUE,MAAV,CAAiBC,UAJU,CAKrCV,cAAc,CAAEO,mBAAUK,IALW,CAMrCX,uBAAuB,CAAEM,mBAAUI,IANE,C,cASxBjB,0B","sourceRoot":"/Users/scott/Dev/Code/react-redux-firebase/src","sourcesContent":["import React from 'react'\nimport PropTypes from 'prop-types'\nimport createFirebaseInstance from './createFirebaseInstance'\nimport ReactReduxFirebaseContext from './ReactReduxFirebaseContext'\nimport ReduxFirestoreProvider from './ReduxFirestoreProvider'\n\n/**\n * @description Provider for context containing extended firebase\n * instance created by react-redux-firebase.\n * @param {object} props - Component props\n * @param {object} props.config - react-redux-firebase config\n * @param {Function} props.dispatch - Redux's dispatch function\n * @param {object} props.firebase - Firebase library\n * @param {boolean} props.initializeAuth - Whether or not to initialize auth\n * @param {Function} props.createFirestoreInstance - Function for creating\n * extended firestore instance\n * @returns {React.Context.Provider} Provider for react-redux-firebase context\n * @see https://react-redux-firebase.com/api/docs/ReactReduxFirebaseProvider.html\n */\nfunction ReactReduxFirebaseProvider(props = {}) {\n  const {\n    children,\n    config,\n    dispatch,\n    firebase,\n    initializeAuth,\n    createFirestoreInstance\n  } = props\n  const extendedFirebaseInstance = React.useMemo(\n    () => {\n      const extendedFirebaseInstance = createFirebaseInstance(\n        firebase,\n        config,\n        dispatch\n      )\n      if (initializeAuth) {\n        extendedFirebaseInstance.initializeAuth()\n      }\n      return extendedFirebaseInstance\n    },\n    [firebase, config, dispatch]\n  )\n  // Initialize auth if not disabled\n  if (createFirestoreInstance) {\n    return (\n      <ReactReduxFirebaseContext.Provider value={extendedFirebaseInstance}>\n        <ReduxFirestoreProvider {...props} initializeAuth={false}>\n          {children}\n        </ReduxFirestoreProvider>\n      </ReactReduxFirebaseContext.Provider>\n    )\n  }\n  return (\n    <ReactReduxFirebaseContext.Provider value={extendedFirebaseInstance}>\n      {children}\n    </ReactReduxFirebaseContext.Provider>\n  )\n}\n\nReactReduxFirebaseProvider.defaultProps = {\n  initializeAuth: true\n}\n\nReactReduxFirebaseProvider.propTypes = {\n  children: PropTypes.node,\n  config: PropTypes.object.isRequired,\n  dispatch: PropTypes.func.isRequired,\n  firebase: PropTypes.object.isRequired,\n  initializeAuth: PropTypes.bool,\n  createFirestoreInstance: PropTypes.func\n}\n\nexport default ReactReduxFirebaseProvider\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"02b5b987d22c26a9f4dcebab38a692405183dadd","contentHash":"67a7e6388ae6542a55479cd2d52c0b2de38e3deff8f319bf47a09e4e0e886d61"},"/Users/scott/Dev/Code/react-redux-firebase/src/createFirebaseInstance.js":{"path":"/Users/scott/Dev/Code/react-redux-firebase/src/createFirebaseInstance.js","statementMap":{"0":{"start":{"line":1,"column":41},"end":{"line":1,"column":97}},"1":{"start":{"line":1,"column":121},"end":{"line":1,"column":176}},"2":{"start":{"line":1,"column":177},"end":{"line":1,"column":303}},"3":{"start":{"line":1,"column":324},"end":{"line":1,"column":396}},"4":{"start":{"line":1,"column":405},"end":{"line":1,"column":455}},"5":{"start":{"line":1,"column":467},"end":{"line":1,"column":517}},"6":{"start":{"line":1,"column":525},"end":{"line":1,"column":543}},"7":{"start":{"line":1,"column":553},"end":{"line":1,"column":579}},"8":{"start":{"line":1,"column":592},"end":{"line":1,"column":642}},"9":{"start":{"line":1,"column":656},"end":{"line":1,"column":707}},"10":{"start":{"line":1,"column":723},"end":{"line":1,"column":776}},"11":{"start":{"line":1,"column":826},"end":{"line":1,"column":845}},"12":{"start":{"line":1,"column":846},"end":{"line":1,"column":1077}},"13":{"start":{"line":1,"column":891},"end":{"line":1,"column":927}},"14":{"start":{"line":1,"column":928},"end":{"line":1,"column":1076}},"15":{"start":{"line":1,"column":982},"end":{"line":1,"column":1043}},"16":{"start":{"line":1,"column":1077},"end":{"line":1,"column":1088}},"17":{"start":{"line":1,"column":1120},"end":{"line":1,"column":1528}},"18":{"start":{"line":1,"column":1137},"end":{"line":1,"column":1138}},"19":{"start":{"line":1,"column":1162},"end":{"line":1,"column":1528}},"20":{"start":{"line":1,"column":1249},"end":{"line":1,"column":1301}},"21":{"start":{"line":1,"column":1448},"end":{"line":1,"column":1525}},"22":{"start":{"line":1,"column":1528},"end":{"line":1,"column":1541}},"23":{"start":{"line":8,"column":62},"end":{"line":8,"column":211}},"24":{"start":{"line":8,"column":211},"end":{"line":8,"column":333}},"25":{"start":{"line":17,"column":18},"end":{"line":17,"column":506}},"26":{"start":{"line":17,"column":57},"end":{"line":17,"column":443}},"27":{"start":{"line":17,"column":102},"end":{"line":17,"column":139}},"28":{"start":{"line":17,"column":153},"end":{"line":17,"column":272}},"29":{"start":{"line":17,"column":273},"end":{"line":17,"column":442}},"30":{"start":{"line":17,"column":443},"end":{"line":17,"column":505}},"31":{"start":{"line":17,"column":522},"end":{"line":19,"column":34}},"32":{"start":{"line":38,"column":5},"end":{"line":39,"column":176}},"33":{"start":{"line":38,"column":121},"end":{"line":38,"column":157}},"34":{"start":{"line":38,"column":199},"end":{"line":38,"column":257}},"35":{"start":{"line":38,"column":315},"end":{"line":38,"column":359}},"36":{"start":{"line":38,"column":413},"end":{"line":38,"column":754}},"37":{"start":{"line":38,"column":474},"end":{"line":38,"column":502}},"38":{"start":{"line":38,"column":539},"end":{"line":38,"column":553}},"39":{"start":{"line":38,"column":563},"end":{"line":38,"column":576}},"40":{"start":{"line":38,"column":577},"end":{"line":38,"column":704}},"41":{"start":{"line":38,"column":605},"end":{"line":38,"column":638}},"42":{"start":{"line":38,"column":639},"end":{"line":38,"column":703}},"43":{"start":{"line":38,"column":704},"end":{"line":38,"column":752}},"44":{"start":{"line":38,"column":798},"end":{"line":38,"column":857}},"45":{"start":{"line":38,"column":917},"end":{"line":38,"column":962}},"46":{"start":{"line":38,"column":1012},"end":{"line":38,"column":1143}},"47":{"start":{"line":38,"column":1087},"end":{"line":38,"column":1141}},"48":{"start":{"line":38,"column":1191},"end":{"line":38,"column":1252}},"49":{"start":{"line":38,"column":1316},"end":{"line":38,"column":1363}},"50":{"start":{"line":38,"column":1399},"end":{"line":38,"column":1454}},"51":{"start":{"line":38,"column":1517},"end":{"line":38,"column":1584}},"52":{"start":{"line":38,"column":1611},"end":{"line":38,"column":1655}},"53":{"start":{"line":38,"column":1716},"end":{"line":38,"column":1791}},"54":{"start":{"line":38,"column":1852},"end":{"line":38,"column":1926}},"55":{"start":{"line":38,"column":1988},"end":{"line":38,"column":2061}},"56":{"start":{"line":38,"column":2120},"end":{"line":38,"column":2223}},"57":{"start":{"line":38,"column":2285},"end":{"line":38,"column":2391}},"58":{"start":{"line":38,"column":2437},"end":{"line":38,"column":2514}},"59":{"start":{"line":38,"column":2568},"end":{"line":38,"column":2636}},"60":{"start":{"line":38,"column":2682},"end":{"line":38,"column":2739}},"61":{"start":{"line":38,"column":2807},"end":{"line":38,"column":2879}},"62":{"start":{"line":38,"column":2944},"end":{"line":38,"column":3010}},"63":{"start":{"line":38,"column":3074},"end":{"line":38,"column":3131}},"64":{"start":{"line":38,"column":3132},"end":{"line":38,"column":3242}},"65":{"start":{"line":38,"column":3310},"end":{"line":38,"column":3367}},"66":{"start":{"line":38,"column":3368},"end":{"line":38,"column":3480}},"67":{"start":{"line":38,"column":3515},"end":{"line":38,"column":3563}},"68":{"start":{"line":38,"column":3624},"end":{"line":38,"column":3691}},"69":{"start":{"line":38,"column":3766},"end":{"line":38,"column":3803}},"70":{"start":{"line":38,"column":3813},"end":{"line":38,"column":3842}},"71":{"start":{"line":38,"column":3856},"end":{"line":38,"column":3895}},"72":{"start":{"line":39,"column":0},"end":{"line":39,"column":122}},"73":{"start":{"line":39,"column":58},"end":{"line":39,"column":119}},"74":{"start":{"line":74,"column":0},"end":{"line":74,"column":23}}},"fnMap":{"0":{"name":"ownKeys","decl":{"start":{"line":1,"column":786},"end":{"line":1,"column":793}},"loc":{"start":{"line":1,"column":816},"end":{"line":1,"column":1089}},"line":1},"1":{"name":"(anonymous_1)","decl":{"start":{"line":1,"column":968},"end":{"line":1,"column":969}},"loc":{"start":{"line":1,"column":981},"end":{"line":1,"column":1044}},"line":1},"2":{"name":"_objectSpread","decl":{"start":{"line":1,"column":1098},"end":{"line":1,"column":1111}},"loc":{"start":{"line":1,"column":1119},"end":{"line":1,"column":1542}},"line":1},"3":{"name":"(anonymous_3)","decl":{"start":{"line":1,"column":1235},"end":{"line":1,"column":1236}},"loc":{"start":{"line":1,"column":1248},"end":{"line":1,"column":1302}},"line":1},"4":{"name":"(anonymous_4)","decl":{"start":{"line":1,"column":1434},"end":{"line":1,"column":1435}},"loc":{"start":{"line":1,"column":1447},"end":{"line":1,"column":1526}},"line":1},"5":{"name":"createFirebaseInstance","decl":{"start":{"line":8,"column":12},"end":{"line":8,"column":34}},"loc":{"start":{"line":8,"column":61},"end":{"line":39,"column":177}},"line":8},"6":{"name":"(anonymous_6)","decl":{"start":{"line":17,"column":18},"end":{"line":17,"column":19}},"loc":{"start":{"line":17,"column":56},"end":{"line":17,"column":506}},"line":17},"7":{"name":"ref","decl":{"start":{"line":38,"column":111},"end":{"line":38,"column":114}},"loc":{"start":{"line":38,"column":120},"end":{"line":38,"column":158}},"line":38},"8":{"name":"set","decl":{"start":{"line":38,"column":172},"end":{"line":38,"column":175}},"loc":{"start":{"line":38,"column":198},"end":{"line":38,"column":258}},"line":38},"9":{"name":"setWithMeta","decl":{"start":{"line":38,"column":280},"end":{"line":38,"column":291}},"loc":{"start":{"line":38,"column":314},"end":{"line":38,"column":360}},"line":38},"10":{"name":"uniqueSet","decl":{"start":{"line":38,"column":380},"end":{"line":38,"column":389}},"loc":{"start":{"line":38,"column":412},"end":{"line":38,"column":755}},"line":38},"11":{"name":"(anonymous_11)","decl":{"start":{"line":38,"column":462},"end":{"line":38,"column":463}},"loc":{"start":{"line":38,"column":473},"end":{"line":38,"column":503}},"line":38},"12":{"name":"(anonymous_12)","decl":{"start":{"line":38,"column":510},"end":{"line":38,"column":511}},"loc":{"start":{"line":38,"column":524},"end":{"line":38,"column":753}},"line":38},"13":{"name":"push","decl":{"start":{"line":38,"column":770},"end":{"line":38,"column":774}},"loc":{"start":{"line":38,"column":797},"end":{"line":38,"column":858}},"line":38},"14":{"name":"pushWithMeta","decl":{"start":{"line":38,"column":881},"end":{"line":38,"column":893}},"loc":{"start":{"line":38,"column":916},"end":{"line":38,"column":963}},"line":38},"15":{"name":"remove","decl":{"start":{"line":38,"column":980},"end":{"line":38,"column":986}},"loc":{"start":{"line":38,"column":1011},"end":{"line":38,"column":1144}},"line":38},"16":{"name":"(anonymous_16)","decl":{"start":{"line":38,"column":1076},"end":{"line":38,"column":1077}},"loc":{"start":{"line":38,"column":1086},"end":{"line":38,"column":1142}},"line":38},"17":{"name":"update","decl":{"start":{"line":38,"column":1161},"end":{"line":38,"column":1167}},"loc":{"start":{"line":38,"column":1190},"end":{"line":38,"column":1253}},"line":38},"18":{"name":"updateWithMeta","decl":{"start":{"line":38,"column":1278},"end":{"line":38,"column":1292}},"loc":{"start":{"line":38,"column":1315},"end":{"line":38,"column":1364}},"line":38},"19":{"name":"login","decl":{"start":{"line":38,"column":1380},"end":{"line":38,"column":1385}},"loc":{"start":{"line":38,"column":1398},"end":{"line":38,"column":1455}},"line":38},"20":{"name":"handleRedirectResult","decl":{"start":{"line":38,"column":1486},"end":{"line":38,"column":1506}},"loc":{"start":{"line":38,"column":1516},"end":{"line":38,"column":1585}},"line":38},"21":{"name":"logout","decl":{"start":{"line":38,"column":1602},"end":{"line":38,"column":1608}},"loc":{"start":{"line":38,"column":1610},"end":{"line":38,"column":1656}},"line":38},"22":{"name":"updateAuth","decl":{"start":{"line":38,"column":1677},"end":{"line":38,"column":1687}},"loc":{"start":{"line":38,"column":1715},"end":{"line":38,"column":1792}},"line":38},"23":{"name":"updateEmail","decl":{"start":{"line":38,"column":1814},"end":{"line":38,"column":1825}},"loc":{"start":{"line":38,"column":1851},"end":{"line":38,"column":1927}},"line":38},"24":{"name":"updateProfile","decl":{"start":{"line":38,"column":1951},"end":{"line":38,"column":1964}},"loc":{"start":{"line":38,"column":1987},"end":{"line":38,"column":2062}},"line":38},"25":{"name":"uploadFile","decl":{"start":{"line":38,"column":2083},"end":{"line":38,"column":2093}},"loc":{"start":{"line":38,"column":2119},"end":{"line":38,"column":2224}},"line":38},"26":{"name":"uploadFiles","decl":{"start":{"line":38,"column":2246},"end":{"line":38,"column":2257}},"loc":{"start":{"line":38,"column":2284},"end":{"line":38,"column":2392}},"line":38},"27":{"name":"deleteFile","decl":{"start":{"line":38,"column":2413},"end":{"line":38,"column":2423}},"loc":{"start":{"line":38,"column":2436},"end":{"line":38,"column":2515}},"line":38},"28":{"name":"createUser","decl":{"start":{"line":38,"column":2536},"end":{"line":38,"column":2546}},"loc":{"start":{"line":38,"column":2567},"end":{"line":38,"column":2637}},"line":38},"29":{"name":"resetPassword","decl":{"start":{"line":38,"column":2661},"end":{"line":38,"column":2674}},"loc":{"start":{"line":38,"column":2681},"end":{"line":38,"column":2740}},"line":38},"30":{"name":"confirmPasswordReset","decl":{"start":{"line":38,"column":2771},"end":{"line":38,"column":2791}},"loc":{"start":{"line":38,"column":2806},"end":{"line":38,"column":2880}},"line":38},"31":{"name":"verifyPasswordResetCode","decl":{"start":{"line":38,"column":2914},"end":{"line":38,"column":2937}},"loc":{"start":{"line":38,"column":2943},"end":{"line":38,"column":3011}},"line":38},"32":{"name":"watchEvent","decl":{"start":{"line":38,"column":3032},"end":{"line":38,"column":3042}},"loc":{"start":{"line":38,"column":3061},"end":{"line":38,"column":3243}},"line":38},"33":{"name":"unWatchEvent","decl":{"start":{"line":38,"column":3266},"end":{"line":38,"column":3278}},"loc":{"start":{"line":38,"column":3297},"end":{"line":38,"column":3481}},"line":38},"34":{"name":"reloadAuth","decl":{"start":{"line":38,"column":3502},"end":{"line":38,"column":3512}},"loc":{"start":{"line":38,"column":3514},"end":{"line":38,"column":3564}},"line":38},"35":{"name":"linkWithCredential","decl":{"start":{"line":38,"column":3593},"end":{"line":38,"column":3611}},"loc":{"start":{"line":38,"column":3623},"end":{"line":38,"column":3692}},"line":38},"36":{"name":"promiseEvents","decl":{"start":{"line":38,"column":3716},"end":{"line":38,"column":3729}},"loc":{"start":{"line":38,"column":3749},"end":{"line":39,"column":123}},"line":38},"37":{"name":"(anonymous_37)","decl":{"start":{"line":39,"column":36},"end":{"line":39,"column":37}},"loc":{"start":{"line":39,"column":57},"end":{"line":39,"column":120}},"line":39},"38":{"name":"getFirebase","decl":{"start":{"line":73,"column":12},"end":{"line":73,"column":23}},"loc":{"start":{"line":73,"column":25},"end":{"line":74,"column":24}},"line":73}},"branchMap":{"0":{"loc":{"start":{"line":1,"column":846},"end":{"line":1,"column":1077}},"type":"if","locations":[{"start":{"line":1,"column":846},"end":{"line":1,"column":1077}},{"start":{"line":1,"column":846},"end":{"line":1,"column":1077}}],"line":1},"1":{"loc":{"start":{"line":1,"column":928},"end":{"line":1,"column":1046}},"type":"binary-expr","locations":[{"start":{"line":1,"column":928},"end":{"line":1,"column":942}},{"start":{"line":1,"column":945},"end":{"line":1,"column":1045}}],"line":1},"2":{"loc":{"start":{"line":1,"column":1169},"end":{"line":1,"column":1203}},"type":"cond-expr","locations":[{"start":{"line":1,"column":1188},"end":{"line":1,"column":1190}},{"start":{"line":1,"column":1191},"end":{"line":1,"column":1203}}],"line":1},"3":{"loc":{"start":{"line":1,"column":1204},"end":{"line":1,"column":1527}},"type":"cond-expr","locations":[{"start":{"line":1,"column":1208},"end":{"line":1,"column":1303}},{"start":{"line":1,"column":1304},"end":{"line":1,"column":1527}}],"line":1},"4":{"loc":{"start":{"line":1,"column":1304},"end":{"line":1,"column":1527}},"type":"cond-expr","locations":[{"start":{"line":1,"column":1337},"end":{"line":1,"column":1409}},{"start":{"line":1,"column":1410},"end":{"line":1,"column":1527}}],"line":1},"5":{"loc":{"start":{"line":8,"column":62},"end":{"line":8,"column":210}},"type":"binary-expr","locations":[{"start":{"line":8,"column":62},"end":{"line":8,"column":83}},{"start":{"line":8,"column":85},"end":{"line":8,"column":102}},{"start":{"line":8,"column":104},"end":{"line":8,"column":154}},{"start":{"line":8,"column":156},"end":{"line":8,"column":210}}],"line":8},"6":{"loc":{"start":{"line":17,"column":57},"end":{"line":17,"column":443}},"type":"if","locations":[{"start":{"line":17,"column":57},"end":{"line":17,"column":443}},{"start":{"line":17,"column":57},"end":{"line":17,"column":443}}],"line":17},"7":{"loc":{"start":{"line":17,"column":102},"end":{"line":17,"column":139}},"type":"cond-expr","locations":[{"start":{"line":17,"column":120},"end":{"line":17,"column":129}},{"start":{"line":17,"column":130},"end":{"line":17,"column":139}}],"line":17},"8":{"loc":{"start":{"line":17,"column":280},"end":{"line":17,"column":379}},"type":"binary-expr","locations":[{"start":{"line":17,"column":280},"end":{"line":17,"column":307}},{"start":{"line":17,"column":310},"end":{"line":17,"column":378}}],"line":17},"9":{"loc":{"start":{"line":38,"column":481},"end":{"line":38,"column":502}},"type":"cond-expr","locations":[{"start":{"line":38,"column":490},"end":{"line":38,"column":495}},{"start":{"line":38,"column":496},"end":{"line":38,"column":502}}],"line":38},"10":{"loc":{"start":{"line":38,"column":577},"end":{"line":38,"column":704}},"type":"if","locations":[{"start":{"line":38,"column":577},"end":{"line":38,"column":704}},{"start":{"line":38,"column":577},"end":{"line":38,"column":704}}],"line":38},"11":{"loc":{"start":{"line":38,"column":646},"end":{"line":38,"column":678}},"type":"binary-expr","locations":[{"start":{"line":38,"column":646},"end":{"line":38,"column":656}},{"start":{"line":38,"column":658},"end":{"line":38,"column":678}}],"line":38},"12":{"loc":{"start":{"line":38,"column":711},"end":{"line":38,"column":743}},"type":"binary-expr","locations":[{"start":{"line":38,"column":711},"end":{"line":38,"column":721}},{"start":{"line":38,"column":723},"end":{"line":38,"column":743}}],"line":38},"13":{"loc":{"start":{"line":38,"column":1093},"end":{"line":38,"column":1136}},"type":"binary-expr","locations":[{"start":{"line":38,"column":1093},"end":{"line":38,"column":1122}},{"start":{"line":38,"column":1124},"end":{"line":38,"column":1136}}],"line":38},"14":{"loc":{"start":{"line":38,"column":3074},"end":{"line":38,"column":3131}},"type":"cond-expr","locations":[{"start":{"line":38,"column":3116},"end":{"line":38,"column":3128}},{"start":{"line":38,"column":3129},"end":{"line":38,"column":3131}}],"line":38},"15":{"loc":{"start":{"line":38,"column":3074},"end":{"line":38,"column":3115}},"type":"binary-expr","locations":[{"start":{"line":38,"column":3074},"end":{"line":38,"column":3092}},{"start":{"line":38,"column":3094},"end":{"line":38,"column":3115}}],"line":38},"16":{"loc":{"start":{"line":38,"column":3310},"end":{"line":38,"column":3367}},"type":"cond-expr","locations":[{"start":{"line":38,"column":3352},"end":{"line":38,"column":3364}},{"start":{"line":38,"column":3365},"end":{"line":38,"column":3367}}],"line":38},"17":{"loc":{"start":{"line":38,"column":3310},"end":{"line":38,"column":3351}},"type":"binary-expr","locations":[{"start":{"line":38,"column":3310},"end":{"line":38,"column":3328}},{"start":{"line":38,"column":3330},"end":{"line":38,"column":3351}}],"line":38}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":91,"12":91,"13":91,"14":91,"15":0,"16":91,"17":91,"18":91,"19":94,"20":175,"21":0,"22":91,"23":86,"24":86,"25":86,"26":4,"27":3,"28":3,"29":3,"30":1,"31":86,"32":86,"33":1,"34":1,"35":2,"36":2,"37":1,"38":2,"39":2,"40":2,"41":1,"42":1,"43":1,"44":1,"45":1,"46":1,"47":1,"48":1,"49":1,"50":1,"51":1,"52":1,"53":1,"54":1,"55":1,"56":1,"57":1,"58":1,"59":1,"60":1,"61":1,"62":1,"63":1,"64":1,"65":1,"66":1,"67":1,"68":1,"69":1,"70":1,"71":1,"72":1,"73":1,"74":1},"f":{"0":91,"1":0,"2":91,"3":175,"4":0,"5":86,"6":4,"7":1,"8":1,"9":2,"10":2,"11":1,"12":2,"13":1,"14":1,"15":1,"16":1,"17":1,"18":1,"19":1,"20":1,"21":1,"22":1,"23":1,"24":1,"25":1,"26":1,"27":1,"28":1,"29":1,"30":1,"31":1,"32":1,"33":1,"34":1,"35":1,"36":1,"37":1,"38":1},"b":{"0":[91,0],"1":[91,91],"2":[0,94],"3":[91,3],"4":[3,0],"5":[86,0,0,0],"6":[3,1],"7":[1,2],"8":[3,0],"9":[0,1],"10":[1,1],"11":[1,0],"12":[1,0],"13":[1,0],"14":[0,1],"15":[1,0],"16":[0,1],"17":[1,0]},"inputSourceMap":{"version":3,"sources":["createFirebaseInstance.js"],"names":["firebaseInstance","createFirebaseInstance","firebase","configs","dispatch","enableLogging","database","_","watchers","listeners","callbacks","queries","config","authUid","withMeta","method","path","value","onComplete","prefix","dataWithMeta","ServerValue","TIMESTAMP","auth","currentUser","uid","ref","actionCreators","signInWithPhoneNumber","authActions","initializeAuth","init","Object","assign","_reactReduxFirebaseExtended","set","setWithMeta","uniqueSet","transaction","d","then","committed","snapshot","newError","Error","Promise","reject","push","pushWithMeta","remove","options","queryActions","update","updateWithMeta","login","credentials","handleRedirectResult","authData","logout","updateAuth","authUpdate","updateInProfile","updateEmail","newEmail","updateProfile","profileUpdate","uploadFile","file","dbPath","storageActions","uploadFiles","files","deleteFile","createUser","profile","resetPassword","email","confirmPasswordReset","code","password","verifyPasswordResetCode","watchEvent","type","storeAs","unWatchEvent","queryId","reloadAuth","linkWithCredential","credential","promiseEvents","watchArray","inputAsFunc","prevData","queryConfigs","all","map","queryConfig","getFirebase"],"mappings":"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","sourceRoot":"/Users/scott/Dev/Code/react-redux-firebase/src","sourcesContent":["import { isObject } from 'lodash'\nimport { merge } from 'lodash/fp'\nimport { getEventsFromInput, createCallable } from './utils'\nimport { mapWithFirebaseAndDispatch } from './utils/actions'\nimport * as authActions from './actions/auth'\nimport * as queryActions from './actions/query'\nimport * as storageActions from './actions/storage'\n\nlet firebaseInstance\n\n/**\n * Create an extended firebase instance that has methods attached\n * which dispatch redux actions.\n * @param {object} firebase - Firebase instance which to extend\n * @param {object} configs - Configuration object\n * @param {Function} dispatch - Action dispatch function\n * @returns {object} Extended Firebase instance\n */\nexport default function createFirebaseInstance(firebase, configs, dispatch) {\n  /* istanbul ignore next: Logging is external */\n  // Enable Logging based on config (handling instances without i.e RNFirebase)\n  if (\n    configs.enableLogging &&\n    firebase.database &&\n    typeof firebase.database.enableLogging === 'function'\n  ) {\n    firebase.database.enableLogging(configs.enableLogging)\n  }\n\n  // Add internal variables to firebase instance\n  const defaultInternals = {\n    watchers: {},\n    listeners: {},\n    callbacks: {},\n    queries: {},\n    config: configs,\n    authUid: null\n  }\n\n  firebase._ = merge(defaultInternals, firebase._) // eslint-disable-line no-param-reassign\n\n  /**\n   * @private\n   * Calls a method and attaches meta to value object\n   * @param {string} method - Method to run with meta attached\n   * @param {string} path - Path to location on Firebase which to set\n   * @param {object|string|boolean|number} value - Value to write to Firebase\n   * @param {Function} onComplete - Function to run on complete\n   * @returns {Promise} Containing reference snapshot\n   */\n  const withMeta = (method, path, value, onComplete) => {\n    if (isObject(value)) {\n      const prefix = method === 'update' ? 'updated' : 'created'\n      const dataWithMeta = {\n        ...value,\n        [`${prefix}At`]: firebase.database.ServerValue.TIMESTAMP\n      }\n      if (firebase.auth().currentUser) {\n        dataWithMeta[`${prefix}By`] = firebase.auth().currentUser.uid\n      }\n      return firebase\n        .database()\n        .ref(path)\n        [method](dataWithMeta, onComplete)\n    }\n    return firebase\n      .database()\n      .ref(path)\n      [method](value, onComplete)\n  }\n\n  /**\n   * Sets data to Firebase.\n   * @param {string} path - Path to location on Firebase which to set\n   * @param {object|string|boolean|number} value - Value to write to Firebase\n   * @param {Function} onComplete - Function to run on complete (`not required`)\n   * @returns {Promise} Containing reference snapshot\n   * @example <caption>Basic</caption>\n   * @see https://react-redux-firebase.com/docs/api/firebaseInstance.html#set\n   * import React, { Component } from 'react'\n   * import PropTypes from 'prop-types'\n   * import { firebaseConnect } from 'react-redux-firebase'\n   * function Example({ firebase: { set } }) {\n   *   return (\n   *     <button onClick={() => set('some/path', { here: 'is a value' })}>\n   *     Set To Firebase\n   *     </button>\n   *   )\n   * }\n   * export default firebaseConnect()(Example)\n   */\n  const set = (path, value, onComplete) =>\n    firebase\n      .database()\n      .ref(path)\n      .set(value, onComplete)\n\n  /**\n   * Sets data to Firebase along with meta data. Currently,\n   * this includes createdAt and createdBy. *Warning* using this function\n   * may have unintented consequences (setting createdAt even if data already\n   * exists).\n   * @param {string} path - Path to location on Firebase which to set\n   * @param {object|string|boolean|number} value - Value to write to Firebase\n   * @param {Function} onComplete - Function to run on complete (`not required`)\n   * @returns {Promise} Containing reference snapshot\n   * @see https://react-redux-firebase.com/docs/api/firebaseInstance.html#update\n   */\n  const setWithMeta = (path, value, onComplete) =>\n    withMeta('set', path, value, onComplete)\n\n  /**\n   * Pushes data to Firebase.\n   * @param {string} path - Path to location on Firebase which to push\n   * @param {object|string|boolean|number} value - Value to push to Firebase\n   * @param {Function} onComplete - Function to run on complete (`not required`)\n   * @returns {Promise} Containing reference snapshot\n   * @see https://react-redux-firebase.com/docs/api/firebaseInstance.html#push\n   * @example <caption>Basic</caption>\n   * import React from 'react'\n   * import PropTypes from 'prop-types'\n   * import { firebaseConnect } from 'react-redux-firebase'\n   *\n   * function Example({ firebase: { push } }) {\n   *   return (\n   *     <button onClick={() => push('some/path', true)}>\n   *       Push To Firebase\n   *     </button>\n   *   )\n   * }\n   * export default firebaseConnect()(Example)\n   */\n  const push = (path, value, onComplete) =>\n    firebase\n      .database()\n      .ref(path)\n      .push(value, onComplete)\n\n  /**\n   * Pushes data to Firebase along with meta data. Currently,\n   * this includes createdAt and createdBy.\n   * @param {string} path - Path to location on Firebase which to set\n   * @param {object|string|boolean|number} value - Value to write to Firebase\n   * @param {Function} onComplete - Function to run on complete (`not required`)\n   * @returns {Promise} Containing reference snapshot\n   * @see https://react-redux-firebase.com/docs/api/firebaseInstance.html#pushwithmeta\n   */\n  const pushWithMeta = (path, value, onComplete) =>\n    withMeta('push', path, value, onComplete)\n\n  /**\n   * Updates data on Firebase and sends new data. More info\n   * available in [the docs](https://react-redux-firebase.com/docs/api/firebaseInstance.html#update).\n   * @param {string} path - Path to location on Firebase which to update\n   * @param {object|string|boolean|number} value - Value to update to Firebase\n   * @param {Function} onComplete - Function to run on complete (`not required`)\n   * @returns {Promise} Containing reference snapshot\n   * @example <caption>Basic</caption>\n   * import React from 'react'\n   * import PropTypes from 'prop-types'\n   * import { firebaseConnect } from 'react-redux-firebase'\n   *\n   * function Example({ firebase: { update } }) {\n   *   function updateData() {\n   *     update('some/path', { here: 'is a value' })\n   *   }\n   * }\n   *   return (\n   *     <button onClick={updateData}>\n   *       Update To Firebase\n   *     </button>\n   *   )\n   * }\n   * export default firebaseConnect()(Example)\n   */\n  const update = (path, value, onComplete) =>\n    firebase\n      .database()\n      .ref(path)\n      .update(value, onComplete)\n\n  /**\n   * Updates data on Firebase along with meta. *Warning*\n   * using this function may have unintented consequences (setting\n   * createdAt even if data already exists).\n   * @param {string} path - Path to location on Firebase which to update\n   * @param {object|string|boolean|number} value - Value to update to Firebase\n   * @param {Function} onComplete - Function to run on complete (`not required`)\n   * @returns {Promise} Containing reference snapshot\n   * @see https://react-redux-firebase.com/docs/api/firebaseInstance.html#updatewithmeta\n   */\n  const updateWithMeta = (path, value, onComplete) =>\n    withMeta('update', path, value, onComplete)\n\n  /**\n   * Removes data from Firebase at a given path. **NOTE** A\n   * seperate action is not dispatched unless `dispatchRemoveAction: true` is\n   * provided to config on store creation. That means that a listener must\n   * be attached in order for state to be updated when calling remove.\n   * @param {string} path - Path to location on Firebase which to remove\n   * @param {Function} onComplete - Function to run on complete (`not required`)\n   * @param {Function} options - Options object\n   * @returns {Promise} Containing reference snapshot\n   * @see https://react-redux-firebase.com/docs/api/firebaseInstance.html#remove\n   * @example <caption>Basic</caption>\n   * import React from 'react'\n   * import PropTypes from 'prop-types'\n   * import { firebaseConnect } from 'react-redux-firebase'\n   *\n   * function Example({ firebase: { remove } }) {\n   *   return (\n   *     <button onClick={() => remove('some/path')}>\n   *       Remove From Firebase\n   *     </button>\n   *   )\n   * }\n   * export default firebaseConnect()(Example)\n   */\n  const remove = (path, onComplete, options) =>\n    queryActions.remove(firebase, dispatch, path, options).then(() => {\n      if (typeof onComplete === 'function') onComplete()\n      return path\n    })\n\n  /**\n   * Sets data to Firebase only if the path does not already\n   * exist, otherwise it rejects. Internally uses a Firebase transaction to\n   * prevent a race condition between seperate clients calling uniqueSet.\n   * @param {string} path - Path to location on Firebase which to set\n   * @param {object|string|boolean|number} value - Value to write to Firebase\n   * @param {Function} onComplete - Function to run on complete (`not required`)\n   * @returns {Promise} Containing reference snapshot\n   * @see https://react-redux-firebase.com/docs/api/firebaseInstance.html#uniqueset\n   * @example <caption>Basic</caption>\n   * import React, { Component } from 'react'\n   * import PropTypes from 'prop-types'\n   * import { firebaseConnect } from 'react-redux-firebase'\n   *\n   * function Example({ firebase: { uniqueSet } }) {\n   *   return (\n   *     <button onClick={() => uniqueSet('some/unique/path', true)}>\n   *       Unique Set To Firebase\n   *     </button>\n   *   )\n   * }\n   * export default firebaseConnect()(Example)\n   */\n  const uniqueSet = (path, value, onComplete) =>\n    firebase\n      .database()\n      .ref(path)\n      .transaction(d => (d === null ? value : undefined))\n      .then(({ committed, snapshot }) => {\n        if (!committed) {\n          const newError = new Error('Path already exists.')\n          if (onComplete) onComplete(newError)\n          return Promise.reject(newError)\n        }\n        if (onComplete) onComplete(snapshot)\n        return snapshot\n      })\n\n  /**\n   * Upload a file to Firebase Storage with the option to store\n   * its metadata in Firebase Database. More info available\n   * in [the docs]().\n   * @param {string} path - Path to location on Firebase which to set\n   * @param {File} file - File object to upload (usually first element from\n   * array output of select-file or a drag/drop `onDrop`)\n   * @param {string} dbPath - Database path to place uploaded file metadata\n   * @param {object} options - Options\n   * @param {string} options.name - Name of the file\n   * @param {object} options.metdata - Metadata for the file (passed as second\n   * argument to storage.put calls)\n   * @returns {Promise} Containing the File object\n   * @see https://react-redux-firebase.com/docs/api/firebaseInstance.html#uploadfile\n   */\n  const uploadFile = (path, file, dbPath, options) =>\n    storageActions.uploadFile(dispatch, firebase, {\n      path,\n      file,\n      dbPath,\n      options\n    })\n\n  /**\n   * Upload multiple files to Firebase Storage with the option\n   * to store their metadata in Firebase Database.\n   * @param {string} path - Path to location on Firebase which to set\n   * @param {Array} files - Array of File objects to upload (usually from\n   * a select-file or a drag/drop `onDrop`)\n   * @param {string} dbPath - Database path to place uploaded files metadata.\n   * @param {object} options - Options\n   * @param {string} options.name - Name of the file\n   * @returns {Promise} Containing an array of File objects\n   * @see https://react-redux-firebase.com/docs/api/firebaseInstance.html#uploadfiles\n   */\n  const uploadFiles = (path, files, dbPath, options) =>\n    storageActions.uploadFiles(dispatch, firebase, {\n      path,\n      files,\n      dbPath,\n      options\n    })\n\n  /**\n   * Delete a file from Firebase Storage with the option to\n   * remove its metadata in Firebase Database.\n   * @param {string} path - Path to location on Firebase which to set\n   * @param {string} dbPath - Database path to place uploaded file metadata\n   * @returns {Promise} Containing the File object\n   * @see https://react-redux-firebase.com/docs/api/firebaseInstance.html#deletefile\n   */\n  const deleteFile = (path, dbPath) =>\n    storageActions.deleteFile(dispatch, firebase, { path, dbPath })\n\n  /**\n   * Watch event. **Note:** this method is used internally\n   * so examples have not yet been created, and it may not work as expected.\n   * @param {string} type - Type of watch event\n   * @param {string} path - Path to location on Firebase which to set listener\n   * @param {string} storeAs - Name of listener results within redux store\n   * @param {object} options - Event options object\n   * @param {Array} options.queryParams - List of parameters for the query\n   * @param {string} options.queryId - id of the query\n   * @returns {Promise|void} Results of calling watch event\n   * @see https://react-redux-firebase.com/docs/api/firebaseInstance.html#watchevent\n   */\n  const watchEvent = (type, path, storeAs, options = {}) =>\n    queryActions.watchEvent(firebase, dispatch, {\n      type,\n      path,\n      storeAs,\n      ...options\n    })\n\n  /**\n   * Unset a listener watch event. **Note:** this method is used\n   * internally so examples have not yet been created, and it may not work\n   * as expected.\n   * @param {string} type - Type of watch event\n   * @param {string} path - Path to location on Firebase which to unset listener\n   * @param {string} queryId - Id of the listener\n   * @param {object} options - Event options object\n   * @returns {void}\n   * @see https://react-redux-firebase.com/docs/api/firebaseInstance.html#unwatchevent\n   */\n  const unWatchEvent = (type, path, queryId, options = {}) =>\n    queryActions.unWatchEvent(firebase, dispatch, {\n      type,\n      path,\n      queryId,\n      ...options\n    })\n\n  /**\n   * Similar to the firebaseConnect Higher Order Component but\n   * presented as a function (not a React Component). Useful for populating\n   * your redux state without React, e.g., for server side rendering. Only\n   * `once` type should be used as other query types such as `value` do not\n   * return a Promise.\n   * @param {Array} watchArray - Array of objects or strings for paths to sync\n   * from Firebase. Can also be a function that returns the array. The function\n   * is passed the props object specified as the next parameter.\n   * @param {object} options - The options object that you would like to pass to\n   * your watchArray generating function.\n   * @returns {Promise} Resolves with an array of watchEvent results\n   */\n  const promiseEvents = (watchArray, options) => {\n    const inputAsFunc = createCallable(watchArray)\n    const prevData = inputAsFunc(options, firebase)\n    const queryConfigs = getEventsFromInput(prevData)\n    // TODO: Handle calling with non promise queries (must be once or first_child)\n    return Promise.all(\n      queryConfigs.map(queryConfig =>\n        queryActions.watchEvent(firebase, dispatch, queryConfig)\n      )\n    )\n  }\n\n  /**\n   * Logs user into Firebase. For examples, visit the\n   * [auth section of the docs](https://react-redux-firebase.com/docs/auth.html) or the\n   * [auth recipes section](https://react-redux-firebase.com/docs/recipes/auth.html).\n   * @param {object} credentials - Credentials for authenticating\n   * @param {string} credentials.provider - External provider (google |\n   * facebook | twitter)\n   * @param {string} credentials.type - Type of external authentication\n   * (popup | redirect) (only used with provider)\n   * @param {string} credentials.email - Credentials for authenticating\n   * @param {string} credentials.password - Credentials for authenticating (only used with email)\n   * @returns {Promise} Containing user's auth data\n   * @see https://react-redux-firebase.com/docs/auth.html#logincredentials\n   * @see https://react-redux-firebase.com/docs/api/firebaseInstance.html#login\n   */\n  const login = credentials =>\n    authActions.login(dispatch, firebase, credentials)\n\n  /**\n   * Logs user into Firebase using external. For examples, visit the\n   * [auth section](/docs/recipes/auth.md)\n   * @param {object} authData - Auth data from Firebase's getRedirectResult\n   * @returns {Promise} Containing user's profile\n   */\n  const handleRedirectResult = authData =>\n    authActions.handleRedirectResult(dispatch, firebase, authData)\n\n  /**\n   * Logs user out of Firebase and empties firebase state from\n   * redux store\n   * @returns {Promise} Resolves after logout is complete\n   * @see https://react-redux-firebase.com/docs/auth.html#logout\n   */\n  const logout = () => authActions.logout(dispatch, firebase)\n\n  /**\n   * Creates a new user in Firebase authentication. If\n   * `userProfile` config option is set, user profiles will be set to this\n   * location.\n   * @param {object} credentials - Credentials for authenticating\n   * @param {string} credentials.email - Credentials for authenticating\n   * @param {string} credentials.password - Credentials for authenticating (only used with email)\n   * @param {object} profile - Data to include within new user profile\n   * @returns {Promise} Containing user's auth data\n   * @see https://react-redux-firebase.com/docs/auth.html#createuser\n   */\n  const createUser = (credentials, profile) =>\n    authActions.createUser(dispatch, firebase, credentials, profile)\n\n  /**\n   * Sends password reset email\n   * @param {string} email - Email to send recovery email to\n   * @returns {Promise} Resolves after password reset email is sent\n   * @see https://react-redux-firebase.com/docs/api/firebaseInstance.html#resetpassword\n   */\n  const resetPassword = email =>\n    authActions.resetPassword(dispatch, firebase, email)\n\n  /**\n   * Confirm that a user's password has been reset\n   * @param {string} code - Password reset code to verify\n   * @param {string} password - New Password to confirm reset to\n   * @returns {Promise} Resolves after password reset is confirmed\n   * @see https://react-redux-firebase.com/docs/api/firebaseInstance.html#confirmpasswordreset\n   */\n  const confirmPasswordReset = (code, password) =>\n    authActions.confirmPasswordReset(dispatch, firebase, code, password)\n\n  /**\n   * Verify that a password reset code from a password reset\n   * email is valid\n   * @param {string} code - Password reset code to verify\n   * @returns {Promise} Containing user auth info\n   * @see https://react-redux-firebase.com/docs/api/firebaseInstance.html#verifypasswordreset\n   */\n  const verifyPasswordResetCode = code =>\n    authActions.verifyPasswordResetCode(dispatch, firebase, code)\n\n  /**\n   * Update user profile on Firebase Real Time Database or\n   * Firestore (if `useFirestoreForProfile: true` config included).\n   * Real Time Database update uses `update` method internally while\n   * updating profile on Firestore uses `set`.\n   * @param {object} profileUpdate - Profile data to place in new profile\n   * @param {object} options - Options object (used to change how profile\n   * update occurs)\n   * @param {boolean} [options.useSet=true] - Use set with merge instead of\n   * update. Setting to `false` uses update (can cause issue of profile document\n   * does not exist). Note: Only used when updating profile on Firestore\n   * @param {boolean} [options.merge=true] - Whether or not to use merge when\n   * setting profile. Note: Only used when updating profile on Firestore\n   * @returns {Promise} Returns after updating profile within database\n   * @see https://react-redux-firebase.com/docs/api/firebaseInstance.html#updateprofile\n   */\n  const updateProfile = (profileUpdate, options) =>\n    authActions.updateProfile(dispatch, firebase, profileUpdate, options)\n\n  /**\n   * Update Auth profile object\n   * @param {object} authUpdate - Update to be auth object\n   * @param {boolean} updateInProfile - Update in profile\n   * @returns {Promise} Returns after updating auth profile\n   * @see https://react-redux-firebase.com/docs/api/firebaseInstance.html#updateauth\n   */\n  const updateAuth = (authUpdate, updateInProfile) =>\n    authActions.updateAuth(dispatch, firebase, authUpdate, updateInProfile)\n\n  /**\n   * Update user's email\n   * @param {string} newEmail - Update to be auth object\n   * @param {boolean} updateInProfile - Update in profile\n   * @returns {Promise} Resolves after email is updated in user's auth\n   * @see https://react-redux-firebase.com/docs/api/firebaseInstance.html#updateemail\n   */\n  const updateEmail = (newEmail, updateInProfile) =>\n    authActions.updateEmail(dispatch, firebase, newEmail, updateInProfile)\n\n  /**\n   * Reload user's auth object. Must be authenticated.\n   * @returns {Promise} Resolves after reloading firebase auth\n   * @see https://react-redux-firebase.com/docs/api/firebaseInstance.html#reloadauth\n   */\n  const reloadAuth = () => authActions.reloadAuth(dispatch, firebase)\n\n  /**\n   * Links the user account with the given credentials.\n   * @param {firebase.auth.AuthCredential} credential - The auth credential\n   * @returns {Promise} Resolves after linking auth with a credential\n   * @see https://react-redux-firebase.com/docs/api/firebaseInstance.html#linkwithcredential\n   */\n  const linkWithCredential = credential =>\n    authActions.linkWithCredential(dispatch, firebase, credential)\n\n  /**\n   * @name signInWithPhoneNumber\n   * Asynchronously signs in using a phone number. This method\n   * sends a code via SMS to the given phone number, and returns a modified\n   * firebase.auth.ConfirmationResult. The `confirm` method\n   * authenticates and does profile handling.\n   * @param {firebase.auth.ConfirmationResult} credential - The auth credential\n   * @returns {Promise}\n   * @see https://react-redux-firebase.com/docs/api/firebaseInstance.html#signinwithphonenumber\n   */\n\n  /**\n   * @name initializeAuth\n   * Initialize auth to work with build in profile support\n   */\n  const actionCreators = mapWithFirebaseAndDispatch(\n    firebase,\n    dispatch,\n    // Actions with arg order (firebase, dispatch)\n    {\n      signInWithPhoneNumber: authActions.signInWithPhoneNumber\n    },\n    // Actions with arg order (dispatch, firebase)\n    {\n      initializeAuth: authActions.init\n    }\n  )\n\n  /**\n   * @name ref\n   * @description Firebase ref function\n   * @returns {firebase.database.Reference}\n   */\n  /**\n   * @name database\n   * @description Firebase database service instance including all Firebase storage methods\n   * @returns {firebase.database.Database} Firebase database service\n   */\n  /**\n   * @name storage\n   * @description Firebase storage service instance including all Firebase storage methods\n   * @returns {firebase.database.Storage} Firebase storage service\n   */\n  /**\n   * @name auth\n   * @description Firebase auth service instance including all Firebase auth methods\n   * @returns {firebase.database.Auth}\n   */\n  firebaseInstance = Object.assign(firebase, {\n    _reactReduxFirebaseExtended: true,\n    ref: path => firebase.database().ref(path),\n    set,\n    setWithMeta,\n    uniqueSet,\n    push,\n    pushWithMeta,\n    remove,\n    update,\n    updateWithMeta,\n    login,\n    handleRedirectResult,\n    logout,\n    updateAuth,\n    updateEmail,\n    updateProfile,\n    uploadFile,\n    uploadFiles,\n    deleteFile,\n    createUser,\n    resetPassword,\n    confirmPasswordReset,\n    verifyPasswordResetCode,\n    watchEvent,\n    unWatchEvent,\n    reloadAuth,\n    linkWithCredential,\n    promiseEvents,\n    dispatch,\n    ...actionCreators\n  })\n  return firebaseInstance\n}\n\n/**\n * Get internal Firebase instance with methods which are wrapped with action dispatches. Useful for\n * integrations into external libraries such as redux-thunk and redux-observable.\n * @returns {object} Firebase instance with methods which dispatch redux actions\n * @see http://react-redux-firebase.com/api/getFirebase.html\n * @example <caption>redux-thunk integration</caption>\n * import { applyMiddleware, compose, createStore } from 'redux';\n * import thunk from 'redux-thunk';\n * import { getFirebase } from 'react-redux-firebase';\n * import makeRootReducer from './reducers';\n *\n * const fbConfig = {} // your firebase config\n *\n * const store = createStore(\n *   makeRootReducer(),\n *   initialState,\n *   compose(\n *     applyMiddleware([\n *       // Pass getFirebase function as extra argument\n *       thunk.withExtraArgument(getFirebase)\n *     ])\n *   )\n * );\n * // then later\n * export function addTodo(newTodo) {\n *   return (dispatch, getState, getFirebase) => {\n *     const firebase = getFirebase()\n *     firebase\n *       .push('todos', newTodo)\n *       .then(() => {\n *         dispatch({ type: 'SOME_ACTION' })\n *       })\n *   }\n * }\n */\nexport function getFirebase() {\n  /* istanbul ignore next: Firebase instance always exists during tests */\n  if (!firebaseInstance) {\n    throw new Error(\n      'Firebase instance does not yet exist. Check your compose function.'\n    ) // eslint-disable-line no-console\n  }\n  return firebaseInstance\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"2903056cc578310ebef92649f5716398d5abf255","contentHash":"5180c501443e6ba131421ed599f6d420f8b00a4554a71232a739259726638e1c"},"/Users/scott/Dev/Code/react-redux-firebase/src/utils/actions.js":{"path":"/Users/scott/Dev/Code/react-redux-firebase/src/utils/actions.js","statementMap":{"0":{"start":{"line":1,"column":40},"end":{"line":1,"column":95}},"1":{"start":{"line":1,"column":96},"end":{"line":1,"column":251}},"2":{"start":{"line":1,"column":272},"end":{"line":1,"column":344}},"3":{"start":{"line":1,"column":365},"end":{"line":1,"column":440}},"4":{"start":{"line":1,"column":457},"end":{"line":1,"column":528}},"5":{"start":{"line":1,"column":541},"end":{"line":1,"column":592}},"6":{"start":{"line":1,"column":604},"end":{"line":1,"column":654}},"7":{"start":{"line":1,"column":704},"end":{"line":1,"column":723}},"8":{"start":{"line":1,"column":724},"end":{"line":1,"column":955}},"9":{"start":{"line":1,"column":769},"end":{"line":1,"column":805}},"10":{"start":{"line":1,"column":806},"end":{"line":1,"column":954}},"11":{"start":{"line":1,"column":860},"end":{"line":1,"column":921}},"12":{"start":{"line":1,"column":955},"end":{"line":1,"column":966}},"13":{"start":{"line":1,"column":998},"end":{"line":1,"column":1406}},"14":{"start":{"line":1,"column":1015},"end":{"line":1,"column":1016}},"15":{"start":{"line":1,"column":1040},"end":{"line":1,"column":1406}},"16":{"start":{"line":1,"column":1127},"end":{"line":1,"column":1179}},"17":{"start":{"line":1,"column":1326},"end":{"line":1,"column":1403}},"18":{"start":{"line":1,"column":1406},"end":{"line":1,"column":1419}},"19":{"start":{"line":1,"column":1467},"end":{"line":1,"column":1475}},"20":{"start":{"line":1,"column":1481},"end":{"line":1,"column":1490}},"21":{"start":{"line":1,"column":1498},"end":{"line":1,"column":1509}},"22":{"start":{"line":1,"column":1520},"end":{"line":1,"column":1529}},"23":{"start":{"line":1,"column":1535},"end":{"line":1,"column":1566}},"24":{"start":{"line":1,"column":1573},"end":{"line":1,"column":1583}},"25":{"start":{"line":1,"column":1591},"end":{"line":1,"column":1627}},"26":{"start":{"line":1,"column":1643},"end":{"line":1,"column":1652}},"27":{"start":{"line":1,"column":1665},"end":{"line":1,"column":1674}},"28":{"start":{"line":1,"column":1685},"end":{"line":1,"column":1694}},"29":{"start":{"line":1,"column":1695},"end":{"line":1,"column":2245}},"30":{"start":{"line":1,"column":1967},"end":{"line":1,"column":2145}},"31":{"start":{"line":1,"column":2168},"end":{"line":1,"column":2243}},"32":{"start":{"line":9,"column":75},"end":{"line":9,"column":322}},"33":{"start":{"line":9,"column":97},"end":{"line":9,"column":321}},"34":{"start":{"line":9,"column":115},"end":{"line":9,"column":213}},"35":{"start":{"line":9,"column":128},"end":{"line":9,"column":144}},"36":{"start":{"line":9,"column":150},"end":{"line":9,"column":161}},"37":{"start":{"line":9,"column":167},"end":{"line":9,"column":168}},"38":{"start":{"line":9,"column":186},"end":{"line":9,"column":213}},"39":{"start":{"line":9,"column":213},"end":{"line":9,"column":320}},"40":{"start":{"line":16,"column":109},"end":{"line":16,"column":157}},"41":{"start":{"line":16,"column":182},"end":{"line":16,"column":233}},"42":{"start":{"line":16,"column":234},"end":{"line":16,"column":382}}},"fnMap":{"0":{"name":"ownKeys","decl":{"start":{"line":1,"column":664},"end":{"line":1,"column":671}},"loc":{"start":{"line":1,"column":694},"end":{"line":1,"column":967}},"line":1},"1":{"name":"(anonymous_1)","decl":{"start":{"line":1,"column":846},"end":{"line":1,"column":847}},"loc":{"start":{"line":1,"column":859},"end":{"line":1,"column":922}},"line":1},"2":{"name":"_objectSpread","decl":{"start":{"line":1,"column":976},"end":{"line":1,"column":989}},"loc":{"start":{"line":1,"column":997},"end":{"line":1,"column":1420}},"line":1},"3":{"name":"(anonymous_3)","decl":{"start":{"line":1,"column":1113},"end":{"line":1,"column":1114}},"loc":{"start":{"line":1,"column":1126},"end":{"line":1,"column":1180}},"line":1},"4":{"name":"(anonymous_4)","decl":{"start":{"line":1,"column":1312},"end":{"line":1,"column":1313}},"loc":{"start":{"line":1,"column":1325},"end":{"line":1,"column":1404}},"line":1},"5":{"name":"wrapInDispatch","decl":{"start":{"line":1,"column":1429},"end":{"line":1,"column":1443}},"loc":{"start":{"line":1,"column":1458},"end":{"line":1,"column":2246}},"line":1},"6":{"name":"(anonymous_6)","decl":{"start":{"line":1,"column":1949},"end":{"line":1,"column":1950}},"loc":{"start":{"line":1,"column":1966},"end":{"line":1,"column":2146}},"line":1},"7":{"name":"(anonymous_7)","decl":{"start":{"line":1,"column":2154},"end":{"line":1,"column":2155}},"loc":{"start":{"line":1,"column":2167},"end":{"line":1,"column":2244}},"line":1},"8":{"name":"createWithFirebaseAndDispatch","decl":{"start":{"line":9,"column":12},"end":{"line":9,"column":41}},"loc":{"start":{"line":9,"column":74},"end":{"line":9,"column":323}},"line":9},"9":{"name":"(anonymous_9)","decl":{"start":{"line":9,"column":82},"end":{"line":9,"column":83}},"loc":{"start":{"line":9,"column":96},"end":{"line":9,"column":322}},"line":9},"10":{"name":"(anonymous_10)","decl":{"start":{"line":9,"column":104},"end":{"line":9,"column":105}},"loc":{"start":{"line":9,"column":114},"end":{"line":9,"column":321}},"line":9},"11":{"name":"mapWithFirebaseAndDispatch","decl":{"start":{"line":16,"column":12},"end":{"line":16,"column":38}},"loc":{"start":{"line":16,"column":80},"end":{"line":16,"column":383}},"line":16}},"branchMap":{"0":{"loc":{"start":{"line":1,"column":724},"end":{"line":1,"column":955}},"type":"if","locations":[{"start":{"line":1,"column":724},"end":{"line":1,"column":955}},{"start":{"line":1,"column":724},"end":{"line":1,"column":955}}],"line":1},"1":{"loc":{"start":{"line":1,"column":806},"end":{"line":1,"column":924}},"type":"binary-expr","locations":[{"start":{"line":1,"column":806},"end":{"line":1,"column":820}},{"start":{"line":1,"column":823},"end":{"line":1,"column":923}}],"line":1},"2":{"loc":{"start":{"line":1,"column":1047},"end":{"line":1,"column":1081}},"type":"cond-expr","locations":[{"start":{"line":1,"column":1066},"end":{"line":1,"column":1068}},{"start":{"line":1,"column":1069},"end":{"line":1,"column":1081}}],"line":1},"3":{"loc":{"start":{"line":1,"column":1082},"end":{"line":1,"column":1405}},"type":"cond-expr","locations":[{"start":{"line":1,"column":1086},"end":{"line":1,"column":1181}},{"start":{"line":1,"column":1182},"end":{"line":1,"column":1405}}],"line":1},"4":{"loc":{"start":{"line":1,"column":1182},"end":{"line":1,"column":1405}},"type":"cond-expr","locations":[{"start":{"line":1,"column":1215},"end":{"line":1,"column":1287}},{"start":{"line":1,"column":1288},"end":{"line":1,"column":1405}}],"line":1},"5":{"loc":{"start":{"line":1,"column":1535},"end":{"line":1,"column":1566}},"type":"cond-expr","locations":[{"start":{"line":1,"column":1554},"end":{"line":1,"column":1556}},{"start":{"line":1,"column":1557},"end":{"line":1,"column":1566}}],"line":1},"6":{"loc":{"start":{"line":1,"column":1717},"end":{"line":1,"column":1790}},"type":"cond-expr","locations":[{"start":{"line":1,"column":1756},"end":{"line":1,"column":1775}},{"start":{"line":1,"column":1776},"end":{"line":1,"column":1790}}],"line":1},"7":{"loc":{"start":{"line":1,"column":1809},"end":{"line":1,"column":1882}},"type":"cond-expr","locations":[{"start":{"line":1,"column":1848},"end":{"line":1,"column":1870}},{"start":{"line":1,"column":1871},"end":{"line":1,"column":1882}}],"line":1},"8":{"loc":{"start":{"line":1,"column":1989},"end":{"line":1,"column":2053}},"type":"cond-expr","locations":[{"start":{"line":1,"column":2025},"end":{"line":1,"column":2041}},{"start":{"line":1,"column":2042},"end":{"line":1,"column":2053}}],"line":1},"9":{"loc":{"start":{"line":1,"column":2072},"end":{"line":1,"column":2135}},"type":"cond-expr","locations":[{"start":{"line":1,"column":2108},"end":{"line":1,"column":2127}},{"start":{"line":1,"column":2128},"end":{"line":1,"column":2135}}],"line":1},"10":{"loc":{"start":{"line":9,"column":240},"end":{"line":9,"column":319}},"type":"cond-expr","locations":[{"start":{"line":9,"column":254},"end":{"line":9,"column":286}},{"start":{"line":9,"column":287},"end":{"line":9,"column":319}}],"line":9}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":172,"8":172,"9":172,"10":172,"11":0,"12":172,"13":86,"14":86,"15":258,"16":172,"17":0,"18":86,"19":5,"20":5,"21":5,"22":5,"23":5,"24":5,"25":5,"26":5,"27":5,"28":5,"29":5,"30":4,"31":1,"32":172,"33":172,"34":56,"35":56,"36":56,"37":56,"38":0,"39":56,"40":86,"41":86,"42":86},"f":{"0":172,"1":0,"2":86,"3":172,"4":0,"5":5,"6":4,"7":1,"8":172,"9":172,"10":56,"11":86},"b":{"0":[172,0],"1":[172,172],"2":[0,258],"3":[172,86],"4":[86,0],"5":[0,5],"6":[0,5],"7":[0,5],"8":[0,4],"9":[0,4],"10":[56,0]},"inputSourceMap":{"version":3,"sources":["actions.js"],"names":["wrapInDispatch","dispatch","ref","meta","method","args","types","requestingType","successType","errorType","type","payload","then","catch","err","Promise","reject","createWithFirebaseAndDispatch","firebase","dispatchFirst","func","apply","mapWithFirebaseAndDispatch","actions","reverseActions","withFirebaseAndDispatch","withDispatchAndFirebase"],"mappings":"44CAYO,QAASA,CAAAA,cAAT,CACLC,QADK,MAGL,IADEC,CAAAA,GACF,MADEA,GACF,CADOC,IACP,MADOA,IACP,CADaC,MACb,MADaA,MACb,gBADqBC,IACrB,CADqBA,IACrB,oBAD4B,EAC5B,WADgCC,KAChC,MADgCA,KAChC,oCACiDA,KADjD,IACOC,cADP,WACuBC,WADvB,WACoCC,SADpC,WAOA,MALAR,CAAAA,QAAQ,CAAC,CACPS,IAAI,CAAE,uBAASH,cAAT,EAA2BA,cAAc,CAACG,IAA1C,CAAiDH,cADhD,CAEPJ,IAAI,CAAJA,IAFO,CAGPQ,OAAO,CAAE,uBAASJ,cAAT,EAA2BA,cAAc,CAACI,OAA1C,CAAoD,CAAEN,IAAI,CAAJA,IAAF,CAHtD,CAAD,CAKR,CAAOD,MAAM,MAAN,wCAAUC,IAAV,GACJO,IADI,CACC,SAAAD,OAAO,CAAI,CAMf,MALAV,CAAAA,QAAQ,CAAC,CACPS,IAAI,CAAE,uBAASF,WAAT,EAAwBA,WAAW,CAACE,IAApC,CAA2CF,WAD1C,CAEPL,IAAI,CAAJA,IAFO,CAGPQ,OAAO,CAAE,uBAASH,WAAT,EAAwBA,WAAW,CAACG,OAApC,CAA8CA,OAHhD,CAAD,CAKR,CAAOA,OACR,CARI,EASJE,KATI,CASE,SAAAC,GAAG,CAAI,CAMZ,MALAb,CAAAA,QAAQ,CAAC,CACPS,IAAI,CAAED,SADC,CAEPN,IAAI,CAAJA,IAFO,CAGPQ,OAAO,CAAEG,GAHF,CAAD,CAKR,CAAOC,OAAO,CAACC,MAAR,CAAeF,GAAf,CACR,CAhBI,CAiBR,CAED;;;;;;;;GASA,QAASG,CAAAA,6BAAT,CAAuCC,QAAvC,CAAiDjB,QAAjD,CAA2DkB,aAA3D,CAA0E,CACxE,MAAO,UAAAC,IAAI,QAAI,0CAAIf,IAAJ,qCAAIA,IAAJ,6BACbe,CAAAA,IAAI,CAACC,KAAL,CACEH,QADF,CAEEC,aAAa,EACRlB,QADQ,CACEiB,QADF,SACeb,IADf,GAERa,QAFQ,CAEEjB,QAFF,SAEeI,IAFf,CAFf,CADa,CAAJ,CAOZ,CAED;;;;;;;GAQO,QAASiB,CAAAA,0BAAT,CACLJ,QADK,CAELjB,QAFK,CAGLsB,OAHK,CAILC,cAJK,CAKL,IACMC,CAAAA,uBAAuB,CAAGR,6BAA6B,CAC3DC,QAD2D,CAE3DjB,QAF2D,CAD7D,CAKMyB,uBAAuB,CAAGT,6BAA6B,CAC3DC,QAD2D,CAE3DjB,QAF2D,IAL7D,CAUA,wBACK,wBAAUsB,OAAV,CAAmBE,uBAAnB,CADL,IAEK,wBAAUD,cAAV,CAA0BE,uBAA1B,CAFL,CAID","sourceRoot":"/Users/scott/Dev/Code/react-redux-firebase/src/utils","sourcesContent":["import { isObject, mapValues } from 'lodash'\n\n/**\n * Wrap method call in dispatched actions\n * @param {Function} dispatch - Action dispatch function\n * @param {object} opts - Options object\n * @param {Function} opts.method - Method to call\n * @param {Array} opts.args - Arguments to call method with\n * @param {Array} opts.types - Action types array ([BEFORE, SUCCESS, FAILURE])\n * @returns {Promise} Resolves after method is called and success action is dispatched\n * @private\n */\nexport function wrapInDispatch(\n  dispatch,\n  { ref, meta, method, args = [], types }\n) {\n  const [requestingType, successType, errorType] = types\n  dispatch({\n    type: isObject(requestingType) ? requestingType.type : requestingType,\n    meta,\n    payload: isObject(requestingType) ? requestingType.payload : { args }\n  })\n  return method(...args)\n    .then(payload => {\n      dispatch({\n        type: isObject(successType) ? successType.type : successType,\n        meta,\n        payload: isObject(successType) ? successType.payload : payload\n      })\n      return payload\n    })\n    .catch(err => {\n      dispatch({\n        type: errorType,\n        meta,\n        payload: err\n      })\n      return Promise.reject(err)\n    })\n}\n\n/**\n * Function that builds a factory that passes firebase and\n * dispatch as first two arguments.\n * @param {object} firebase - Internal firebase instance\n * @param {Function} dispatch - Redux's dispatch function\n * @param {boolean} dispatchFirst - Whether or not to have dispatch argument first\n * @returns {Function} A wrapper that accepts a function to wrap with firebase\n * and dispatch.\n */\nfunction createWithFirebaseAndDispatch(firebase, dispatch, dispatchFirst) {\n  return func => (...args) =>\n    func.apply(\n      firebase,\n      dispatchFirst\n        ? [dispatch, firebase, ...args]\n        : [firebase, dispatch, ...args]\n    )\n}\n\n/**\n * Map each action with Firebase and Dispatch. Includes aliasing of actions.\n * @param {object} firebase - Internal firebase instance\n * @param {Function} dispatch - Redux's dispatch function\n * @param {object} actions - Action functions to map with firebase and dispatch\n * @param {object} reverseActions - Action functions to map with dispatch and firebase (i.e. reverse arg order)\n * @returns {object} Actions mapped with firebase and dispatch\n */\nexport function mapWithFirebaseAndDispatch(\n  firebase,\n  dispatch,\n  actions,\n  reverseActions\n) {\n  const withFirebaseAndDispatch = createWithFirebaseAndDispatch(\n    firebase,\n    dispatch\n  )\n  const withDispatchAndFirebase = createWithFirebaseAndDispatch(\n    firebase,\n    dispatch,\n    true\n  )\n  return {\n    ...mapValues(actions, withFirebaseAndDispatch),\n    ...mapValues(reverseActions, withDispatchAndFirebase)\n  }\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"c615ec0163e89dbe47c246d51184c5745fbe49dd","contentHash":"2b8d51b40607c1176ef966156f49bb328a7b4e8a76275be92d7b789a5d7f0e7c"},"/Users/scott/Dev/Code/react-redux-firebase/src/actions/query.js":{"path":"/Users/scott/Dev/Code/react-redux-firebase/src/actions/query.js","statementMap":{"0":{"start":{"line":1,"column":13},"end":{"line":1,"column":222}},"1":{"start":{"line":1,"column":237},"end":{"line":1,"column":260}},"2":{"start":{"line":1,"column":268},"end":{"line":1,"column":293}},"3":{"start":{"line":1,"column":341},"end":{"line":1,"column":469}},"4":{"start":{"line":1,"column":401},"end":{"line":1,"column":469}},"5":{"start":{"line":1,"column":478},"end":{"line":1,"column":490}},"6":{"start":{"line":1,"column":496},"end":{"line":1,"column":508}},"7":{"start":{"line":1,"column":519},"end":{"line":1,"column":536}},"8":{"start":{"line":1,"column":549},"end":{"line":1,"column":568}},"9":{"start":{"line":1,"column":577},"end":{"line":1,"column":592}},"10":{"start":{"line":1,"column":601},"end":{"line":1,"column":616}},"11":{"start":{"line":1,"column":625},"end":{"line":1,"column":640}},"12":{"start":{"line":1,"column":651},"end":{"line":1,"column":678}},"13":{"start":{"line":1,"column":689},"end":{"line":1,"column":737}},"14":{"start":{"line":1,"column":741},"end":{"line":1,"column":785}},"15":{"start":{"line":1,"column":794},"end":{"line":1,"column":848}},"16":{"start":{"line":1,"column":849},"end":{"line":1,"column":1350}},"17":{"start":{"line":1,"column":1003},"end":{"line":1,"column":1350}},"18":{"start":{"line":1,"column":1115},"end":{"line":1,"column":1221}},"19":{"start":{"line":1,"column":1244},"end":{"line":1,"column":1347}},"20":{"start":{"line":1,"column":1360},"end":{"line":1,"column":1397}},"21":{"start":{"line":2,"column":0},"end":{"line":8,"column":362}},"22":{"start":{"line":2,"column":196},"end":{"line":2,"column":571}},"23":{"start":{"line":4,"column":23},"end":{"line":4,"column":120}},"24":{"start":{"line":5,"column":114},"end":{"line":5,"column":158}},"25":{"start":{"line":5,"column":170},"end":{"line":5,"column":239}},"26":{"start":{"line":6,"column":0},"end":{"line":7,"column":218}},"27":{"start":{"line":7,"column":12},"end":{"line":7,"column":115}},"28":{"start":{"line":7,"column":116},"end":{"line":7,"column":217}},"29":{"start":{"line":8,"column":0},"end":{"line":8,"column":141}},"30":{"start":{"line":8,"column":157},"end":{"line":8,"column":360}},"31":{"start":{"line":20,"column":58},"end":{"line":20,"column":67}},"32":{"start":{"line":20,"column":73},"end":{"line":20,"column":82}},"33":{"start":{"line":20,"column":91},"end":{"line":20,"column":103}},"34":{"start":{"line":20,"column":112},"end":{"line":20,"column":124}},"35":{"start":{"line":20,"column":135},"end":{"line":20,"column":183}},"36":{"start":{"line":20,"column":184},"end":{"line":20,"column":249}},"37":{"start":{"line":26,"column":50},"end":{"line":26,"column":126}},"38":{"start":{"line":26,"column":76},"end":{"line":26,"column":126}},"39":{"start":{"line":26,"column":126},"end":{"line":26,"column":204}},"40":{"start":{"line":26,"column":160},"end":{"line":26,"column":202}},"41":{"start":{"line":31,"column":52},"end":{"line":31,"column":129}},"42":{"start":{"line":31,"column":83},"end":{"line":31,"column":127}},"43":{"start":{"line":40,"column":55},"end":{"line":40,"column":112}},"44":{"start":{"line":40,"column":135},"end":{"line":40,"column":157}},"45":{"start":{"line":40,"column":179},"end":{"line":40,"column":217}},"46":{"start":{"line":40,"column":218},"end":{"line":40,"column":539}},"47":{"start":{"line":40,"column":280},"end":{"line":40,"column":430}},"48":{"start":{"line":40,"column":453},"end":{"line":40,"column":537}}},"fnMap":{"0":{"name":"watchEvent","decl":{"start":{"line":1,"column":303},"end":{"line":1,"column":313}},"loc":{"start":{"line":1,"column":340},"end":{"line":8,"column":363}},"line":1},"1":{"name":"(anonymous_1)","decl":{"start":{"line":1,"column":1096},"end":{"line":1,"column":1097}},"loc":{"start":{"line":1,"column":1114},"end":{"line":1,"column":1222}},"line":1},"2":{"name":"(anonymous_2)","decl":{"start":{"line":1,"column":1230},"end":{"line":1,"column":1231}},"loc":{"start":{"line":1,"column":1243},"end":{"line":1,"column":1348}},"line":1},"3":{"name":"(anonymous_3)","decl":{"start":{"line":2,"column":177},"end":{"line":2,"column":178}},"loc":{"start":{"line":2,"column":195},"end":{"line":4,"column":1}},"line":2},"4":{"name":"(anonymous_4)","decl":{"start":{"line":4,"column":9},"end":{"line":4,"column":10}},"loc":{"start":{"line":4,"column":22},"end":{"line":4,"column":121}},"line":4},"5":{"name":"(anonymous_5)","decl":{"start":{"line":5,"column":86},"end":{"line":5,"column":87}},"loc":{"start":{"line":5,"column":104},"end":{"line":8,"column":142}},"line":5},"6":{"name":"(anonymous_6)","decl":{"start":{"line":8,"column":143},"end":{"line":8,"column":144}},"loc":{"start":{"line":8,"column":156},"end":{"line":8,"column":361}},"line":8},"7":{"name":"unWatchEvent","decl":{"start":{"line":20,"column":12},"end":{"line":20,"column":24}},"loc":{"start":{"line":20,"column":48},"end":{"line":20,"column":250}},"line":20},"8":{"name":"watchEvents","decl":{"start":{"line":26,"column":12},"end":{"line":26,"column":23}},"loc":{"start":{"line":26,"column":49},"end":{"line":26,"column":205}},"line":26},"9":{"name":"(anonymous_9)","decl":{"start":{"line":26,"column":144},"end":{"line":26,"column":145}},"loc":{"start":{"line":26,"column":159},"end":{"line":26,"column":203}},"line":26},"10":{"name":"unWatchEvents","decl":{"start":{"line":31,"column":12},"end":{"line":31,"column":25}},"loc":{"start":{"line":31,"column":51},"end":{"line":31,"column":130}},"line":31},"11":{"name":"(anonymous_11)","decl":{"start":{"line":31,"column":67},"end":{"line":31,"column":68}},"loc":{"start":{"line":31,"column":82},"end":{"line":31,"column":128}},"line":31},"12":{"name":"remove","decl":{"start":{"line":40,"column":12},"end":{"line":40,"column":18}},"loc":{"start":{"line":40,"column":42},"end":{"line":40,"column":540}},"line":40},"13":{"name":"(anonymous_13)","decl":{"start":{"line":40,"column":269},"end":{"line":40,"column":270}},"loc":{"start":{"line":40,"column":279},"end":{"line":40,"column":431}},"line":40},"14":{"name":"(anonymous_14)","decl":{"start":{"line":40,"column":439},"end":{"line":40,"column":440}},"loc":{"start":{"line":40,"column":452},"end":{"line":40,"column":538}},"line":40}},"branchMap":{"0":{"loc":{"start":{"line":1,"column":341},"end":{"line":1,"column":469}},"type":"if","locations":[{"start":{"line":1,"column":341},"end":{"line":1,"column":469}},{"start":{"line":1,"column":341},"end":{"line":1,"column":469}}],"line":1},"1":{"loc":{"start":{"line":1,"column":344},"end":{"line":1,"column":400}},"type":"binary-expr","locations":[{"start":{"line":1,"column":344},"end":{"line":1,"column":362}},{"start":{"line":1,"column":364},"end":{"line":1,"column":400}}],"line":1},"2":{"loc":{"start":{"line":1,"column":689},"end":{"line":1,"column":737}},"type":"cond-expr","locations":[{"start":{"line":1,"column":697},"end":{"line":1,"column":732}},{"start":{"line":1,"column":733},"end":{"line":1,"column":737}}],"line":1},"3":{"loc":{"start":{"line":1,"column":741},"end":{"line":1,"column":785}},"type":"binary-expr","locations":[{"start":{"line":1,"column":741},"end":{"line":1,"column":748}},{"start":{"line":1,"column":750},"end":{"line":1,"column":785}}],"line":1},"4":{"loc":{"start":{"line":1,"column":849},"end":{"line":1,"column":1350}},"type":"if","locations":[{"start":{"line":1,"column":849},"end":{"line":1,"column":1350}},{"start":{"line":1,"column":849},"end":{"line":1,"column":1350}}],"line":1},"5":{"loc":{"start":{"line":1,"column":852},"end":{"line":1,"column":922}},"type":"binary-expr","locations":[{"start":{"line":1,"column":852},"end":{"line":1,"column":861}},{"start":{"line":1,"column":863},"end":{"line":1,"column":865}},{"start":{"line":1,"column":867},"end":{"line":1,"column":922}}],"line":1},"6":{"loc":{"start":{"line":1,"column":1122},"end":{"line":1,"column":1212}},"type":"binary-expr","locations":[{"start":{"line":1,"column":1122},"end":{"line":1,"column":1143}},{"start":{"line":1,"column":1145},"end":{"line":1,"column":1212}}],"line":1},"7":{"loc":{"start":{"line":1,"column":1197},"end":{"line":1,"column":1210}},"type":"binary-expr","locations":[{"start":{"line":1,"column":1197},"end":{"line":1,"column":1204}},{"start":{"line":1,"column":1206},"end":{"line":1,"column":1210}}],"line":1},"8":{"loc":{"start":{"line":1,"column":1300},"end":{"line":1,"column":1313}},"type":"binary-expr","locations":[{"start":{"line":1,"column":1300},"end":{"line":1,"column":1307}},{"start":{"line":1,"column":1309},"end":{"line":1,"column":1313}}],"line":1},"9":{"loc":{"start":{"line":2,"column":7},"end":{"line":2,"column":72}},"type":"binary-expr","locations":[{"start":{"line":2,"column":7},"end":{"line":2,"column":14}},{"start":{"line":2,"column":17},"end":{"line":2,"column":71}}],"line":2},"10":{"loc":{"start":{"line":2,"column":122},"end":{"line":2,"column":135}},"type":"binary-expr","locations":[{"start":{"line":2,"column":122},"end":{"line":2,"column":129}},{"start":{"line":2,"column":131},"end":{"line":2,"column":135}}],"line":2},"11":{"loc":{"start":{"line":2,"column":138},"end":{"line":8,"column":362}},"type":"cond-expr","locations":[{"start":{"line":2,"column":152},"end":{"line":4,"column":122}},{"start":{"line":4,"column":123},"end":{"line":8,"column":362}}],"line":2},"12":{"loc":{"start":{"line":2,"column":203},"end":{"line":2,"column":570}},"type":"cond-expr","locations":[{"start":{"line":2,"column":225},"end":{"line":2,"column":292}},{"start":{"line":2,"column":293},"end":{"line":2,"column":570}}],"line":2},"13":{"loc":{"start":{"line":2,"column":277},"end":{"line":2,"column":290}},"type":"binary-expr","locations":[{"start":{"line":2,"column":277},"end":{"line":2,"column":284}},{"start":{"line":2,"column":286},"end":{"line":2,"column":290}}],"line":2},"14":{"loc":{"start":{"line":2,"column":293},"end":{"line":2,"column":570}},"type":"cond-expr","locations":[{"start":{"line":2,"column":303},"end":{"line":2,"column":438}},{"start":{"line":2,"column":439},"end":{"line":2,"column":570}}],"line":2},"15":{"loc":{"start":{"line":2,"column":486},"end":{"line":2,"column":499}},"type":"binary-expr","locations":[{"start":{"line":2,"column":486},"end":{"line":2,"column":493}},{"start":{"line":2,"column":495},"end":{"line":2,"column":499}}],"line":2},"16":{"loc":{"start":{"line":5,"column":114},"end":{"line":5,"column":158}},"type":"cond-expr","locations":[{"start":{"line":5,"column":137},"end":{"line":5,"column":143}},{"start":{"line":5,"column":144},"end":{"line":5,"column":158}}],"line":5},"17":{"loc":{"start":{"line":5,"column":170},"end":{"line":5,"column":239}},"type":"cond-expr","locations":[{"start":{"line":5,"column":194},"end":{"line":5,"column":198}},{"start":{"line":5,"column":199},"end":{"line":5,"column":239}}],"line":5},"18":{"loc":{"start":{"line":5,"column":170},"end":{"line":5,"column":193}},"type":"binary-expr","locations":[{"start":{"line":5,"column":170},"end":{"line":5,"column":177}},{"start":{"line":5,"column":179},"end":{"line":5,"column":193}}],"line":5},"19":{"loc":{"start":{"line":6,"column":0},"end":{"line":7,"column":218}},"type":"if","locations":[{"start":{"line":6,"column":0},"end":{"line":7,"column":218}},{"start":{"line":6,"column":0},"end":{"line":7,"column":218}}],"line":6},"20":{"loc":{"start":{"line":7,"column":12},"end":{"line":7,"column":115}},"type":"cond-expr","locations":[{"start":{"line":7,"column":33},"end":{"line":7,"column":74}},{"start":{"line":7,"column":75},"end":{"line":7,"column":115}}],"line":7},"21":{"loc":{"start":{"line":7,"column":170},"end":{"line":7,"column":189}},"type":"binary-expr","locations":[{"start":{"line":7,"column":170},"end":{"line":7,"column":177}},{"start":{"line":7,"column":179},"end":{"line":7,"column":189}}],"line":7},"22":{"loc":{"start":{"line":8,"column":157},"end":{"line":8,"column":276}},"type":"binary-expr","locations":[{"start":{"line":8,"column":157},"end":{"line":8,"column":166}},{"start":{"line":8,"column":168},"end":{"line":8,"column":276}}],"line":8},"23":{"loc":{"start":{"line":20,"column":135},"end":{"line":20,"column":183}},"type":"cond-expr","locations":[{"start":{"line":20,"column":143},"end":{"line":20,"column":178}},{"start":{"line":20,"column":179},"end":{"line":20,"column":183}}],"line":20},"24":{"loc":{"start":{"line":26,"column":50},"end":{"line":26,"column":126}},"type":"if","locations":[{"start":{"line":26,"column":50},"end":{"line":26,"column":126}},{"start":{"line":26,"column":50},"end":{"line":26,"column":126}}],"line":26},"25":{"loc":{"start":{"line":40,"column":55},"end":{"line":40,"column":112}},"type":"cond-expr","locations":[{"start":{"line":40,"column":97},"end":{"line":40,"column":109}},{"start":{"line":40,"column":110},"end":{"line":40,"column":112}}],"line":40},"26":{"loc":{"start":{"line":40,"column":55},"end":{"line":40,"column":96}},"type":"binary-expr","locations":[{"start":{"line":40,"column":55},"end":{"line":40,"column":73}},{"start":{"line":40,"column":75},"end":{"line":40,"column":96}}],"line":40},"27":{"loc":{"start":{"line":40,"column":287},"end":{"line":40,"column":425}},"type":"binary-expr","locations":[{"start":{"line":40,"column":287},"end":{"line":40,"column":307}},{"start":{"line":40,"column":310},"end":{"line":40,"column":343}},{"start":{"line":40,"column":345},"end":{"line":40,"column":366}},{"start":{"line":40,"column":369},"end":{"line":40,"column":425}}],"line":40}},"s":{"0":1,"1":1,"2":1,"3":29,"4":1,"5":28,"6":28,"7":28,"8":28,"9":28,"10":28,"11":28,"12":28,"13":28,"14":28,"15":28,"16":28,"17":1,"18":1,"19":0,"20":27,"21":27,"22":3,"23":0,"24":23,"25":23,"26":23,"27":22,"28":22,"29":1,"30":0,"31":10,"32":10,"33":10,"34":10,"35":10,"36":10,"37":25,"38":1,"39":24,"40":20,"41":16,"42":6,"43":5,"44":5,"45":5,"46":5,"47":4,"48":1},"f":{"0":29,"1":1,"2":0,"3":3,"4":0,"5":23,"6":0,"7":10,"8":25,"9":20,"10":16,"11":6,"12":5,"13":4,"14":1},"b":{"0":[1,28],"1":[29,28],"2":[0,28],"3":[28,28],"4":[1,27],"5":[28,2,0],"6":[1,1],"7":[1,1],"8":[0,0],"9":[27,0],"10":[27,27],"11":[3,24],"12":[2,1],"13":[2,2],"14":[0,1],"15":[1,1],"16":[0,23],"17":[23,0],"18":[23,23],"19":[22,1],"20":[0,22],"21":[22,22],"22":[0,0],"23":[0,10],"24":[1,24],"25":[1,4],"26":[5,2],"27":[4,1,0,1]},"inputSourceMap":{"version":3,"sources":["query.js"],"names":["watchEvent","firebase","dispatch","options","database","Error","type","path","populates","queryParams","queryId","isQuery","storeAs","logErrors","_","config","watchPath","id","counter","ref","child","orderByKey","limitToFirst","once","then","snapshot","val","actionTypes","NO_VALUE","catch","err","ERROR","payload","Promise","reject","query","START","data","SET","ordered","UNAUTHORIZED_ERROR","on","resultPath","key","value","console","log","unWatchEvent","watchEvents","events","Array","isArray","map","event","unWatchEvents","forEach","remove","dispatchAction","dispatchRemoveAction","REMOVE"],"mappings":"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","sourceRoot":"/Users/scott/Dev/Code/react-redux-firebase/src/actions","sourcesContent":["import { actionTypes } from '../constants'\nimport {\n  orderedFromSnapshot,\n  populateAndDispatch,\n  applyParamsToQuery,\n  getWatcherCount,\n  setWatcher,\n  unsetWatcher,\n  getQueryIdFromPath\n} from '../utils/query'\n\n/**\n * Watch a path in Firebase Real Time Database\n * @param {object} firebase - Internal firebase object\n * @param {Function} dispatch - Action dispatch function\n * @param {object} options - Event options object\n * @param {string} options.type - Type of event to watch for (defaults to value)\n * @param {string} options.path - Path to watch with watcher\n * @param {Array} options.queryParams - List of parameters for the query\n * @param {string} options.queryId - id of the query\n * @param {boolean} options.isQuery - id of the query\n * @param {string} options.storeAs - Location within redux to store value\n * @returns {Promise|void} Returns promise if query is a promise\n */\nexport function watchEvent(firebase, dispatch, options) {\n  if (!firebase.database || typeof firebase.database !== 'function') {\n    throw new Error('Firebase database is required to create watchers')\n  }\n  const {\n    type,\n    path,\n    populates,\n    queryParams,\n    queryId,\n    isQuery,\n    storeAs\n  } = options\n  const { config: { logErrors } } = firebase._\n\n  const watchPath = !storeAs ? path : `${path}@${storeAs}`\n  const id = queryId || getQueryIdFromPath(path)\n  const counter = getWatcherCount(firebase, type, watchPath, id)\n\n  if (counter > 0) {\n    if (id) {\n      unsetWatcher(firebase, dispatch, type, path, id)\n    }\n  }\n\n  setWatcher(firebase, dispatch, type, watchPath, id)\n\n  if (type === 'first_child') {\n    return firebase\n      .database()\n      .ref()\n      .child(path)\n      .orderByKey()\n      .limitToFirst(1)\n      .once('value')\n      .then(snapshot => {\n        if (snapshot.val() === null) {\n          dispatch({\n            type: actionTypes.NO_VALUE,\n            path: storeAs || path\n          })\n        }\n        return snapshot\n      })\n      .catch(err => {\n        dispatch({\n          type: actionTypes.ERROR,\n          path: storeAs || path,\n          payload: err\n        })\n        return Promise.reject(err)\n      })\n  }\n\n  let query = firebase\n    .database()\n    .ref()\n    .child(path)\n\n  if (isQuery) {\n    query = applyParamsToQuery(queryParams, query)\n  }\n\n  dispatch({ type: actionTypes.START, path: storeAs || path })\n\n  // Handle once queries\n  if (type === 'once') {\n    return query\n      .once('value')\n      .then(snapshot => {\n        if (snapshot.val() === null) {\n          return dispatch({\n            type: actionTypes.NO_VALUE,\n            path: storeAs || path\n          })\n        }\n        // dispatch normal event if no populates exist\n        if (!populates) {\n          // create an array for preserving order of children under ordered\n          return dispatch({\n            type: actionTypes.SET,\n            path: storeAs || path,\n            data: snapshot.val(),\n            ordered: orderedFromSnapshot(snapshot)\n          })\n        }\n        // populate and dispatch associated actions if populates exist\n        return populateAndDispatch(firebase, dispatch, {\n          path,\n          storeAs,\n          snapshot,\n          data: snapshot.val(),\n          populates\n        })\n      })\n      .catch(err => {\n        dispatch({\n          type: actionTypes.UNAUTHORIZED_ERROR,\n          payload: err\n        })\n        return Promise.reject(err)\n      })\n  }\n  // Handle all other queries\n\n  /* istanbul ignore next: is run by tests but doesn't show in coverage */\n  query.on(\n    type,\n    snapshot => {\n      let data = type === 'child_removed' ? undefined : snapshot.val()\n      const resultPath =\n        storeAs || type === 'value' ? path : `${path}/${snapshot.key}`\n\n      // Dispatch standard event if no populates exists\n      if (!populates) {\n        // create an array for preserving order of children under ordered\n        const ordered =\n          type === 'child_added'\n            ? [{ key: snapshot.key, value: snapshot.val() }]\n            : orderedFromSnapshot(snapshot)\n        return dispatch({\n          type: actionTypes.SET,\n          path: storeAs || resultPath,\n          data,\n          ordered\n        })\n      }\n      // populate and dispatch associated actions if populates exist\n      return populateAndDispatch(firebase, dispatch, {\n        path,\n        storeAs,\n        snapshot,\n        data: snapshot.val(),\n        populates\n      })\n    },\n    err => {\n      if (logErrors) {\n        // eslint-disable-next-line no-console\n        console.log(\n          `Error retrieving data for path: ${path}, storeAs: ${storeAs}. Firebase:`,\n          err\n        )\n      }\n      dispatch({\n        type: actionTypes.ERROR,\n        storeAs,\n        path,\n        payload: err\n      })\n    }\n  )\n}\n\n/**\n * Remove watcher from an event\n * @param {object} firebase - Internal firebase object\n * @param {Function} dispatch - Action dispatch function\n * @param {object} config - Config object\n * @param {string} config.type - Type for which to remove the watcher (\n * value, once, first_child etc.)\n * @param {string} config.path - Path of watcher to remove\n * @param {string} config.storeAs - Path which to store results within in\n * redux store\n * @param {string} config.queryId - Id of the query (used for idendifying)\n * in internal watchers list\n */\nexport function unWatchEvent(\n  firebase,\n  dispatch,\n  { type, path, storeAs, queryId }\n) {\n  const watchPath = !storeAs ? path : `${path}@${storeAs}`\n  unsetWatcher(firebase, dispatch, type, watchPath, queryId)\n}\n\n/**\n * Add watchers to a list of events\n * @param {object} firebase - Internal firebase object\n * @param {Function} dispatch - Action dispatch function\n * @param {Array} events - List of events for which to add watchers\n * @returns {Array} ARray of watchEvent results\n */\nexport function watchEvents(firebase, dispatch, events) {\n  if (!Array.isArray(events)) {\n    throw new Error('Events config must be an Array')\n  }\n  return events.map(event => watchEvent(firebase, dispatch, event))\n}\n\n/**\n * Remove watchers from a list of events\n * @param {object} firebase - Internal firebase object\n * @param {Function} dispatch - Action dispatch function\n * @param {Array} events - List of events for which to remove watchers\n */\nexport function unWatchEvents(firebase, dispatch, events) {\n  events.forEach(event => unWatchEvent(firebase, dispatch, event))\n}\n\n/**\n * Add watchers to a list of events\n * @param {object} firebase - Internal firebase object\n * @param {Function} dispatch - Action dispatch function\n * @param {string} path - Path of ref to be removed\n * @param {object} [options={}] - Configuration for removal\n * @param {boolean} [options.dispatchAction=true] - Whether or not to dispatch\n * REMOVE action\n * @returns {Promise} Resolves with path\n */\nexport function remove(firebase, dispatch, path, options = {}) {\n  const { dispatchAction = true } = options\n  const { dispatchRemoveAction } = firebase._.config\n  return firebase\n    .database()\n    .ref(path)\n    .remove()\n    .then(() => {\n      if (dispatchRemoveAction && dispatchAction) {\n        dispatch({ type: actionTypes.REMOVE, path })\n      }\n      return path\n    })\n    .catch(err => {\n      dispatch({ type: actionTypes.ERROR, payload: err })\n      return Promise.reject(err)\n    })\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"5d3aa0e46c1de541444fad0dcb02b1a0fdb0dbbb","contentHash":"e8417c1335e41ea87e74e60fa9bdc78bc5fa9a11bc35b826d808cd3483608340"},"/Users/scott/Dev/Code/react-redux-firebase/src/actions/storage.js":{"path":"/Users/scott/Dev/Code/react-redux-firebase/src/actions/storage.js","statementMap":{"0":{"start":{"line":1,"column":40},"end":{"line":1,"column":95}},"1":{"start":{"line":1,"column":96},"end":{"line":1,"column":243}},"2":{"start":{"line":1,"column":273},"end":{"line":1,"column":354}},"3":{"start":{"line":1,"column":372},"end":{"line":1,"column":444}},"4":{"start":{"line":1,"column":451},"end":{"line":1,"column":496}},"5":{"start":{"line":1,"column":508},"end":{"line":1,"column":531}},"6":{"start":{"line":1,"column":541},"end":{"line":1,"column":568}},"7":{"start":{"line":1,"column":578},"end":{"line":1,"column":605}},"8":{"start":{"line":1,"column":655},"end":{"line":1,"column":674}},"9":{"start":{"line":1,"column":675},"end":{"line":1,"column":906}},"10":{"start":{"line":1,"column":720},"end":{"line":1,"column":756}},"11":{"start":{"line":1,"column":757},"end":{"line":1,"column":905}},"12":{"start":{"line":1,"column":811},"end":{"line":1,"column":872}},"13":{"start":{"line":1,"column":906},"end":{"line":1,"column":917}},"14":{"start":{"line":1,"column":949},"end":{"line":1,"column":1357}},"15":{"start":{"line":1,"column":966},"end":{"line":1,"column":967}},"16":{"start":{"line":1,"column":991},"end":{"line":1,"column":1357}},"17":{"start":{"line":1,"column":1078},"end":{"line":1,"column":1130}},"18":{"start":{"line":1,"column":1277},"end":{"line":1,"column":1354}},"19":{"start":{"line":1,"column":1357},"end":{"line":1,"column":1370}},"20":{"start":{"line":1,"column":1393},"end":{"line":1,"column":1433}},"21":{"start":{"line":1,"column":1452},"end":{"line":1,"column":1492}},"22":{"start":{"line":1,"column":1514},"end":{"line":1,"column":1557}},"23":{"start":{"line":1,"column":1576},"end":{"line":1,"column":1616}},"24":{"start":{"line":1,"column":1635},"end":{"line":1,"column":1675}},"25":{"start":{"line":1,"column":1697},"end":{"line":1,"column":1740}},"26":{"start":{"line":17,"column":49},"end":{"line":17,"column":134}},"27":{"start":{"line":17,"column":70},"end":{"line":17,"column":134}},"28":{"start":{"line":17,"column":143},"end":{"line":17,"column":153}},"29":{"start":{"line":17,"column":159},"end":{"line":17,"column":168}},"30":{"start":{"line":17,"column":174},"end":{"line":17,"column":183}},"31":{"start":{"line":17,"column":191},"end":{"line":17,"column":202}},"32":{"start":{"line":17,"column":216},"end":{"line":17,"column":228}},"33":{"start":{"line":17,"column":237},"end":{"line":17,"column":285}},"34":{"start":{"line":17,"column":299},"end":{"line":17,"column":321}},"35":{"start":{"line":17,"column":332},"end":{"line":17,"column":359}},"36":{"start":{"line":17,"column":376},"end":{"line":17,"column":455}},"37":{"start":{"line":17,"column":465},"end":{"line":17,"column":491}},"38":{"start":{"line":17,"column":497},"end":{"line":17,"column":541}},"39":{"start":{"line":17,"column":542},"end":{"line":17,"column":630}},"40":{"start":{"line":17,"column":630},"end":{"line":20,"column":208}},"41":{"start":{"line":17,"column":662},"end":{"line":17,"column":900}},"42":{"start":{"line":17,"column":938},"end":{"line":19,"column":3}},"43":{"start":{"line":17,"column":1136},"end":{"line":17,"column":1254}},"44":{"start":{"line":20,"column":23},"end":{"line":20,"column":206}},"45":{"start":{"line":31,"column":59},"end":{"line":31,"column":70}},"46":{"start":{"line":31,"column":77},"end":{"line":31,"column":131}},"47":{"start":{"line":31,"column":132},"end":{"line":31,"column":262}},"48":{"start":{"line":31,"column":190},"end":{"line":31,"column":259}},"49":{"start":{"line":40,"column":57},"end":{"line":40,"column":67}},"50":{"start":{"line":40,"column":75},"end":{"line":40,"column":87}},"51":{"start":{"line":40,"column":88},"end":{"line":40,"column":267}}},"fnMap":{"0":{"name":"ownKeys","decl":{"start":{"line":1,"column":615},"end":{"line":1,"column":622}},"loc":{"start":{"line":1,"column":645},"end":{"line":1,"column":918}},"line":1},"1":{"name":"(anonymous_1)","decl":{"start":{"line":1,"column":797},"end":{"line":1,"column":798}},"loc":{"start":{"line":1,"column":810},"end":{"line":1,"column":873}},"line":1},"2":{"name":"_objectSpread","decl":{"start":{"line":1,"column":927},"end":{"line":1,"column":940}},"loc":{"start":{"line":1,"column":948},"end":{"line":1,"column":1371}},"line":1},"3":{"name":"(anonymous_3)","decl":{"start":{"line":1,"column":1064},"end":{"line":1,"column":1065}},"loc":{"start":{"line":1,"column":1077},"end":{"line":1,"column":1131}},"line":1},"4":{"name":"(anonymous_4)","decl":{"start":{"line":1,"column":1263},"end":{"line":1,"column":1264}},"loc":{"start":{"line":1,"column":1276},"end":{"line":1,"column":1355}},"line":1},"5":{"name":"uploadFile","decl":{"start":{"line":17,"column":12},"end":{"line":17,"column":22}},"loc":{"start":{"line":17,"column":48},"end":{"line":20,"column":209}},"line":17},"6":{"name":"uploadPromise","decl":{"start":{"line":17,"column":646},"end":{"line":17,"column":659}},"loc":{"start":{"line":17,"column":661},"end":{"line":17,"column":901}},"line":17},"7":{"name":"(anonymous_7)","decl":{"start":{"line":17,"column":909},"end":{"line":17,"column":910}},"loc":{"start":{"line":17,"column":937},"end":{"line":20,"column":1}},"line":17},"8":{"name":"(anonymous_8)","decl":{"start":{"line":17,"column":1118},"end":{"line":17,"column":1119}},"loc":{"start":{"line":17,"column":1135},"end":{"line":17,"column":1255}},"line":17},"9":{"name":"(anonymous_9)","decl":{"start":{"line":20,"column":9},"end":{"line":20,"column":10}},"loc":{"start":{"line":20,"column":22},"end":{"line":20,"column":207}},"line":20},"10":{"name":"uploadFiles","decl":{"start":{"line":31,"column":12},"end":{"line":31,"column":23}},"loc":{"start":{"line":31,"column":48},"end":{"line":31,"column":263}},"line":31},"11":{"name":"(anonymous_11)","decl":{"start":{"line":31,"column":175},"end":{"line":31,"column":176}},"loc":{"start":{"line":31,"column":189},"end":{"line":31,"column":260}},"line":31},"12":{"name":"deleteFile","decl":{"start":{"line":40,"column":12},"end":{"line":40,"column":22}},"loc":{"start":{"line":40,"column":47},"end":{"line":40,"column":268}},"line":40}},"branchMap":{"0":{"loc":{"start":{"line":1,"column":675},"end":{"line":1,"column":906}},"type":"if","locations":[{"start":{"line":1,"column":675},"end":{"line":1,"column":906}},{"start":{"line":1,"column":675},"end":{"line":1,"column":906}}],"line":1},"1":{"loc":{"start":{"line":1,"column":757},"end":{"line":1,"column":875}},"type":"binary-expr","locations":[{"start":{"line":1,"column":757},"end":{"line":1,"column":771}},{"start":{"line":1,"column":774},"end":{"line":1,"column":874}}],"line":1},"2":{"loc":{"start":{"line":1,"column":998},"end":{"line":1,"column":1032}},"type":"cond-expr","locations":[{"start":{"line":1,"column":1017},"end":{"line":1,"column":1019}},{"start":{"line":1,"column":1020},"end":{"line":1,"column":1032}}],"line":1},"3":{"loc":{"start":{"line":1,"column":1033},"end":{"line":1,"column":1356}},"type":"cond-expr","locations":[{"start":{"line":1,"column":1037},"end":{"line":1,"column":1132}},{"start":{"line":1,"column":1133},"end":{"line":1,"column":1356}}],"line":1},"4":{"loc":{"start":{"line":1,"column":1133},"end":{"line":1,"column":1356}},"type":"cond-expr","locations":[{"start":{"line":1,"column":1166},"end":{"line":1,"column":1238}},{"start":{"line":1,"column":1239},"end":{"line":1,"column":1356}}],"line":1},"5":{"loc":{"start":{"line":17,"column":49},"end":{"line":17,"column":134}},"type":"if","locations":[{"start":{"line":17,"column":49},"end":{"line":17,"column":134}},{"start":{"line":17,"column":49},"end":{"line":17,"column":134}}],"line":17},"6":{"loc":{"start":{"line":17,"column":143},"end":{"line":17,"column":153}},"type":"binary-expr","locations":[{"start":{"line":17,"column":143},"end":{"line":17,"column":149}},{"start":{"line":17,"column":151},"end":{"line":17,"column":153}}],"line":17},"7":{"loc":{"start":{"line":17,"column":237},"end":{"line":17,"column":285}},"type":"cond-expr","locations":[{"start":{"line":17,"column":259},"end":{"line":17,"column":272}},{"start":{"line":17,"column":273},"end":{"line":17,"column":285}}],"line":17},"8":{"loc":{"start":{"line":17,"column":300},"end":{"line":17,"column":311}},"type":"binary-expr","locations":[{"start":{"line":17,"column":300},"end":{"line":17,"column":307}},{"start":{"line":17,"column":309},"end":{"line":17,"column":311}}],"line":17},"9":{"loc":{"start":{"line":17,"column":376},"end":{"line":17,"column":455}},"type":"cond-expr","locations":[{"start":{"line":17,"column":408},"end":{"line":17,"column":442}},{"start":{"line":17,"column":443},"end":{"line":17,"column":455}}],"line":17},"10":{"loc":{"start":{"line":17,"column":465},"end":{"line":17,"column":491}},"type":"binary-expr","locations":[{"start":{"line":17,"column":465},"end":{"line":17,"column":480}},{"start":{"line":17,"column":482},"end":{"line":17,"column":491}}],"line":17},"11":{"loc":{"start":{"line":17,"column":669},"end":{"line":17,"column":900}},"type":"cond-expr","locations":[{"start":{"line":17,"column":686},"end":{"line":17,"column":816}},{"start":{"line":17,"column":817},"end":{"line":17,"column":900}}],"line":17},"12":{"loc":{"start":{"line":17,"column":945},"end":{"line":19,"column":2}},"type":"cond-expr","locations":[{"start":{"line":17,"column":993},"end":{"line":17,"column":1256}},{"start":{"line":17,"column":1258},"end":{"line":19,"column":1}}],"line":17},"13":{"loc":{"start":{"line":17,"column":945},"end":{"line":17,"column":992}},"type":"binary-expr","locations":[{"start":{"line":17,"column":945},"end":{"line":17,"column":951}},{"start":{"line":17,"column":954},"end":{"line":17,"column":971}},{"start":{"line":17,"column":973},"end":{"line":17,"column":991}}],"line":17},"14":{"loc":{"start":{"line":20,"column":30},"end":{"line":20,"column":129}},"type":"binary-expr","locations":[{"start":{"line":20,"column":30},"end":{"line":20,"column":39}},{"start":{"line":20,"column":41},"end":{"line":20,"column":54}},{"start":{"line":20,"column":56},"end":{"line":20,"column":129}}],"line":20},"15":{"loc":{"start":{"line":20,"column":107},"end":{"line":20,"column":123}},"type":"binary-expr","locations":[{"start":{"line":20,"column":107},"end":{"line":20,"column":118}},{"start":{"line":20,"column":120},"end":{"line":20,"column":123}}],"line":20}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":37,"9":37,"10":37,"11":37,"12":0,"13":37,"14":37,"15":37,"16":73,"17":117,"18":0,"19":37,"20":1,"21":1,"22":1,"23":1,"24":1,"25":1,"26":14,"27":1,"28":13,"29":13,"30":13,"31":13,"32":13,"33":13,"34":13,"35":13,"36":13,"37":13,"38":13,"39":13,"40":13,"41":13,"42":10,"43":3,"44":1,"45":2,"46":2,"47":2,"48":1,"49":3,"50":3,"51":3},"f":{"0":37,"1":0,"2":37,"3":117,"4":0,"5":14,"6":13,"7":10,"8":3,"9":1,"10":2,"11":1,"12":3},"b":{"0":[37,0],"1":[37,37],"2":[0,73],"3":[37,36],"4":[36,0],"5":[1,13],"6":[13,0],"7":[8,5],"8":[13,0],"9":[1,12],"10":[13,11],"11":[2,11],"12":[3,7],"13":[10,4,1],"14":[1,0,0],"15":[0,0]},"inputSourceMap":{"version":3,"sources":["storage.js"],"names":["FILE_UPLOAD_START","actionTypes","FILE_UPLOAD_ERROR","FILE_UPLOAD_COMPLETE","FILE_DELETE_START","FILE_DELETE_ERROR","FILE_DELETE_COMPLETE","uploadFile","dispatch","firebase","config","storage","Error","path","file","dbPath","options","progress","fileMetadata","metadata","logErrors","_","nameFromOptions","name","filename","meta","type","payload","uploadPromise","ref","put","then","uploadTaskSnapshot","database","firestore","uploadTaskSnaphot","catch","err","console","error","message","Promise","reject","uploadFiles","files","other","all","deleteFile","method","deleteFileFromFb","args","types"],"mappings":"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","sourceRoot":"/Users/scott/Dev/Code/react-redux-firebase/src/actions","sourcesContent":["import { map } from 'lodash'\nimport { actionTypes } from '../constants'\nimport { wrapInDispatch } from '../utils/actions'\nimport {\n  deleteFile as deleteFileFromFb,\n  writeMetadataToDb,\n  uploadFileWithProgress\n} from '../utils/storage'\n\nconst {\n  FILE_UPLOAD_START,\n  FILE_UPLOAD_ERROR,\n  FILE_UPLOAD_COMPLETE,\n  FILE_DELETE_START,\n  FILE_DELETE_ERROR,\n  FILE_DELETE_COMPLETE\n} = actionTypes\n\n/**\n * Upload file to Firebase Storage with option to store\n * file metadata within Firebase Database\n * @param {Function} dispatch - Action dispatch function\n * @param {object} firebase - Internal firebase object\n * @param {object} config - Config object\n * @param {string} config.path - Location within Firebase Stroage at which to upload files.\n * @param {Blob} config.file - File Blob to be uploaded\n * @param {string} config.dbPath - Datbase path to write file meta data to\n * @param {object} config.options - Options\n * @param {string|Function} config.options.name - Name of file. If a function\n * is provided it recieves (fileObject, internalFirebase, config) as arguments.\n * @param {object} config.options.metdata - Metadata for file to be passed along\n * to storage.put calls\n * @returns {Promise} Resolves with meta object\n * @private\n */\nexport function uploadFile(dispatch, firebase, config) {\n  if (!firebase.storage) {\n    throw new Error('Firebase storage is required to upload files')\n  }\n  const { path, file, dbPath, options = { progress: false } } = config || {}\n  const { metadata: fileMetadata } = options || {}\n  const { logErrors } = firebase._.config\n\n  // File renaming through options (supporting string and function)\n  const nameFromOptions =\n    typeof options.name === 'function'\n      ? options.name(file, firebase, config)\n      : options.name\n  const filename = nameFromOptions || file.name\n\n  const meta = { ...config, filename }\n\n  // Dispatch start action\n  dispatch({ type: FILE_UPLOAD_START, payload: { ...config, filename } })\n\n  const uploadPromise = () =>\n    options.progress\n      ? uploadFileWithProgress(dispatch, firebase, {\n          path,\n          file,\n          filename,\n          meta,\n          fileMetadata\n        })\n      : firebase\n          .storage()\n          .ref(`${path}/${filename}`)\n          .put(file, fileMetadata)\n\n  return uploadPromise()\n    .then(uploadTaskSnapshot => {\n      if (!dbPath || (!firebase.database && !firebase.firestore)) {\n        dispatch({\n          type: FILE_UPLOAD_COMPLETE,\n          meta: { ...config, filename },\n          payload: {\n            uploadTaskSnapshot,\n            uploadTaskSnaphot: uploadTaskSnapshot // Preserving legacy typo\n          }\n        })\n        return {\n          uploadTaskSnapshot,\n          uploadTaskSnaphot: uploadTaskSnapshot // Preserving legacy typo\n        }\n      }\n\n      // Write File metadata to either Real Time Database or Firestore (depending on config)\n      return writeMetadataToDb({\n        firebase,\n        uploadTaskSnapshot,\n        dbPath,\n        options\n      }).then(payload => {\n        dispatch({\n          type: FILE_UPLOAD_COMPLETE,\n          meta: { ...config, filename },\n          payload\n        })\n        return payload\n      })\n    })\n    .catch(err => {\n      if (logErrors) {\n        /* eslint-disable no-console */\n        console.error &&\n          console.error(`RRF: Error uploading file: ${err.message || err}`, err)\n        /* eslint-enable no-console */\n      }\n      dispatch({ type: FILE_UPLOAD_ERROR, path, payload: err })\n      return Promise.reject(err)\n    })\n}\n\n/**\n * Upload multiple files to Firebase Storage with option to store\n * file's metadata within Firebase Database\n * @param {Function} dispatch - Action dispatch function\n * @param {object} firebase - Internal firebase object\n * @param {object} opts - Options object\n * @param {string} opts.path - Storage path to write files to\n * @param {Array} opts.files - List of files to be uploaded\n * @param {string} opts.dbPath - Datbase path to write file meta data to\n * @returns {Promise} Resolves with array of meta objects\n * @private\n */\nexport function uploadFiles(dispatch, firebase, { files, ...other }) {\n  return Promise.all(\n    map(files, file => uploadFile(dispatch, firebase, { file, ...other }))\n  )\n}\n\n/**\n * Delete File from Firebase Storage with option to remove meta\n * @param {Function} dispatch - Action dispatch function\n * @param {object} firebase - Internal firebase object\n * @param {object} opts - Options object\n * @param {string} opts.path - Storage path to write files to\n * @param {string} opts.dbPath - Datbase path to write file meta data to\n * @returns {Promise} Resolves with results of deleting a file from storage\n * @private\n */\nexport function deleteFile(dispatch, firebase, { path, dbPath }) {\n  return wrapInDispatch(dispatch, {\n    method: deleteFileFromFb,\n    args: [firebase, { path, dbPath }],\n    types: [FILE_DELETE_START, FILE_DELETE_COMPLETE, FILE_DELETE_ERROR]\n  })\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"ad37c9f7cb883a4a8ce2649e6ab280eceb2a8cc1","contentHash":"172f2b06b87b628bbcc449b553a3e878b360fb1f5858589138779124502167e0"},"/Users/scott/Dev/Code/react-redux-firebase/src/utils/storage.js":{"path":"/Users/scott/Dev/Code/react-redux-firebase/src/utils/storage.js","statementMap":{"0":{"start":{"line":1,"column":40},"end":{"line":1,"column":95}},"1":{"start":{"line":1,"column":96},"end":{"line":1,"column":279}},"2":{"start":{"line":1,"column":297},"end":{"line":1,"column":350}},"3":{"start":{"line":1,"column":360},"end":{"line":1,"column":408}},"4":{"start":{"line":1,"column":420},"end":{"line":1,"column":443}},"5":{"start":{"line":1,"column":462},"end":{"line":1,"column":502}},"6":{"start":{"line":1,"column":524},"end":{"line":1,"column":567}},"7":{"start":{"line":11,"column":47},"end":{"line":11,"column":56}},"8":{"start":{"line":11,"column":64},"end":{"line":11,"column":75}},"9":{"start":{"line":11,"column":76},"end":{"line":15,"column":96}},"10":{"start":{"line":12,"column":0},"end":{"line":12,"column":70}},"11":{"start":{"line":12,"column":52},"end":{"line":12,"column":70}},"12":{"start":{"line":14,"column":0},"end":{"line":15,"column":94}},"13":{"start":{"line":14,"column":36},"end":{"line":15,"column":41}},"14":{"start":{"line":15,"column":61},"end":{"line":15,"column":92}},"15":{"start":{"line":21,"column":64},"end":{"line":21,"column":78}},"16":{"start":{"line":21,"column":88},"end":{"line":21,"column":102}},"17":{"start":{"line":21,"column":122},"end":{"line":21,"column":146}},"18":{"start":{"line":21,"column":159},"end":{"line":21,"column":176}},"19":{"start":{"line":27,"column":5},"end":{"line":28,"column":276}},"20":{"start":{"line":27,"column":70},"end":{"line":27,"column":114}},"21":{"start":{"line":27,"column":122},"end":{"line":28,"column":162}},"22":{"start":{"line":28,"column":163},"end":{"line":28,"column":275}},"23":{"start":{"line":33,"column":0},"end":{"line":33,"column":213}},"24":{"start":{"line":44,"column":50},"end":{"line":44,"column":64}},"25":{"start":{"line":44,"column":84},"end":{"line":44,"column":108}},"26":{"start":{"line":44,"column":116},"end":{"line":44,"column":128}},"27":{"start":{"line":44,"column":137},"end":{"line":44,"column":150}},"28":{"start":{"line":44,"column":170},"end":{"line":44,"column":187}},"29":{"start":{"line":44,"column":208},"end":{"line":44,"column":246}},"30":{"start":{"line":44,"column":274},"end":{"line":44,"column":319}},"31":{"start":{"line":44,"column":336},"end":{"line":44,"column":359}},"32":{"start":{"line":44,"column":380},"end":{"line":44,"column":416}},"33":{"start":{"line":45,"column":0},"end":{"line":50,"column":101}},"34":{"start":{"line":46,"column":13},"end":{"line":46,"column":212}},"35":{"start":{"line":46,"column":228},"end":{"line":46,"column":360}},"36":{"start":{"line":47,"column":0},"end":{"line":50,"column":99}},"37":{"start":{"line":47,"column":41},"end":{"line":48,"column":46}},"38":{"start":{"line":47,"column":71},"end":{"line":48,"column":46}},"39":{"start":{"line":49,"column":15},"end":{"line":49,"column":53}},"40":{"start":{"line":50,"column":0},"end":{"line":50,"column":67}},"41":{"start":{"line":50,"column":48},"end":{"line":50,"column":65}},"42":{"start":{"line":60,"column":69},"end":{"line":60,"column":79}},"43":{"start":{"line":60,"column":85},"end":{"line":60,"column":95}},"44":{"start":{"line":60,"column":105},"end":{"line":60,"column":119}},"45":{"start":{"line":60,"column":125},"end":{"line":60,"column":135}},"46":{"start":{"line":60,"column":149},"end":{"line":60,"column":167}},"47":{"start":{"line":60,"column":180},"end":{"line":60,"column":263}},"48":{"start":{"line":60,"column":273},"end":{"line":60,"column":645}},"49":{"start":{"line":60,"column":359},"end":{"line":60,"column":506}},"50":{"start":{"line":60,"column":534},"end":{"line":60,"column":601}},"51":{"start":{"line":60,"column":632},"end":{"line":60,"column":642}},"52":{"start":{"line":60,"column":646},"end":{"line":60,"column":664}}},"fnMap":{"0":{"name":"deleteFile","decl":{"start":{"line":11,"column":12},"end":{"line":11,"column":22}},"loc":{"start":{"line":11,"column":37},"end":{"line":15,"column":97}},"line":11},"1":{"name":"(anonymous_1)","decl":{"start":{"line":11,"column":126},"end":{"line":11,"column":127}},"loc":{"start":{"line":11,"column":136},"end":{"line":15,"column":95}},"line":11},"2":{"name":"metaDeletePromise","decl":{"start":{"line":14,"column":16},"end":{"line":14,"column":33}},"loc":{"start":{"line":14,"column":35},"end":{"line":15,"column":42}},"line":14},"3":{"name":"(anonymous_3)","decl":{"start":{"line":15,"column":50},"end":{"line":15,"column":51}},"loc":{"start":{"line":15,"column":60},"end":{"line":15,"column":93}},"line":15},"4":{"name":"createUploadMetaResponseHandler","decl":{"start":{"line":21,"column":12},"end":{"line":21,"column":43}},"loc":{"start":{"line":21,"column":50},"end":{"line":28,"column":277}},"line":21},"5":{"name":"(anonymous_5)","decl":{"start":{"line":27,"column":12},"end":{"line":27,"column":13}},"loc":{"start":{"line":27,"column":38},"end":{"line":28,"column":276}},"line":27},"6":{"name":"getDownloadURLFromUploadTaskSnapshot","decl":{"start":{"line":32,"column":12},"end":{"line":32,"column":48}},"loc":{"start":{"line":32,"column":68},"end":{"line":34,"column":1}},"line":32},"7":{"name":"writeMetadataToDb","decl":{"start":{"line":44,"column":12},"end":{"line":44,"column":29}},"loc":{"start":{"line":44,"column":36},"end":{"line":50,"column":102}},"line":44},"8":{"name":"(anonymous_8)","decl":{"start":{"line":45,"column":69},"end":{"line":45,"column":70}},"loc":{"start":{"line":45,"column":90},"end":{"line":50,"column":100}},"line":45},"9":{"name":"metaSetPromise","decl":{"start":{"line":47,"column":16},"end":{"line":47,"column":30}},"loc":{"start":{"line":47,"column":40},"end":{"line":50,"column":68}},"line":47},"10":{"name":"(anonymous_10)","decl":{"start":{"line":50,"column":37},"end":{"line":50,"column":38}},"loc":{"start":{"line":50,"column":47},"end":{"line":50,"column":66}},"line":50},"11":{"name":"uploadFileWithProgress","decl":{"start":{"line":60,"column":12},"end":{"line":60,"column":34}},"loc":{"start":{"line":60,"column":59},"end":{"line":60,"column":665}},"line":60},"12":{"name":"next","decl":{"start":{"line":60,"column":344},"end":{"line":60,"column":348}},"loc":{"start":{"line":60,"column":358},"end":{"line":60,"column":507}},"line":60},"13":{"name":"error","decl":{"start":{"line":60,"column":523},"end":{"line":60,"column":528}},"loc":{"start":{"line":60,"column":533},"end":{"line":60,"column":602}},"line":60},"14":{"name":"complete","decl":{"start":{"line":60,"column":621},"end":{"line":60,"column":629}},"loc":{"start":{"line":60,"column":631},"end":{"line":60,"column":643}},"line":60}},"branchMap":{"0":{"loc":{"start":{"line":12,"column":0},"end":{"line":12,"column":70}},"type":"if","locations":[{"start":{"line":12,"column":0},"end":{"line":12,"column":70}},{"start":{"line":12,"column":0},"end":{"line":12,"column":70}}],"line":12},"1":{"loc":{"start":{"line":12,"column":3},"end":{"line":12,"column":51}},"type":"binary-expr","locations":[{"start":{"line":12,"column":3},"end":{"line":12,"column":10}},{"start":{"line":12,"column":12},"end":{"line":12,"column":30}},{"start":{"line":12,"column":32},"end":{"line":12,"column":51}}],"line":12},"2":{"loc":{"start":{"line":14,"column":43},"end":{"line":15,"column":41}},"type":"cond-expr","locations":[{"start":{"line":14,"column":88},"end":{"line":14,"column":129}},{"start":{"line":15,"column":1},"end":{"line":15,"column":41}}],"line":14},"3":{"loc":{"start":{"line":27,"column":153},"end":{"line":27,"column":194}},"type":"binary-expr","locations":[{"start":{"line":27,"column":153},"end":{"line":27,"column":173}},{"start":{"line":27,"column":175},"end":{"line":27,"column":194}}],"line":27},"4":{"loc":{"start":{"line":28,"column":47},"end":{"line":28,"column":161}},"type":"cond-expr","locations":[{"start":{"line":28,"column":74},"end":{"line":28,"column":121}},{"start":{"line":28,"column":122},"end":{"line":28,"column":161}}],"line":28},"5":{"loc":{"start":{"line":28,"column":170},"end":{"line":28,"column":222}},"type":"binary-expr","locations":[{"start":{"line":28,"column":170},"end":{"line":28,"column":189}},{"start":{"line":28,"column":192},"end":{"line":28,"column":221}}],"line":28},"6":{"loc":{"start":{"line":28,"column":223},"end":{"line":28,"column":268}},"type":"binary-expr","locations":[{"start":{"line":28,"column":223},"end":{"line":28,"column":234}},{"start":{"line":28,"column":237},"end":{"line":28,"column":267}}],"line":28},"7":{"loc":{"start":{"line":33,"column":7},"end":{"line":33,"column":212}},"type":"cond-expr","locations":[{"start":{"line":33,"column":88},"end":{"line":33,"column":127}},{"start":{"line":33,"column":128},"end":{"line":33,"column":212}}],"line":33},"8":{"loc":{"start":{"line":33,"column":7},"end":{"line":33,"column":87}},"type":"binary-expr","locations":[{"start":{"line":33,"column":7},"end":{"line":33,"column":29}},{"start":{"line":33,"column":31},"end":{"line":33,"column":87}}],"line":33},"9":{"loc":{"start":{"line":33,"column":144},"end":{"line":33,"column":211}},"type":"binary-expr","locations":[{"start":{"line":33,"column":144},"end":{"line":33,"column":175}},{"start":{"line":33,"column":177},"end":{"line":33,"column":211}}],"line":33},"10":{"loc":{"start":{"line":44,"column":380},"end":{"line":44,"column":416}},"type":"binary-expr","locations":[{"start":{"line":44,"column":380},"end":{"line":44,"column":395}},{"start":{"line":44,"column":397},"end":{"line":44,"column":416}}],"line":44},"11":{"loc":{"start":{"line":46,"column":13},"end":{"line":46,"column":212}},"type":"cond-expr","locations":[{"start":{"line":46,"column":52},"end":{"line":46,"column":140}},{"start":{"line":46,"column":141},"end":{"line":46,"column":212}}],"line":46},"12":{"loc":{"start":{"line":47,"column":41},"end":{"line":48,"column":46}},"type":"if","locations":[{"start":{"line":47,"column":41},"end":{"line":48,"column":46}},{"start":{"line":47,"column":41},"end":{"line":48,"column":46}}],"line":47}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":5,"8":5,"9":5,"10":5,"11":3,"12":2,"13":2,"14":2,"15":3,"16":3,"17":3,"18":3,"19":3,"20":3,"21":3,"22":3,"23":3,"24":3,"25":3,"26":3,"27":3,"28":3,"29":3,"30":3,"31":3,"32":3,"33":3,"34":3,"35":3,"36":3,"37":3,"38":0,"39":3,"40":3,"41":3,"42":2,"43":2,"44":2,"45":2,"46":2,"47":2,"48":2,"49":0,"50":0,"51":0,"52":2},"f":{"0":5,"1":5,"2":2,"3":2,"4":3,"5":3,"6":3,"7":3,"8":3,"9":3,"10":3,"11":2,"12":0,"13":0,"14":0},"b":{"0":[3,2],"1":[5,2,0],"2":[0,2],"3":[3,3],"4":[0,3],"5":[3,0],"6":[3,0],"7":[0,3],"8":[3,0],"9":[3,0],"10":[3,2],"11":[2,1],"12":[0,3]},"inputSourceMap":{"version":3,"sources":["storage.js"],"names":["FILE_UPLOAD_ERROR","actionTypes","FILE_UPLOAD_PROGRESS","deleteFile","firebase","path","dbPath","storage","ref","delete","then","database","firestore","metaDeletePromise","_","config","useFirestoreForStorageMeta","doc","remove","createUploadMetaResponseHandler","fileData","uploadTaskSnapshot","downloadURL","metaDataSnapshot","result","snapshot","key","id","File","uploadTaskSnaphot","createdAt","FieldValue","serverTimestamp","ServerValue","TIMESTAMP","getDownloadURLFromUploadTaskSnapshot","getDownloadURL","Promise","resolve","downloadURLs","writeMetadataToDb","options","fileMetadataFactory","metadataFactory","metaFactoryFunction","metadata","resultFromSnap","metaSetPromise","collection","add","newMetaRef","push","set","uploadFileWithProgress","dispatch","file","filename","meta","fileMetadata","uploadEvent","put","unListen","on","TaskEvent","STATE_CHANGED","next","type","payload","percent","Math","floor","bytesTransferred","totalBytes","error","err","complete"],"mappings":"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","sourceRoot":"/Users/scott/Dev/Code/react-redux-firebase/src/utils","sourcesContent":["import { omitBy, isUndefined } from 'lodash'\nimport { actionTypes } from '../constants'\n\nconst { FILE_UPLOAD_ERROR, FILE_UPLOAD_PROGRESS } = actionTypes\n\n/**\n * Delete file from Firebase Storage with support for deleteing meta\n * data from database (either Real Time Database or Firestore depending on\n * config)\n * @param {object} firebase - Internal firebase object\n * @param {object} settings - Settings object\n * @param {string} settings.path - Path to File which should be deleted\n * @param {string} settings.dbPath - Path of meta data with Database (Real Time Or\n * Firestore depnding on config)\n * @returns {Promise} Resolves with path and dbPath\n */\nexport function deleteFile(firebase, { path, dbPath }) {\n  return firebase\n    .storage()\n    .ref(path)\n    .delete()\n    .then(() => {\n      // return path if dbPath or a database does not exist\n      if (!dbPath || (!firebase.database && !firebase.firestore)) {\n        return { path }\n      }\n\n      // Choose delete function based on config (Handling Firestore and RTDB)\n      const metaDeletePromise = () =>\n        firebase._.config.useFirestoreForStorageMeta\n          ? firebase\n              .firestore()\n              .doc(dbPath)\n              .delete() // file meta in Firestore\n          : firebase\n              .database()\n              .ref(dbPath)\n              .remove() // file meta in RTDB\n\n      return metaDeletePromise().then(() => ({ path, dbPath }))\n    })\n}\n\n/**\n * Create a function to handle response from upload.\n * @param {object} settings - Settings object\n * @param {object} settings.fileData - File data which was uploaded\n * @param {object} settings.uploadTaskSnapshot - Snapshot from storage upload task\n * @returns {Function} Function for handling upload result\n */\nfunction createUploadMetaResponseHandler({\n  fileData,\n  firebase,\n  uploadTaskSnapshot,\n  downloadURL\n}) {\n  /**\n   * Converts upload meta data snapshot into an object (handling both\n   * RTDB and Firestore)\n   * @param  {object} metaDataSnapshot - Snapshot from metadata upload (from\n   * RTDB or Firestore)\n   * @returns {object} Upload result including snapshot, key, File\n   */\n  return function uploadResultFromSnap(metaDataSnapshot) {\n    const { useFirestoreForStorageMeta } = firebase._.config\n    const result = {\n      snapshot: metaDataSnapshot,\n      key: metaDataSnapshot.key || metaDataSnapshot.id,\n      File: fileData,\n      metaDataSnapshot,\n      uploadTaskSnapshot,\n      // Support legacy method\n      uploadTaskSnaphot: uploadTaskSnapshot,\n      createdAt: useFirestoreForStorageMeta\n        ? firebase.firestore.FieldValue.serverTimestamp()\n        : firebase.database.ServerValue.TIMESTAMP\n    }\n    // Attach id if it exists (Firestore)\n    if (metaDataSnapshot.id) {\n      result.id = metaDataSnapshot.id\n    }\n    // Attach downloadURL if it exists\n    if (downloadURL) {\n      result.downloadURL = downloadURL\n    }\n    return result\n  }\n}\n\n/**\n * Get download URL from upload task snapshot\n * @param {firebase.storage.UploadTaskSnapshot} uploadTaskSnapshot - Upload task snapshot\n * @returns {Promise} Resolves with download URL\n */\nfunction getDownloadURLFromUploadTaskSnapshot(uploadTaskSnapshot) {\n  // Handle different downloadURL patterns (Firebase JS SDK v5.*.* vs v4.*.*)\n  if (\n    uploadTaskSnapshot.ref &&\n    typeof uploadTaskSnapshot.ref.getDownloadURL === 'function'\n  ) {\n    // Get downloadURL and attach to response\n    return uploadTaskSnapshot.ref.getDownloadURL()\n  }\n  // Only attach downloadURL if downloadURLs is defined (not defined in v5.*.*)\n  return Promise.resolve(\n    uploadTaskSnapshot.downloadURLs && uploadTaskSnapshot.downloadURLs[0]\n  )\n}\n\n/**\n * Write file metadata to Database (either Real Time Datbase or Firestore\n * depending on config).\n * @param {object} settings - Settings object\n * @param {object} settings.firebase - Internal firebase object\n * @param {object} settings.uploadTaskSnapshot - Snapshot from upload task\n * @param {string} settings.dbPath - Path of meta data with Database (Real Time Or\n * Firestore depnding on config)\n * @returns {Promise} Resolves with payload (includes snapshot, File, and\n * metaDataSnapshot)\n */\nexport function writeMetadataToDb({\n  firebase,\n  uploadTaskSnapshot,\n  dbPath,\n  options\n}) {\n  // Support metadata factories from both global config and options\n  const { fileMetadataFactory, useFirestoreForStorageMeta } = firebase._.config\n  const { metadataFactory } = options\n  const metaFactoryFunction = metadataFactory || fileMetadataFactory\n  // Get download URL for use in metadata write\n  return getDownloadURLFromUploadTaskSnapshot(uploadTaskSnapshot).then(\n    downloadURL => {\n      // Apply fileMetadataFactory if it exists in config\n      const fileData =\n        typeof metaFactoryFunction === 'function'\n          ? metaFactoryFunction(\n              uploadTaskSnapshot,\n              firebase,\n              uploadTaskSnapshot.metadata,\n              downloadURL\n            )\n          : omitBy(uploadTaskSnapshot.metadata, isUndefined)\n\n      // Create the snapshot handler function\n      const resultFromSnap = createUploadMetaResponseHandler({\n        fileData,\n        firebase,\n        uploadTaskSnapshot,\n        downloadURL\n      })\n\n      // Function for creating promise for writing file metadata (handles writing to RTDB or Firestore)\n      const metaSetPromise = fileData => {\n        if (useFirestoreForStorageMeta) {\n          return firebase // Write metadata to Firestore\n            .firestore()\n            .collection(dbPath)\n            .add(fileData)\n        }\n        // Create new reference for metadata\n        const newMetaRef = firebase\n          .database()\n          .ref(dbPath)\n          .push()\n        // Write metadata to Real Time Database and return new meta ref\n        return newMetaRef.set(fileData).then(res => newMetaRef)\n      }\n\n      return metaSetPromise(fileData).then(resultFromSnap)\n    }\n  )\n}\n\n/**\n * Upload a file with actions fired for progress, success, and errors\n * @param {Function} dispatch - Action dispatch function\n * @param {object} firebase - Internal firebase object\n * @param {object} opts - File data object\n * @param {object} opts.path - Location within Firebase Stroage at which to upload file.\n * @param {Blob} opts.file - File to upload\n * @param {object} opts.fileMetadata - Metadata to pass along to storageRef.put call\n * @returns {Promise} Promise which resolves after file upload\n * @private\n */\nexport function uploadFileWithProgress(\n  dispatch,\n  firebase,\n  { path, file, filename, meta, fileMetadata }\n) {\n  const uploadEvent = firebase\n    .storage()\n    .ref(`${path}/${filename}`)\n    .put(file, fileMetadata)\n\n  const unListen = uploadEvent.on(firebase.storage.TaskEvent.STATE_CHANGED, {\n    next: snapshot => {\n      dispatch({\n        type: FILE_UPLOAD_PROGRESS,\n        meta,\n        payload: {\n          snapshot,\n          percent: Math.floor(\n            snapshot.bytesTransferred / snapshot.totalBytes * 100\n          )\n        }\n      })\n    },\n    error: err => {\n      dispatch({ type: FILE_UPLOAD_ERROR, meta, payload: err })\n      unListen()\n    },\n    complete: () => {\n      unListen()\n    }\n  })\n  return uploadEvent\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"6d4837fcf825c158228f8aa8157033eecafbfbb4","contentHash":"c1fb10edc1269e5cfb8364acacd92b12a3dfa60e4362be5dfcfa05c4bde6f752"},"/Users/scott/Dev/Code/react-redux-firebase/src/ReactReduxFirebaseContext.js":{"path":"/Users/scott/Dev/Code/react-redux-firebase/src/ReactReduxFirebaseContext.js","statementMap":{"0":{"start":{"line":1,"column":13},"end":{"line":1,"column":91}},"1":{"start":{"line":1,"column":102},"end":{"line":1,"column":118}},"2":{"start":{"line":1,"column":145},"end":{"line":1,"column":175}},"3":{"start":{"line":1,"column":185},"end":{"line":1,"column":210}},"4":{"start":{"line":1,"column":211},"end":{"line":1,"column":267}}},"fnMap":{},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":1},"f":{},"b":{},"inputSourceMap":{"version":3,"sources":["ReactReduxFirebaseContext.js"],"names":["ReactReduxFirebaseContext"],"mappings":"uHAMMA,yBAAyB,CAAG,yBAAc,IAAd,C,UAEnBA,yB","sourceRoot":"/Users/scott/Dev/Code/react-redux-firebase/src","sourcesContent":["import { createContext } from 'react'\n\n/**\n * @description Context for extended firebase instance created\n * by react-redux-firebase\n */\nconst ReactReduxFirebaseContext = createContext(null)\n\nexport default ReactReduxFirebaseContext\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"47ec3d6afa2d4288cf915ef37b157b5d3779369b","contentHash":"202e9a1192cd6d8cc9eb3dc5bcd3f641d2504ae2fd817341910f6454e8aa3897"},"/Users/scott/Dev/Code/react-redux-firebase/src/ReduxFirestoreProvider.js":{"path":"/Users/scott/Dev/Code/react-redux-firebase/src/ReduxFirestoreProvider.js","statementMap":{"0":{"start":{"line":1,"column":40},"end":{"line":1,"column":95}},"1":{"start":{"line":1,"column":96},"end":{"line":1,"column":174}},"2":{"start":{"line":1,"column":185},"end":{"line":1,"column":225}},"3":{"start":{"line":1,"column":237},"end":{"line":1,"column":282}},"4":{"start":{"line":1,"column":306},"end":{"line":1,"column":364}},"5":{"start":{"line":1,"column":389},"end":{"line":1,"column":448}},"6":{"start":{"line":13,"column":47},"end":{"line":13,"column":104}},"7":{"start":{"line":13,"column":114},"end":{"line":13,"column":128}},"8":{"start":{"line":13,"column":136},"end":{"line":13,"column":148}},"9":{"start":{"line":13,"column":158},"end":{"line":13,"column":172}},"10":{"start":{"line":13,"column":182},"end":{"line":13,"column":196}},"11":{"start":{"line":13,"column":221},"end":{"line":13,"column":250}},"12":{"start":{"line":13,"column":266},"end":{"line":13,"column":286}},"13":{"start":{"line":13,"column":313},"end":{"line":13,"column":718}},"14":{"start":{"line":13,"column":376},"end":{"line":13,"column":483}},"15":{"start":{"line":13,"column":510},"end":{"line":13,"column":559}},"16":{"start":{"line":13,"column":560},"end":{"line":13,"column":650}},"17":{"start":{"line":13,"column":719},"end":{"line":13,"column":838}},"18":{"start":{"line":13,"column":839},"end":{"line":13,"column":1195}},"19":{"start":{"line":13,"column":1208},"end":{"line":13,"column":1230}},"20":{"start":{"line":13,"column":1231},"end":{"line":13,"column":1287}}},"fnMap":{"0":{"name":"ReduxFirestoreProvider","decl":{"start":{"line":13,"column":12},"end":{"line":13,"column":34}},"loc":{"start":{"line":13,"column":36},"end":{"line":13,"column":839}},"line":13},"1":{"name":"(anonymous_1)","decl":{"start":{"line":13,"column":336},"end":{"line":13,"column":337}},"loc":{"start":{"line":13,"column":346},"end":{"line":13,"column":651}},"line":13}},"branchMap":{"0":{"loc":{"start":{"line":13,"column":47},"end":{"line":13,"column":104}},"type":"cond-expr","locations":[{"start":{"line":13,"column":89},"end":{"line":13,"column":101}},{"start":{"line":13,"column":102},"end":{"line":13,"column":104}}],"line":13},"1":{"loc":{"start":{"line":13,"column":47},"end":{"line":13,"column":88}},"type":"binary-expr","locations":[{"start":{"line":13,"column":47},"end":{"line":13,"column":65}},{"start":{"line":13,"column":67},"end":{"line":13,"column":88}}],"line":13},"2":{"loc":{"start":{"line":13,"column":376},"end":{"line":13,"column":483}},"type":"cond-expr","locations":[{"start":{"line":13,"column":413},"end":{"line":13,"column":421}},{"start":{"line":13,"column":422},"end":{"line":13,"column":483}}],"line":13},"3":{"loc":{"start":{"line":13,"column":567},"end":{"line":13,"column":624}},"type":"binary-expr","locations":[{"start":{"line":13,"column":567},"end":{"line":13,"column":581}},{"start":{"line":13,"column":583},"end":{"line":13,"column":624}}],"line":13}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":54,"7":54,"8":54,"9":54,"10":54,"11":54,"12":54,"13":54,"14":54,"15":54,"16":54,"17":54,"18":1,"19":1,"20":1},"f":{"0":54,"1":54},"b":{"0":[54,0],"1":[54,54],"2":[54,0],"3":[54,0]},"inputSourceMap":{"version":3,"sources":["ReduxFirestoreProvider.js"],"names":["ReduxFirestoreProvider","props","children","config","dispatch","firebase","createFirestoreInstance","initializeAuth","extendedFirestoreInstance","React","useMemo","extendedFirebaseInstance","_reactReduxFirebaseExtended","defaultProps","propTypes","PropTypes","node","object","isRequired","func","bool"],"mappings":"icAKA;;;;;;;;;;;;GAaA,QAASA,CAAAA,sBAAT,EAA4C,IAAZC,CAAAA,KAAY,wDAAJ,EAAI,CAExCC,QAFwC,CAQtCD,KARsC,CAExCC,QAFwC,CAGxCC,MAHwC,CAQtCF,KARsC,CAGxCE,MAHwC,CAIxCC,QAJwC,CAQtCH,KARsC,CAIxCG,QAJwC,CAKxCC,QALwC,CAQtCJ,KARsC,CAKxCI,QALwC,CAMxCC,uBANwC,CAQtCL,KARsC,CAMxCK,uBANwC,CAOxCC,cAPwC,CAQtCN,KARsC,CAOxCM,cAPwC,CASpCC,yBAAyB,CAAGC,eAAMC,OAAN,CAChC,UAAM,IACEC,CAAAA,wBAAwB,CAAGN,QAAQ,CAACO,2BAAT,CAC7BP,QAD6B,CAE7B,oCAAuBA,QAAvB,CAAiCF,MAAjC,CAAyCC,QAAzC,CAHA,CAIEI,yBAAyB,CAAGF,uBAAuB,CACvDD,QADuD,CAEvDF,MAFuD,CAGvDC,QAHuD,CAJrD,CAcJ,MAJIG,CAAAA,cAIJ,EAHEI,wBAAwB,CAACJ,cAAzB,EAGF,CAAOC,yBACR,CAhB+B,CAiBhC,CAACH,QAAD,CAAWF,MAAX,CAAmBC,QAAnB,CAA6BE,uBAA7B,CAAsDC,cAAtD,CAjBgC,CATQ,CA4B1C,MACE,8BAAC,8BAAD,CAAuB,QAAvB,EAAgC,KAAK,CAAEC,yBAAvC,EACGN,QADH,CAIH,CAEDF,sBAAsB,CAACa,YAAvB,CAAsC,CACpCN,cAAc,GADsB,C,CAItCP,sBAAsB,CAACc,SAAvB,CAAmC,CACjCZ,QAAQ,CAAEa,mBAAUC,IADa,CAEjCb,MAAM,CAAEY,mBAAUE,MAAV,CAAiBC,UAFQ,CAGjCd,QAAQ,CAAEW,mBAAUI,IAAV,CAAeD,UAHQ,CAIjCZ,uBAAuB,CAAES,mBAAUI,IAAV,CAAeD,UAJP,CAKjCX,cAAc,CAAEQ,mBAAUK,IALO,CAMjCf,QAAQ,CAAEU,mBAAUE,MAAV,CAAiBC,UANM,C,cASpBlB,sB","sourceRoot":"/Users/scott/Dev/Code/react-redux-firebase/src","sourcesContent":["import React from 'react'\nimport PropTypes from 'prop-types'\nimport ReduxFirestoreContext from './ReduxFirestoreContext'\nimport createFirebaseInstance from './createFirebaseInstance'\n\n/**\n * @description Provider for context containing extended firestore instance created\n * by react-redux-firebase\n * @param {object} props - Component props\n * @param {object} props.config - react-redux-firebase config\n * @param {Function} props.dispatch - Redux's dispatch function\n * @param {object} props.firebase - Firebase library\n * @param {boolean} props.initializeAuth - Whether or not to initialize auth\n * @param {Function} props.createFirestoreInstance - Function for creating\n * extended firestore instance\n * @returns {React.Context.Provider} Provider for redux-firestore context\n * @see https://react-redux-firebase.com/docs/api/ReduxFirestoreProvider.html\n */\nfunction ReduxFirestoreProvider(props = {}) {\n  const {\n    children,\n    config,\n    dispatch,\n    firebase,\n    createFirestoreInstance,\n    initializeAuth\n  } = props\n  const extendedFirestoreInstance = React.useMemo(\n    () => {\n      const extendedFirebaseInstance = firebase._reactReduxFirebaseExtended\n        ? firebase\n        : createFirebaseInstance(firebase, config, dispatch)\n      const extendedFirestoreInstance = createFirestoreInstance(\n        firebase,\n        config,\n        dispatch\n      )\n      // Initialize auth if not disabled\n      if (initializeAuth) {\n        extendedFirebaseInstance.initializeAuth()\n      }\n\n      return extendedFirestoreInstance\n    },\n    [firebase, config, dispatch, createFirestoreInstance, initializeAuth]\n  )\n  return (\n    <ReduxFirestoreContext.Provider value={extendedFirestoreInstance}>\n      {children}\n    </ReduxFirestoreContext.Provider>\n  )\n}\n\nReduxFirestoreProvider.defaultProps = {\n  initializeAuth: true\n}\n\nReduxFirestoreProvider.propTypes = {\n  children: PropTypes.node,\n  config: PropTypes.object.isRequired,\n  dispatch: PropTypes.func.isRequired,\n  createFirestoreInstance: PropTypes.func.isRequired,\n  initializeAuth: PropTypes.bool,\n  firebase: PropTypes.object.isRequired\n}\n\nexport default ReduxFirestoreProvider\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"53d8f3a51f05ef08b5d706f67dc2194f1cfae3cc","contentHash":"d7e1e49b0f6fd43615d9a9e0da11b11b512940f75fa3c1d223ea41c2c3789c1b"},"/Users/scott/Dev/Code/react-redux-firebase/src/ReduxFirestoreContext.js":{"path":"/Users/scott/Dev/Code/react-redux-firebase/src/ReduxFirestoreContext.js","statementMap":{"0":{"start":{"line":1,"column":13},"end":{"line":1,"column":91}},"1":{"start":{"line":1,"column":102},"end":{"line":1,"column":118}},"2":{"start":{"line":1,"column":141},"end":{"line":1,"column":171}},"3":{"start":{"line":1,"column":181},"end":{"line":1,"column":202}},"4":{"start":{"line":1,"column":203},"end":{"line":1,"column":259}}},"fnMap":{},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":1},"f":{},"b":{},"inputSourceMap":{"version":3,"sources":["ReduxFirestoreContext.js"],"names":["ReduxFirestoreContext"],"mappings":"uHAMMA,qBAAqB,CAAG,yBAAc,IAAd,C,UAEfA,qB","sourceRoot":"/Users/scott/Dev/Code/react-redux-firebase/src","sourcesContent":["import { createContext } from 'react'\n\n/**\n * @description Context for extended firebase instance created\n * by react-redux-firebase\n */\nconst ReduxFirestoreContext = createContext(null)\n\nexport default ReduxFirestoreContext\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"bdd03ff0ffeb212316134fd9b298ff5db69a5a7e","contentHash":"78d896421480fc00d925157854ac2f3b3af0c164b18166c5aee1780b9ac5702d"},"/Users/scott/Dev/Code/react-redux-firebase/src/firebaseConnect.js":{"path":"/Users/scott/Dev/Code/react-redux-firebase/src/firebaseConnect.js","statementMap":{"0":{"start":{"line":1,"column":41},"end":{"line":1,"column":97}},"1":{"start":{"line":1,"column":121},"end":{"line":1,"column":176}},"2":{"start":{"line":1,"column":177},"end":{"line":1,"column":264}},"3":{"start":{"line":1,"column":278},"end":{"line":1,"column":343}},"4":{"start":{"line":1,"column":361},"end":{"line":1,"column":433}},"5":{"start":{"line":1,"column":448},"end":{"line":1,"column":517}},"6":{"start":{"line":1,"column":546},"end":{"line":1,"column":629}},"7":{"start":{"line":1,"column":647},"end":{"line":1,"column":719}},"8":{"start":{"line":1,"column":744},"end":{"line":1,"column":823}},"9":{"start":{"line":1,"column":835},"end":{"line":1,"column":901}},"10":{"start":{"line":1,"column":919},"end":{"line":1,"column":991}},"11":{"start":{"line":1,"column":1009},"end":{"line":1,"column":1065}},"12":{"start":{"line":1,"column":1076},"end":{"line":1,"column":1125}},"13":{"start":{"line":1,"column":1133},"end":{"line":1,"column":1174}},"14":{"start":{"line":1,"column":1186},"end":{"line":1,"column":1231}},"15":{"start":{"line":1,"column":1254},"end":{"line":1,"column":1312}},"16":{"start":{"line":1,"column":1320},"end":{"line":1,"column":1346}},"17":{"start":{"line":1,"column":1354},"end":{"line":1,"column":1372}},"18":{"start":{"line":1,"column":1400},"end":{"line":1,"column":1462}},"19":{"start":{"line":1,"column":1512},"end":{"line":1,"column":1531}},"20":{"start":{"line":1,"column":1532},"end":{"line":1,"column":1763}},"21":{"start":{"line":1,"column":1577},"end":{"line":1,"column":1613}},"22":{"start":{"line":1,"column":1614},"end":{"line":1,"column":1762}},"23":{"start":{"line":1,"column":1668},"end":{"line":1,"column":1729}},"24":{"start":{"line":1,"column":1763},"end":{"line":1,"column":1774}},"25":{"start":{"line":1,"column":1806},"end":{"line":1,"column":2214}},"26":{"start":{"line":1,"column":1823},"end":{"line":1,"column":1824}},"27":{"start":{"line":1,"column":1848},"end":{"line":1,"column":2214}},"28":{"start":{"line":1,"column":1935},"end":{"line":1,"column":1987}},"29":{"start":{"line":1,"column":2134},"end":{"line":1,"column":2211}},"30":{"start":{"line":1,"column":2214},"end":{"line":1,"column":2227}},"31":{"start":{"line":64,"column":48},"end":{"line":64,"column":105}},"32":{"start":{"line":64,"column":106},"end":{"line":70,"column":1232}},"33":{"start":{"line":68,"column":50},"end":{"line":68,"column":321}},"34":{"start":{"line":68,"column":163},"end":{"line":68,"column":319}},"35":{"start":{"line":68,"column":362},"end":{"line":70,"column":632}},"36":{"start":{"line":68,"column":444},"end":{"line":68,"column":502}},"37":{"start":{"line":68,"column":502},"end":{"line":68,"column":600}},"38":{"start":{"line":68,"column":515},"end":{"line":68,"column":531}},"39":{"start":{"line":68,"column":537},"end":{"line":68,"column":548}},"40":{"start":{"line":68,"column":554},"end":{"line":68,"column":555}},"41":{"start":{"line":68,"column":573},"end":{"line":68,"column":600}},"42":{"start":{"line":68,"column":600},"end":{"line":68,"column":1056}},"43":{"start":{"line":68,"column":1057},"end":{"line":70,"column":613}},"44":{"start":{"line":68,"column":1247},"end":{"line":68,"column":1257}},"45":{"start":{"line":68,"column":1267},"end":{"line":68,"column":1287}},"46":{"start":{"line":68,"column":1297},"end":{"line":68,"column":1317}},"47":{"start":{"line":68,"column":1330},"end":{"line":68,"column":1370}},"48":{"start":{"line":69,"column":0},"end":{"line":69,"column":49}},"49":{"start":{"line":69,"column":57},"end":{"line":69,"column":69}},"50":{"start":{"line":69,"column":78},"end":{"line":69,"column":94}},"51":{"start":{"line":69,"column":103},"end":{"line":69,"column":119}},"52":{"start":{"line":69,"column":129},"end":{"line":69,"column":146}},"53":{"start":{"line":69,"column":152},"end":{"line":69,"column":165}},"54":{"start":{"line":69,"column":166},"end":{"line":69,"column":385}},"55":{"start":{"line":69,"column":471},"end":{"line":69,"column":481}},"56":{"start":{"line":69,"column":491},"end":{"line":69,"column":512}},"57":{"start":{"line":69,"column":522},"end":{"line":69,"column":543}},"58":{"start":{"line":69,"column":544},"end":{"line":69,"column":608}},"59":{"start":{"line":69,"column":779},"end":{"line":69,"column":789}},"60":{"start":{"line":69,"column":799},"end":{"line":69,"column":820}},"61":{"start":{"line":69,"column":830},"end":{"line":69,"column":851}},"62":{"start":{"line":69,"column":864},"end":{"line":69,"column":904}},"63":{"start":{"line":69,"column":910},"end":{"line":69,"column":936}},"64":{"start":{"line":70,"column":0},"end":{"line":70,"column":481}},"65":{"start":{"line":70,"column":68},"end":{"line":70,"column":134}},"66":{"start":{"line":70,"column":154},"end":{"line":70,"column":220}},"67":{"start":{"line":70,"column":221},"end":{"line":70,"column":480}},"68":{"start":{"line":70,"column":522},"end":{"line":70,"column":586}},"69":{"start":{"line":70,"column":633},"end":{"line":70,"column":1231}},"70":{"start":{"line":70,"column":1233},"end":{"line":70,"column":1264}}},"fnMap":{"0":{"name":"ownKeys","decl":{"start":{"line":1,"column":1472},"end":{"line":1,"column":1479}},"loc":{"start":{"line":1,"column":1502},"end":{"line":1,"column":1775}},"line":1},"1":{"name":"(anonymous_1)","decl":{"start":{"line":1,"column":1654},"end":{"line":1,"column":1655}},"loc":{"start":{"line":1,"column":1667},"end":{"line":1,"column":1730}},"line":1},"2":{"name":"_objectSpread","decl":{"start":{"line":1,"column":1784},"end":{"line":1,"column":1797}},"loc":{"start":{"line":1,"column":1805},"end":{"line":1,"column":2228}},"line":1},"3":{"name":"(anonymous_3)","decl":{"start":{"line":1,"column":1921},"end":{"line":1,"column":1922}},"loc":{"start":{"line":1,"column":1934},"end":{"line":1,"column":1988}},"line":1},"4":{"name":"(anonymous_4)","decl":{"start":{"line":1,"column":2120},"end":{"line":1,"column":2121}},"loc":{"start":{"line":1,"column":2133},"end":{"line":1,"column":2212}},"line":1},"5":{"name":"firebaseConnect","decl":{"start":{"line":64,"column":12},"end":{"line":64,"column":27}},"loc":{"start":{"line":64,"column":29},"end":{"line":70,"column":1233}},"line":64},"6":{"name":"(anonymous_6)","decl":{"start":{"line":64,"column":113},"end":{"line":64,"column":114}},"loc":{"start":{"line":64,"column":139},"end":{"line":70,"column":1232}},"line":64},"7":{"name":"FirebaseConnectWithContext","decl":{"start":{"line":68,"column":16},"end":{"line":68,"column":42}},"loc":{"start":{"line":68,"column":49},"end":{"line":68,"column":322}},"line":68},"8":{"name":"(anonymous_8)","decl":{"start":{"line":68,"column":135},"end":{"line":68,"column":136}},"loc":{"start":{"line":68,"column":162},"end":{"line":68,"column":320}},"line":68},"9":{"name":"(anonymous_9)","decl":{"start":{"line":68,"column":362},"end":{"line":68,"column":363}},"loc":{"start":{"line":68,"column":382},"end":{"line":70,"column":614}},"line":68},"10":{"name":"FirebaseConnectWrapped","decl":{"start":{"line":68,"column":392},"end":{"line":68,"column":414}},"loc":{"start":{"line":68,"column":416},"end":{"line":68,"column":1057}},"line":68},"11":{"name":"componentDidMount","decl":{"start":{"line":68,"column":1211},"end":{"line":68,"column":1228}},"loc":{"start":{"line":68,"column":1230},"end":{"line":69,"column":386}},"line":68},"12":{"name":"componentWillUnmount","decl":{"start":{"line":69,"column":431},"end":{"line":69,"column":451}},"loc":{"start":{"line":69,"column":453},"end":{"line":69,"column":609}},"line":69},"13":{"name":"UNSAFE_componentWillReceiveProps","decl":{"start":{"line":69,"column":696},"end":{"line":69,"column":728}},"loc":{"start":{"line":69,"column":732},"end":{"line":70,"column":482}},"line":69},"14":{"name":"render","decl":{"start":{"line":70,"column":513},"end":{"line":70,"column":519}},"loc":{"start":{"line":70,"column":521},"end":{"line":70,"column":587}},"line":70}},"branchMap":{"0":{"loc":{"start":{"line":1,"column":1532},"end":{"line":1,"column":1763}},"type":"if","locations":[{"start":{"line":1,"column":1532},"end":{"line":1,"column":1763}},{"start":{"line":1,"column":1532},"end":{"line":1,"column":1763}}],"line":1},"1":{"loc":{"start":{"line":1,"column":1614},"end":{"line":1,"column":1732}},"type":"binary-expr","locations":[{"start":{"line":1,"column":1614},"end":{"line":1,"column":1628}},{"start":{"line":1,"column":1631},"end":{"line":1,"column":1731}}],"line":1},"2":{"loc":{"start":{"line":1,"column":1855},"end":{"line":1,"column":1889}},"type":"cond-expr","locations":[{"start":{"line":1,"column":1874},"end":{"line":1,"column":1876}},{"start":{"line":1,"column":1877},"end":{"line":1,"column":1889}}],"line":1},"3":{"loc":{"start":{"line":1,"column":1890},"end":{"line":1,"column":2213}},"type":"cond-expr","locations":[{"start":{"line":1,"column":1894},"end":{"line":1,"column":1989}},{"start":{"line":1,"column":1990},"end":{"line":1,"column":2213}}],"line":1},"4":{"loc":{"start":{"line":1,"column":1990},"end":{"line":1,"column":2213}},"type":"cond-expr","locations":[{"start":{"line":1,"column":2023},"end":{"line":1,"column":2095}},{"start":{"line":1,"column":2096},"end":{"line":1,"column":2213}}],"line":1},"5":{"loc":{"start":{"line":64,"column":48},"end":{"line":64,"column":105}},"type":"cond-expr","locations":[{"start":{"line":64,"column":90},"end":{"line":64,"column":102}},{"start":{"line":64,"column":103},"end":{"line":64,"column":105}}],"line":64},"6":{"loc":{"start":{"line":64,"column":48},"end":{"line":64,"column":89}},"type":"binary-expr","locations":[{"start":{"line":64,"column":48},"end":{"line":64,"column":66}},{"start":{"line":64,"column":68},"end":{"line":64,"column":89}}],"line":64},"7":{"loc":{"start":{"line":70,"column":0},"end":{"line":70,"column":481}},"type":"if","locations":[{"start":{"line":70,"column":0},"end":{"line":70,"column":481}},{"start":{"line":70,"column":0},"end":{"line":70,"column":481}}],"line":70}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1,"13":1,"14":1,"15":1,"16":1,"17":1,"18":1,"19":10,"20":10,"21":10,"22":10,"23":0,"24":10,"25":10,"26":10,"27":10,"28":0,"29":0,"30":10,"31":5,"32":5,"33":17,"34":17,"35":14,"36":10,"37":10,"38":10,"39":10,"40":10,"41":20,"42":10,"43":14,"44":10,"45":10,"46":10,"47":10,"48":10,"49":10,"50":10,"51":10,"52":10,"53":10,"54":10,"55":1,"56":1,"57":1,"58":1,"59":7,"60":7,"61":7,"62":7,"63":7,"64":7,"65":6,"66":6,"67":6,"68":17,"69":14,"70":1},"f":{"0":10,"1":0,"2":10,"3":0,"4":0,"5":5,"6":14,"7":17,"8":17,"9":14,"10":10,"11":10,"12":1,"13":7,"14":17},"b":{"0":[10,0],"1":[10,10],"2":[10,0],"3":[10,0],"4":[0,0],"5":[1,4],"6":[5,1],"7":[6,1]},"inputSourceMap":{"version":3,"sources":["firebaseConnect.js"],"names":["firebaseConnect","queriesConfig","WrappedComponent","FirebaseConnectWithContext","props","_internalFirebase","dispatch","FirebaseConnectWrapped","firebase","inputAsFunc","prevData","ref","helpers","storage","database","auth","_firebaseEvents","np","data","store","itemsToSubscribe","itemsToUnsubscribe","Component","propTypes","PropTypes","func","isRequired","object","displayName","wrappedComponent"],"mappings":"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","sourceRoot":"/Users/scott/Dev/Code/react-redux-firebase/src","sourcesContent":["import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport { isEqual, differenceWith } from 'lodash'\nimport hoistStatics from 'hoist-non-react-statics'\nimport { watchEvents, unWatchEvents } from './actions/query'\nimport { getEventsFromInput, createCallable, wrapDisplayName } from './utils'\nimport ReactReduxFirebaseContext from './ReactReduxFirebaseContext'\n\n/**\n * @augments React.Component\n * @description React Higher Order Component that automatically listens/unListens to\n * Firebase Real Time Database on mount/unmount of the component. This uses\n * React's Component Lifecycle hooks.\n * @param {Array|Function} queriesConfig - Array of objects or strings for paths to sync\n * from Firebase. Can also be a function that returns the array. The function\n * is passed the current props and the firebase object.\n * @returns {Function} - that accepts a component to wrap and returns the wrapped component\n * @see https://react-redux-firebase.com/docs/api/firebaseConnect.html\n * @example <caption>Basic</caption>\n * // props.firebase set on App component as firebase object with helpers\n * import { firebaseConnect } from 'react-redux-firebase'\n * export default firebaseConnect()(App)\n * @example <caption>Ordered Data</caption>\n * import React from 'react'\n * import { compose } from 'redux'\n * import { connect } from 'react-redux'\n * import { firebaseConnect } from 'react-redux-firebase'\n *\n * const enhance = compose(\n *   firebaseConnect([\n *     'todos' // sync /todos from firebase into redux\n *   ]),\n *   connect((state) => ({\n *     todos: state.firebase.ordered.todos\n *   }))\n * )\n *\n * function Todos({ todos }) {\n *   return (\n *     <div>\n *       {JSON.stringify(todos, null, 2)}\n *     </div>\n *   )\n * }\n *\n * export default enhance(Todos)\n * @example <caption>Data that depends on props</caption>\n * import React from 'react'\n * import { compose } from 'redux'\n * import { connect } from 'react-redux'\n * import { get } from 'lodash'\n * import { firebaseConnect } from 'react-redux-firebase'\n *\n * const enhance = compose(\n *   firebaseConnect((props) => ([\n *     `posts/${props.postId}` // sync /posts/postId from firebase into redux\n *   ])),\n *   connect((state, props) => ({\n *     post: get(state.firebase.data, `posts.${props.postId}`),\n *   }))\n * )\n *\n * function Post({ post }) {\n *   return (\n *     <div>\n *      {JSON.stringify(post, null, 2)}\n *     </div>\n *   )\n * }\n *\n * export default enhance(Post)\n */\nexport default function firebaseConnect(queriesConfig = []) {\n  return WrappedComponent => {\n    class FirebaseConnectWrapped extends Component {\n      static displayName = wrapDisplayName(\n        WrappedComponent,\n        'FirebaseConnectWrapped'\n      )\n      static wrappedComponent = WrappedComponent\n\n      firebaseEvents = []\n      firebase = null\n      prevData = null\n\n      componentDidMount() {\n        const { firebase, dispatch } = this.props\n\n        // Allow function to be passed\n        const inputAsFunc = createCallable(queriesConfig)\n        this.prevData = inputAsFunc(this.props, this.props)\n\n        const { ref, helpers, storage, database, auth } = firebase\n        this.firebase = { ref, storage, database, auth, ...helpers }\n\n        this._firebaseEvents = getEventsFromInput(this.prevData)\n\n        watchEvents(firebase, dispatch, this._firebaseEvents)\n      }\n\n      componentWillUnmount() {\n        const { firebase, dispatch } = this.props\n        unWatchEvents(firebase, dispatch, this._firebaseEvents)\n      }\n\n      /* eslint-disable camelcase */\n      UNSAFE_componentWillReceiveProps(np) {\n        /* eslint-enable camelcase */\n        const { firebase, dispatch } = this.props\n        const inputAsFunc = createCallable(queriesConfig)\n        const data = inputAsFunc(np, this.store)\n\n        // Handle a data parameter having changed\n        if (!isEqual(data, this.prevData)) {\n          const itemsToSubscribe = differenceWith(data, this.prevData, isEqual)\n          const itemsToUnsubscribe = differenceWith(\n            this.prevData,\n            data,\n            isEqual\n          )\n\n          this.prevData = data\n          // UnWatch all current events\n          unWatchEvents(\n            firebase,\n            dispatch,\n            getEventsFromInput(itemsToUnsubscribe)\n          )\n          // Get watch events from new data\n          this._firebaseEvents = getEventsFromInput(data)\n\n          // Watch new events\n          watchEvents(firebase, dispatch, getEventsFromInput(itemsToSubscribe))\n        }\n      }\n\n      render() {\n        return <WrappedComponent {...this.props} />\n      }\n    }\n\n    FirebaseConnectWrapped.propTypes = {\n      dispatch: PropTypes.func.isRequired,\n      firebase: PropTypes.object.isRequired\n    }\n\n    /**\n     * Render component wrapped in context\n     * @param {object} props - Component props\n     * @returns {React.Component} Component wrapped in context\n     */\n    function FirebaseConnectWithContext(props) {\n      return (\n        <ReactReduxFirebaseContext.Consumer>\n          {_internalFirebase => (\n            <FirebaseConnectWrapped\n              {...props}\n              dispatch={_internalFirebase.dispatch}\n              firebase={_internalFirebase}\n            />\n          )}\n        </ReactReduxFirebaseContext.Consumer>\n      )\n    }\n\n    FirebaseConnectWithContext.displayName = wrapDisplayName(\n      WrappedComponent,\n      'FirebaseConnect'\n    )\n\n    FirebaseConnectWithContext.wrappedComponent = WrappedComponent\n\n    return hoistStatics(FirebaseConnectWithContext, WrappedComponent)\n  }\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"86000a56cefe47b6b5027c87732be74c2f7ad06b","contentHash":"c7332349c794a29601ba87710080a3ec590dcc0b6ead9d5586267ce877dadd45"},"/Users/scott/Dev/Code/react-redux-firebase/src/firestoreConnect.js":{"path":"/Users/scott/Dev/Code/react-redux-firebase/src/firestoreConnect.js","statementMap":{"0":{"start":{"line":1,"column":41},"end":{"line":1,"column":97}},"1":{"start":{"line":1,"column":121},"end":{"line":1,"column":176}},"2":{"start":{"line":1,"column":177},"end":{"line":1,"column":265}},"3":{"start":{"line":1,"column":279},"end":{"line":1,"column":344}},"4":{"start":{"line":1,"column":362},"end":{"line":1,"column":434}},"5":{"start":{"line":1,"column":449},"end":{"line":1,"column":518}},"6":{"start":{"line":1,"column":547},"end":{"line":1,"column":630}},"7":{"start":{"line":1,"column":648},"end":{"line":1,"column":720}},"8":{"start":{"line":1,"column":745},"end":{"line":1,"column":824}},"9":{"start":{"line":1,"column":836},"end":{"line":1,"column":902}},"10":{"start":{"line":1,"column":920},"end":{"line":1,"column":992}},"11":{"start":{"line":1,"column":1003},"end":{"line":1,"column":1052}},"12":{"start":{"line":1,"column":1060},"end":{"line":1,"column":1101}},"13":{"start":{"line":1,"column":1113},"end":{"line":1,"column":1158}},"14":{"start":{"line":1,"column":1181},"end":{"line":1,"column":1239}},"15":{"start":{"line":1,"column":1247},"end":{"line":1,"column":1265}},"16":{"start":{"line":1,"column":1289},"end":{"line":1,"column":1347}},"17":{"start":{"line":1,"column":1375},"end":{"line":1,"column":1437}},"18":{"start":{"line":28,"column":49},"end":{"line":28,"column":106}},"19":{"start":{"line":28,"column":107},"end":{"line":34,"column":1086}},"20":{"start":{"line":32,"column":51},"end":{"line":32,"column":464}},"21":{"start":{"line":32,"column":164},"end":{"line":32,"column":462}},"22":{"start":{"line":32,"column":274},"end":{"line":32,"column":460}},"23":{"start":{"line":32,"column":506},"end":{"line":34,"column":453}},"24":{"start":{"line":32,"column":589},"end":{"line":32,"column":648}},"25":{"start":{"line":32,"column":648},"end":{"line":32,"column":746}},"26":{"start":{"line":32,"column":661},"end":{"line":32,"column":677}},"27":{"start":{"line":32,"column":683},"end":{"line":32,"column":694}},"28":{"start":{"line":32,"column":700},"end":{"line":32,"column":701}},"29":{"start":{"line":32,"column":719},"end":{"line":32,"column":746}},"30":{"start":{"line":32,"column":746},"end":{"line":32,"column":1021}},"31":{"start":{"line":32,"column":1022},"end":{"line":34,"column":434}},"32":{"start":{"line":32,"column":1198},"end":{"line":33,"column":155}},"33":{"start":{"line":33,"column":16},"end":{"line":33,"column":56}},"34":{"start":{"line":33,"column":57},"end":{"line":33,"column":154}},"35":{"start":{"line":33,"column":224},"end":{"line":33,"column":314}},"36":{"start":{"line":33,"column":482},"end":{"line":33,"column":502}},"37":{"start":{"line":33,"column":515},"end":{"line":33,"column":555}},"38":{"start":{"line":33,"column":561},"end":{"line":33,"column":587}},"39":{"start":{"line":34,"column":0},"end":{"line":34,"column":225}},"40":{"start":{"line":34,"column":84},"end":{"line":34,"column":125}},"41":{"start":{"line":34,"column":126},"end":{"line":34,"column":224}},"42":{"start":{"line":34,"column":266},"end":{"line":34,"column":330}},"43":{"start":{"line":34,"column":378},"end":{"line":34,"column":406}},"44":{"start":{"line":34,"column":454},"end":{"line":34,"column":1085}},"45":{"start":{"line":34,"column":1087},"end":{"line":34,"column":1118}}},"fnMap":{"0":{"name":"firestoreConnect","decl":{"start":{"line":28,"column":12},"end":{"line":28,"column":28}},"loc":{"start":{"line":28,"column":30},"end":{"line":34,"column":1087}},"line":28},"1":{"name":"(anonymous_1)","decl":{"start":{"line":28,"column":114},"end":{"line":28,"column":115}},"loc":{"start":{"line":28,"column":140},"end":{"line":34,"column":1086}},"line":28},"2":{"name":"FirestoreConnectWithContext","decl":{"start":{"line":32,"column":16},"end":{"line":32,"column":43}},"loc":{"start":{"line":32,"column":50},"end":{"line":32,"column":465}},"line":32},"3":{"name":"(anonymous_3)","decl":{"start":{"line":32,"column":136},"end":{"line":32,"column":137}},"loc":{"start":{"line":32,"column":163},"end":{"line":32,"column":463}},"line":32},"4":{"name":"(anonymous_4)","decl":{"start":{"line":32,"column":245},"end":{"line":32,"column":246}},"loc":{"start":{"line":32,"column":273},"end":{"line":32,"column":461}},"line":32},"5":{"name":"(anonymous_5)","decl":{"start":{"line":32,"column":506},"end":{"line":32,"column":507}},"loc":{"start":{"line":32,"column":526},"end":{"line":34,"column":435}},"line":32},"6":{"name":"FirestoreConnectWrapped","decl":{"start":{"line":32,"column":536},"end":{"line":32,"column":559}},"loc":{"start":{"line":32,"column":561},"end":{"line":32,"column":1022}},"line":32},"7":{"name":"componentDidMount","decl":{"start":{"line":32,"column":1178},"end":{"line":32,"column":1195}},"loc":{"start":{"line":32,"column":1197},"end":{"line":33,"column":156}},"line":32},"8":{"name":"componentWillUnmount","decl":{"start":{"line":33,"column":201},"end":{"line":33,"column":221}},"loc":{"start":{"line":33,"column":223},"end":{"line":33,"column":315}},"line":33},"9":{"name":"UNSAFE_componentWillReceiveProps","decl":{"start":{"line":33,"column":402},"end":{"line":33,"column":434}},"loc":{"start":{"line":33,"column":438},"end":{"line":34,"column":226}},"line":33},"10":{"name":"render","decl":{"start":{"line":34,"column":257},"end":{"line":34,"column":263}},"loc":{"start":{"line":34,"column":265},"end":{"line":34,"column":331}},"line":34},"11":{"name":"get","decl":{"start":{"line":34,"column":372},"end":{"line":34,"column":375}},"loc":{"start":{"line":34,"column":377},"end":{"line":34,"column":407}},"line":34}},"branchMap":{"0":{"loc":{"start":{"line":28,"column":49},"end":{"line":28,"column":106}},"type":"cond-expr","locations":[{"start":{"line":28,"column":91},"end":{"line":28,"column":103}},{"start":{"line":28,"column":104},"end":{"line":28,"column":106}}],"line":28},"1":{"loc":{"start":{"line":28,"column":49},"end":{"line":28,"column":90}},"type":"binary-expr","locations":[{"start":{"line":28,"column":49},"end":{"line":28,"column":67}},{"start":{"line":28,"column":69},"end":{"line":28,"column":90}}],"line":28},"2":{"loc":{"start":{"line":32,"column":1198},"end":{"line":33,"column":155}},"type":"if","locations":[{"start":{"line":32,"column":1198},"end":{"line":33,"column":155}},{"start":{"line":32,"column":1198},"end":{"line":33,"column":155}}],"line":32},"3":{"loc":{"start":{"line":33,"column":224},"end":{"line":33,"column":314}},"type":"binary-expr","locations":[{"start":{"line":33,"column":224},"end":{"line":33,"column":247}},{"start":{"line":33,"column":249},"end":{"line":33,"column":262}},{"start":{"line":33,"column":264},"end":{"line":33,"column":314}}],"line":33},"4":{"loc":{"start":{"line":34,"column":0},"end":{"line":34,"column":225}},"type":"if","locations":[{"start":{"line":34,"column":0},"end":{"line":34,"column":225}},{"start":{"line":34,"column":0},"end":{"line":34,"column":225}}],"line":34},"5":{"loc":{"start":{"line":34,"column":3},"end":{"line":34,"column":70}},"type":"binary-expr","locations":[{"start":{"line":34,"column":3},"end":{"line":34,"column":26}},{"start":{"line":34,"column":28},"end":{"line":34,"column":70}}],"line":34}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1,"13":1,"14":1,"15":1,"16":1,"17":1,"18":5,"19":5,"20":6,"21":6,"22":6,"23":8,"24":4,"25":4,"26":4,"27":4,"28":4,"29":8,"30":4,"31":8,"32":4,"33":3,"34":3,"35":1,"36":2,"37":2,"38":2,"39":2,"40":1,"41":1,"42":6,"43":7,"44":8,"45":1},"f":{"0":5,"1":8,"2":6,"3":6,"4":6,"5":8,"6":4,"7":4,"8":1,"9":2,"10":6,"11":7},"b":{"0":[1,4],"1":[5,1],"2":[3,1],"3":[1,1,1],"4":[1,1],"5":[2,2]},"inputSourceMap":{"version":3,"sources":["firestoreConnect.js"],"names":["firestoreConnect","queriesConfig","WrappedComponent","FirestoreConnectWithContext","props","_internalFirebase","_internalFirestore","dispatch","FirestoreConnectWrapped","firestoreIsEnabled","inputAsFunc","prevData","firestore","setListeners","unsetListeners","np","data","changes","removed","added","Component","propTypes","PropTypes","func","isRequired","firebase","object","displayName","wrappedComponent"],"mappings":"85CAQA;;;;;;;;;;;;;;;;;;;;;;;;;;;GA4Be,QAASA,CAAAA,gBAAT,EAA8C,IAApBC,CAAAA,aAAoB,wDAAJ,EAAI,CAC3D,MAAO,UAAAC,gBAAgB,CAAI,CA8DzB;;;;OAKA,QAASC,CAAAA,2BAAT,CAAqCC,KAArC,CAA4C,CAC1C,MACE,8BAAC,kCAAD,CAA2B,QAA3B,MACG,SAAAC,iBAAiB,QAChB,8BAAC,8BAAD,CAAuB,QAAvB,MACG,SAAAC,kBAAkB,QACjB,8BAAC,uBAAD,0BACMF,KADN,EAEE,QAAQ,CAAEC,iBAAiB,CAACE,QAF9B,CAGE,SAAS,CAAED,kBAHb,CAIE,QAAQ,CAAED,iBAJZ,GADiB,CADrB,CADgB,CADpB,CAeH,CApFwB,GACnBG,CAAAA,uBADmB,sgBAQZ,IARY,uLAcH,CAClB,GAAI,KAAKC,kBAAT,CAA6B,CAC3B;AACA,GAAMC,CAAAA,WAAW,CAAG,0BAAeT,aAAf,CAApB,CACA,KAAKU,QAAL,CAAgBD,WAAW,CAAC,KAAKN,KAAN,CAAa,KAAKA,KAAlB,CAHA,CAK3B,KAAKA,KAAL,CAAWQ,SAAX,CAAqBC,YAArB,CAAkC,KAAKF,QAAvC,CACD,CACF,CAtBsB,mEAwBA,CACjB,KAAKF,kBAAL,EAA2B,KAAKE,QADf,EAEnB,KAAKP,KAAL,CAAWQ,SAAX,CAAqBE,cAArB,CAAoC,KAAKH,QAAzC,CAEH,CAED,8BA9BuB,0FA+BUI,EA/BV,CA+Bc,CACnC,6BADmC,GAE3BH,CAAAA,SAF2B,CAEb,KAAKR,KAFQ,CAE3BQ,SAF2B,CAG7BF,WAAW,CAAG,0BAAeT,aAAf,CAHe,CAI7Be,IAAI,CAAGN,WAAW,CAACK,EAAD,CAAK,KAAKX,KAAV,CAJW,CAMnC;AACA,GAAI,KAAKK,kBAAL,EAA2B,CAAC,sBAAQO,IAAR,CAAc,KAAKL,QAAnB,CAAhC,CAA8D,CAC5D,GAAMM,CAAAA,OAAO,CAAG,sBAAWD,IAAX,CAAiB,KAAKL,QAAtB,CAAhB,CAEA,KAAKA,QAAL,CAAgBK,IAH4C,CAM5DJ,SAAS,CAACE,cAAV,CAAyBG,OAAO,CAACC,OAAjC,CAN4D,CAS5DN,SAAS,CAACC,YAAV,CAAuBI,OAAO,CAACE,KAA/B,CACD,CACF,CAjDsB,uCAmDd,CACP,MAAO,8BAAC,gBAAD,CAAsB,KAAKf,KAA3B,CACR,CArDsB,8CAUE,CACvB,MAAO,CAAC,CAAC,KAAKA,KAAL,CAAWQ,SACrB,CAZsB,6BACaQ,gBADb,EA6FzB,mCA5FMZ,uBA4FN,oBA3F4BN,gBA2F5B,+BA5FMM,uBA4FN,eA1FuB,2BACnBN,gBADmB,CAEnB,yBAFmB,CA0FvB,EArCAM,uBAAuB,CAACa,SAAxB,CAAoC,CAClCd,QAAQ,CAAEe,mBAAUC,IAAV,CAAeC,UADS,CAElCC,QAAQ,CAAEH,mBAAUI,MAFc,CAGlCd,SAAS,CAAEU,mBAAUI,MAHa,CAqCpC,CAPAvB,2BAA2B,CAACwB,WAA5B,CAA0C,2BACxCzB,gBADwC,CAExC,kBAFwC,CAO1C,CAFAC,2BAA2B,CAACyB,gBAA5B,CAA+C1B,gBAE/C,CAAO,kCAAaC,2BAAb,CAA0CD,gBAA1C,CACR,CACF,C","sourceRoot":"/Users/scott/Dev/Code/react-redux-firebase/src","sourcesContent":["import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport { isEqual } from 'lodash'\nimport hoistStatics from 'hoist-non-react-statics'\nimport { createCallable, wrapDisplayName, getChanges } from './utils'\nimport ReduxFirestoreContext from './ReduxFirestoreContext'\nimport ReactReduxFirebaseContext from './ReactReduxFirebaseContext'\n\n/**\n * @augments React.Component\n * @description Higher Order Component that automatically listens/unListens\n * to provided Cloud Firestore paths using React's Lifecycle hooks. Make sure you\n * have required/imported Cloud Firestore, including it's reducer, before\n * attempting to use. **Note** Populate is not yet supported.\n * @param {Array|Function} queriesConfig - Array of objects or strings for paths to sync\n * from Firebase. Can also be a function that returns the array. The function\n * is passed the current props and the firebase object.\n * @returns {Function} - Function which accepts a component to wrap and returns the\n * wrapped component\n * @see https://react-redux-firebase.com/docs/api/firestoreConnect.html\n * @example <caption>Basic</caption>\n * // props.firebase set on App component as firebase object with helpers\n * import { firestoreConnect } from 'react-redux-firebase'\n * export default firestoreConnect()(SomeComponent)\n * @example <caption>Basic</caption>\n * import { connect } from 'react-redux'\n * import { firestoreConnect } from 'react-redux-firebase'\n *\n * // pass todos list from redux as props.todosList\n * export default compose(\n *   firestoreConnect(() => ['todos']), // sync todos collection from Firestore into redux\n *   connect((state) => ({\n *     todosList: state.firestore.data.todos\n *   })\n * )(SomeComponent)\n */\nexport default function firestoreConnect(queriesConfig = []) {\n  return WrappedComponent => {\n    class FirestoreConnectWrapped extends Component {\n      static wrappedComponent = WrappedComponent\n      static displayName = wrapDisplayName(\n        WrappedComponent,\n        'FirestoreConnectWrapped'\n      )\n\n      prevData = null\n\n      get firestoreIsEnabled() {\n        return !!this.props.firestore\n      }\n\n      componentDidMount() {\n        if (this.firestoreIsEnabled) {\n          // Listener configs as object (handling function being passed)\n          const inputAsFunc = createCallable(queriesConfig)\n          this.prevData = inputAsFunc(this.props, this.props)\n          // Attach listeners based on listener config\n          this.props.firestore.setListeners(this.prevData)\n        }\n      }\n\n      componentWillUnmount() {\n        if (this.firestoreIsEnabled && this.prevData) {\n          this.props.firestore.unsetListeners(this.prevData)\n        }\n      }\n\n      /* eslint-disable camelcase */\n      UNSAFE_componentWillReceiveProps(np) {\n        /* eslint-enable camelcase */\n        const { firestore } = this.props\n        const inputAsFunc = createCallable(queriesConfig)\n        const data = inputAsFunc(np, this.props)\n\n        // Check for changes in the listener configs\n        if (this.firestoreIsEnabled && !isEqual(data, this.prevData)) {\n          const changes = getChanges(data, this.prevData)\n\n          this.prevData = data\n\n          // Remove listeners for inactive subscriptions\n          firestore.unsetListeners(changes.removed)\n\n          // Add listeners for new subscriptions\n          firestore.setListeners(changes.added)\n        }\n      }\n\n      render() {\n        return <WrappedComponent {...this.props} />\n      }\n    }\n\n    FirestoreConnectWrapped.propTypes = {\n      dispatch: PropTypes.func.isRequired,\n      firebase: PropTypes.object,\n      firestore: PropTypes.object\n    }\n\n    /**\n     * Render component wrapped in context\n     * @param {object} props - Component props\n     * @returns {React.Component} Component wrapped in context\n     */\n    function FirestoreConnectWithContext(props) {\n      return (\n        <ReactReduxFirebaseContext.Consumer>\n          {_internalFirebase => (\n            <ReduxFirestoreContext.Consumer>\n              {_internalFirestore => (\n                <FirestoreConnectWrapped\n                  {...props}\n                  dispatch={_internalFirebase.dispatch}\n                  firestore={_internalFirestore}\n                  firebase={_internalFirebase}\n                />\n              )}\n            </ReduxFirestoreContext.Consumer>\n          )}\n        </ReactReduxFirebaseContext.Consumer>\n      )\n    }\n\n    FirestoreConnectWithContext.displayName = wrapDisplayName(\n      WrappedComponent,\n      'FirestoreConnect'\n    )\n\n    FirestoreConnectWithContext.wrappedComponent = WrappedComponent\n\n    return hoistStatics(FirestoreConnectWithContext, WrappedComponent)\n  }\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"6ab3f080120b843198c17ea19afbc13f5a535f98","contentHash":"05422d192d2959a45f2931b80fb18bfbc5312b4b796ba6fa1148b1cf924c59d8"},"/Users/scott/Dev/Code/react-redux-firebase/src/index.js":{"path":"/Users/scott/Dev/Code/react-redux-firebase/src/index.js","statementMap":{"0":{"start":{"line":1,"column":41},"end":{"line":1,"column":97}},"1":{"start":{"line":1,"column":121},"end":{"line":1,"column":176}},"2":{"start":{"line":1,"column":177},"end":{"line":1,"column":255}},"3":{"start":{"line":1,"column":276},"end":{"line":1,"column":348}},"4":{"start":{"line":1,"column":373},"end":{"line":1,"column":433}},"5":{"start":{"line":1,"column":462},"end":{"line":1,"column":525}},"6":{"start":{"line":1,"column":553},"end":{"line":1,"column":615}},"7":{"start":{"line":1,"column":640},"end":{"line":1,"column":699}},"8":{"start":{"line":1,"column":723},"end":{"line":1,"column":781}},"9":{"start":{"line":1,"column":799},"end":{"line":1,"column":851}},"10":{"start":{"line":1,"column":870},"end":{"line":1,"column":923}},"11":{"start":{"line":1,"column":938},"end":{"line":1,"column":987}},"12":{"start":{"line":1,"column":1003},"end":{"line":1,"column":1053}},"13":{"start":{"line":1,"column":1074},"end":{"line":1,"column":1129}},"14":{"start":{"line":1,"column":1151},"end":{"line":1,"column":1207}},"15":{"start":{"line":1,"column":1221},"end":{"line":1,"column":1269}},"16":{"start":{"line":1,"column":1284},"end":{"line":1,"column":1333}},"17":{"start":{"line":1,"column":1343},"end":{"line":1,"column":1387}},"18":{"start":{"line":1,"column":1399},"end":{"line":1,"column":1446}},"19":{"start":{"line":1,"column":1453},"end":{"line":1,"column":1476}},"20":{"start":{"line":1,"column":1485},"end":{"line":1,"column":1530}},"21":{"start":{"line":1,"column":1580},"end":{"line":1,"column":1599}},"22":{"start":{"line":1,"column":1600},"end":{"line":1,"column":1831}},"23":{"start":{"line":1,"column":1645},"end":{"line":1,"column":1681}},"24":{"start":{"line":1,"column":1682},"end":{"line":1,"column":1830}},"25":{"start":{"line":1,"column":1736},"end":{"line":1,"column":1797}},"26":{"start":{"line":1,"column":1831},"end":{"line":1,"column":1842}},"27":{"start":{"line":1,"column":1874},"end":{"line":1,"column":2282}},"28":{"start":{"line":1,"column":1891},"end":{"line":1,"column":1892}},"29":{"start":{"line":1,"column":1916},"end":{"line":1,"column":2282}},"30":{"start":{"line":1,"column":2003},"end":{"line":1,"column":2055}},"31":{"start":{"line":1,"column":2202},"end":{"line":1,"column":2279}},"32":{"start":{"line":1,"column":2282},"end":{"line":1,"column":2295}},"33":{"start":{"line":1,"column":2309},"end":{"line":1,"column":3140}},"34":{"start":{"line":1,"column":3141},"end":{"line":1,"column":3197}}},"fnMap":{"0":{"name":"ownKeys","decl":{"start":{"line":1,"column":1540},"end":{"line":1,"column":1547}},"loc":{"start":{"line":1,"column":1570},"end":{"line":1,"column":1843}},"line":1},"1":{"name":"(anonymous_1)","decl":{"start":{"line":1,"column":1722},"end":{"line":1,"column":1723}},"loc":{"start":{"line":1,"column":1735},"end":{"line":1,"column":1798}},"line":1},"2":{"name":"_objectSpread","decl":{"start":{"line":1,"column":1852},"end":{"line":1,"column":1865}},"loc":{"start":{"line":1,"column":1873},"end":{"line":1,"column":2296}},"line":1},"3":{"name":"(anonymous_3)","decl":{"start":{"line":1,"column":1989},"end":{"line":1,"column":1990}},"loc":{"start":{"line":1,"column":2002},"end":{"line":1,"column":2056}},"line":1},"4":{"name":"(anonymous_4)","decl":{"start":{"line":1,"column":2188},"end":{"line":1,"column":2189}},"loc":{"start":{"line":1,"column":2201},"end":{"line":1,"column":2280}},"line":1}},"branchMap":{"0":{"loc":{"start":{"line":1,"column":1600},"end":{"line":1,"column":1831}},"type":"if","locations":[{"start":{"line":1,"column":1600},"end":{"line":1,"column":1831}},{"start":{"line":1,"column":1600},"end":{"line":1,"column":1831}}],"line":1},"1":{"loc":{"start":{"line":1,"column":1682},"end":{"line":1,"column":1800}},"type":"binary-expr","locations":[{"start":{"line":1,"column":1682},"end":{"line":1,"column":1696}},{"start":{"line":1,"column":1699},"end":{"line":1,"column":1799}}],"line":1},"2":{"loc":{"start":{"line":1,"column":1923},"end":{"line":1,"column":1957}},"type":"cond-expr","locations":[{"start":{"line":1,"column":1942},"end":{"line":1,"column":1944}},{"start":{"line":1,"column":1945},"end":{"line":1,"column":1957}}],"line":1},"3":{"loc":{"start":{"line":1,"column":1958},"end":{"line":1,"column":2281}},"type":"cond-expr","locations":[{"start":{"line":1,"column":1962},"end":{"line":1,"column":2057}},{"start":{"line":1,"column":2058},"end":{"line":1,"column":2281}}],"line":1},"4":{"loc":{"start":{"line":1,"column":2058},"end":{"line":1,"column":2281}},"type":"cond-expr","locations":[{"start":{"line":1,"column":2091},"end":{"line":1,"column":2163}},{"start":{"line":1,"column":2164},"end":{"line":1,"column":2281}}],"line":1}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1,"13":1,"14":1,"15":1,"16":1,"17":1,"18":1,"19":1,"20":1,"21":1,"22":1,"23":1,"24":1,"25":0,"26":1,"27":1,"28":1,"29":1,"30":5,"31":0,"32":1,"33":1,"34":1},"f":{"0":1,"1":0,"2":1,"3":5,"4":0},"b":{"0":[1,0],"1":[1,1],"2":[0,1],"3":[1,0],"4":[0,0]},"inputSourceMap":{"version":3,"sources":["index.js"],"names":["ReactReduxFirebaseProvider","ReactReduxFirebaseContext","ReduxFirestoreContext","ReduxFirestoreProvider","createFirebaseInstance","firebaseConnect","firestoreConnect","withFirebase","withFirestore","useFirebase","useFirebaseConnect","useFirestore","useFirestoreConnect","reducer","firebaseReducer","constants","actionTypes","getFirebase","authIsReady","helpers"],"mappings":"oxEAmBEA,0BAA0B,CAA1BA,mC,CACAC,yBAAyB,CAAzBA,kC,CACAC,qBAAqB,CAArBA,8B,CACAC,sBAAsB,CAAtBA,+B,CACAC,sBAAsB,CAAtBA,+B,CACAC,eAAe,CAAfA,wB,CACAC,gBAAgB,CAAhBA,yB,CACAC,YAAY,CAAZA,qB,CACAC,aAAa,CAAbA,sB,CACAC,WAAW,CAAXA,oB,CACAC,kBAAkB,CAAlBA,2B,CACAC,YAAY,CAAZA,qB,CACAC,mBAAmB,CAAnBA,4B,CACAC,OAAO,CAAPA,gB,CACAC,eAAe,CAAED,gB,CACjBE,SAAS,CAATA,kB,CACAC,WAAW,CAAXA,sB,CACAC,WAAW,CAAXA,mC,CACAC,WAAW,CAAXA,iB,EACGC,O","sourceRoot":"/Users/scott/Dev/Code/react-redux-firebase/src","sourcesContent":["import createFirebaseInstance, { getFirebase } from './createFirebaseInstance'\nimport ReactReduxFirebaseProvider from './ReactReduxFirebaseProvider'\nimport ReactReduxFirebaseContext from './ReactReduxFirebaseContext'\nimport ReduxFirestoreProvider from './ReduxFirestoreProvider'\nimport ReduxFirestoreContext from './ReduxFirestoreContext'\nimport firebaseConnect from './firebaseConnect'\nimport firestoreConnect from './firestoreConnect'\nimport withFirebase from './withFirebase'\nimport withFirestore from './withFirestore'\nimport useFirebaseConnect from './useFirebaseConnect'\nimport useFirestoreConnect from './useFirestoreConnect'\nimport useFirebase from './useFirebase'\nimport useFirestore from './useFirestore'\nimport reducer from './reducer'\nimport constants, { actionTypes } from './constants'\nimport { authIsReady } from './utils/auth'\nimport * as helpers from './helpers'\n\nexport default {\n  ReactReduxFirebaseProvider,\n  ReactReduxFirebaseContext,\n  ReduxFirestoreContext,\n  ReduxFirestoreProvider,\n  createFirebaseInstance,\n  firebaseConnect,\n  firestoreConnect,\n  withFirebase,\n  withFirestore,\n  useFirebase,\n  useFirebaseConnect,\n  useFirestore,\n  useFirestoreConnect,\n  reducer,\n  firebaseReducer: reducer,\n  constants,\n  actionTypes,\n  getFirebase,\n  authIsReady,\n  ...helpers\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"b49faf3a6365901ca0e082e0e721a27206112f16","contentHash":"4d55f0d4eb6b5b973ef81c405f14d293a1c3393ed2fa8e0d18f95713337472ff"},"/Users/scott/Dev/Code/react-redux-firebase/src/withFirebase.js":{"path":"/Users/scott/Dev/Code/react-redux-firebase/src/withFirebase.js","statementMap":{"0":{"start":{"line":1,"column":40},"end":{"line":1,"column":95}},"1":{"start":{"line":1,"column":96},"end":{"line":1,"column":180}},"2":{"start":{"line":1,"column":194},"end":{"line":1,"column":259}},"3":{"start":{"line":1,"column":267},"end":{"line":1,"column":307}},"4":{"start":{"line":1,"column":330},"end":{"line":1,"column":388}},"5":{"start":{"line":1,"column":396},"end":{"line":1,"column":414}},"6":{"start":{"line":1,"column":442},"end":{"line":1,"column":504}},"7":{"start":{"line":59,"column":34},"end":{"line":59,"column":279}},"8":{"start":{"line":59,"column":138},"end":{"line":59,"column":277}},"9":{"start":{"line":59,"column":280},"end":{"line":59,"column":483}},"10":{"start":{"line":59,"column":484},"end":{"line":59,"column":515}}},"fnMap":{"0":{"name":"withFirebase","decl":{"start":{"line":55,"column":12},"end":{"line":55,"column":24}},"loc":{"start":{"line":55,"column":42},"end":{"line":59,"column":484}},"line":55},"1":{"name":"WithFirebase","decl":{"start":{"line":59,"column":14},"end":{"line":59,"column":26}},"loc":{"start":{"line":59,"column":33},"end":{"line":59,"column":280}},"line":59},"2":{"name":"(anonymous_2)","decl":{"start":{"line":59,"column":119},"end":{"line":59,"column":120}},"loc":{"start":{"line":59,"column":137},"end":{"line":59,"column":278}},"line":59}},"branchMap":{"0":{"loc":{"start":{"line":59,"column":241},"end":{"line":59,"column":268}},"type":"binary-expr","locations":[{"start":{"line":59,"column":241},"end":{"line":59,"column":249}},{"start":{"line":59,"column":251},"end":{"line":59,"column":268}}],"line":59}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":6,"8":6,"9":9,"10":1},"f":{"0":9,"1":6,"2":6},"b":{"0":[6,6]},"inputSourceMap":{"version":3,"sources":["withFirebase.js"],"names":["withFirebase","WrappedComponent","WithFirebase","props","firebase","dispatch","displayName","wrappedComponent"],"mappings":"yfAKA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;GAuDe,QAASA,CAAAA,YAAT,CAAsBC,gBAAtB,CAAwC,CACrD;;;;KAKA,QAASC,CAAAA,YAAT,CAAsBC,KAAtB,CAA6B,CAC3B,MACE,8BAAC,kCAAD,CAA2B,QAA3B,MACG,SAAAC,QAAQ,QACP,8BAAC,gBAAD,wBACE,QAAQ,CAAEA,QADZ,CAEE,QAAQ,CAAEA,QAAQ,EAAIA,QAAQ,CAACC,QAFjC,EAGMF,KAHN,EADO,CADX,CAUH,CAKD,MAHAD,CAAAA,YAAY,CAACI,WAAb,CAA2B,2BAAgBL,gBAAhB,CAAkC,cAAlC,CAG3B,CAFAC,YAAY,CAACK,gBAAb,CAAgCN,gBAEhC,CAAO,kCAAaC,YAAb,CAA2BD,gBAA3B,CACR,C","sourceRoot":"/Users/scott/Dev/Code/react-redux-firebase/src","sourcesContent":["import React from 'react'\nimport hoistStatics from 'hoist-non-react-statics'\nimport { wrapDisplayName } from './utils'\nimport ReactReduxFirebaseContext from './ReactReduxFirebaseContext'\n\n/**\n * @augments React.Component\n * @description Higher Order Component that provides `firebase` and\n * `dispatch` as a props to React Components.\n * **NOTE**: This version of the Firebase library has extra methods, config,\n * and functionality which give it it's capabilities such as dispatching\n * actions.\n * @param {React.Component} WrappedComponent - React component to wrap\n * @returns {Function} - Which accepts a component to wrap and returns the\n * wrapped component\n * @see http://react-redux-firebase.com/docs/api/withFirebase.html\n * @example <caption>Basic</caption>\n * import React from 'react'\n * import { withFirebase } from 'react-redux-firebase'\n *\n * function AddTodo({ firebase: { push } }) {\n *   return (\n *     <div>\n *       <button onClick={() => push('todos', { done: false, text: 'Sample' })}>\n *         Add Sample Todo\n *       </button>\n *     </div>\n *   )\n * }\n *\n * export default withFirebase(AddTodo)\n * @example <caption>Within HOC Composition</caption>\n * import React from 'react'\n * import { compose } from 'redux' // can also come from recompose\n * import { withHandlers } from 'recompose'\n * import { withFirebase } from 'react-redux-firebase'\n *\n * function AddTodo({ addTodo }) {\n *   return (\n *     <div>\n *       <button onClick={addTodo}>\n *         Add Sample Todo\n *       </button>\n *     </div>\n *   )\n * }\n *\n * const enhance = compose(\n *   withFirebase,\n *   withHandlers({\n *     addTodo: props => () =>\n *        props.firestore.add(\n *          { collection: 'todos' },\n *          { done: false, text: 'Sample' }\n *        )\n *   })\n * )\n *\n * export default enhance(AddTodo)\n */\nexport default function withFirebase(WrappedComponent) {\n  /**\n   * WithFirebase wrapper component\n   * @param {object} props - Component props\n   * @returns {React.Component} WrappedComponent wrapped with firebase context\n   */\n  function WithFirebase(props) {\n    return (\n      <ReactReduxFirebaseContext.Consumer>\n        {firebase => (\n          <WrappedComponent\n            firebase={firebase}\n            dispatch={firebase && firebase.dispatch}\n            {...props}\n          />\n        )}\n      </ReactReduxFirebaseContext.Consumer>\n    )\n  }\n\n  WithFirebase.displayName = wrapDisplayName(WrappedComponent, 'withFirebase')\n  WithFirebase.wrappedComponent = WrappedComponent\n\n  return hoistStatics(WithFirebase, WrappedComponent)\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"e8594bcccec1d7a1d092aa236264a9ce8a2d27cf","contentHash":"0cc3f0002cb82555f1416278f7b90627b199fac99bcbeb58e9799d728be43c30"},"/Users/scott/Dev/Code/react-redux-firebase/src/withFirestore.js":{"path":"/Users/scott/Dev/Code/react-redux-firebase/src/withFirestore.js","statementMap":{"0":{"start":{"line":1,"column":40},"end":{"line":1,"column":95}},"1":{"start":{"line":1,"column":96},"end":{"line":1,"column":181}},"2":{"start":{"line":1,"column":195},"end":{"line":1,"column":260}},"3":{"start":{"line":1,"column":268},"end":{"line":1,"column":308}},"4":{"start":{"line":1,"column":331},"end":{"line":1,"column":389}},"5":{"start":{"line":1,"column":397},"end":{"line":1,"column":415}},"6":{"start":{"line":1,"column":443},"end":{"line":1,"column":505}},"7":{"start":{"line":1,"column":529},"end":{"line":1,"column":587}},"8":{"start":{"line":55,"column":35},"end":{"line":55,"column":393}},"9":{"start":{"line":55,"column":139},"end":{"line":55,"column":391}},"10":{"start":{"line":55,"column":240},"end":{"line":55,"column":389}},"11":{"start":{"line":55,"column":394},"end":{"line":55,"column":601}},"12":{"start":{"line":55,"column":602},"end":{"line":55,"column":633}}},"fnMap":{"0":{"name":"withFirestore","decl":{"start":{"line":51,"column":12},"end":{"line":51,"column":25}},"loc":{"start":{"line":51,"column":43},"end":{"line":55,"column":602}},"line":51},"1":{"name":"WithFirestore","decl":{"start":{"line":55,"column":14},"end":{"line":55,"column":27}},"loc":{"start":{"line":55,"column":34},"end":{"line":55,"column":394}},"line":55},"2":{"name":"(anonymous_2)","decl":{"start":{"line":55,"column":120},"end":{"line":55,"column":121}},"loc":{"start":{"line":55,"column":138},"end":{"line":55,"column":392}},"line":55},"3":{"name":"(anonymous_3)","decl":{"start":{"line":55,"column":220},"end":{"line":55,"column":221}},"loc":{"start":{"line":55,"column":239},"end":{"line":55,"column":390}},"line":55}},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":7,"9":7,"10":7,"11":10,"12":1},"f":{"0":10,"1":7,"2":7,"3":7},"b":{},"inputSourceMap":{"version":3,"sources":["withFirestore.js"],"names":["withFirestore","WrappedComponent","WithFirestore","props","firebase","firestore","dispatch","displayName","wrappedComponent"],"mappings":"4kBAMA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;GAmDe,QAASA,CAAAA,aAAT,CAAuBC,gBAAvB,CAAyC,CACtD;;;;KAKA,QAASC,CAAAA,aAAT,CAAuBC,KAAvB,CAA8B,CAC5B,MACE,8BAAC,kCAAD,CAA2B,QAA3B,MACG,SAAAC,QAAQ,QACP,8BAAC,8BAAD,CAAuB,QAAvB,MACG,SAAAC,SAAS,QACR,8BAAC,gBAAD,wBACE,SAAS,CAAEA,SADb,CAEE,QAAQ,CAAED,QAFZ,CAGE,QAAQ,CAAEA,QAAQ,CAACE,QAHrB,EAIMH,KAJN,EADQ,CADZ,CADO,CADX,CAeH,CAKD,MAHAD,CAAAA,aAAa,CAACK,WAAd,CAA4B,2BAAgBN,gBAAhB,CAAkC,eAAlC,CAG5B,CAFAC,aAAa,CAACM,gBAAd,CAAiCP,gBAEjC,CAAO,kCAAaC,aAAb,CAA4BD,gBAA5B,CACR,C","sourceRoot":"/Users/scott/Dev/Code/react-redux-firebase/src","sourcesContent":["import React from 'react'\nimport hoistStatics from 'hoist-non-react-statics'\nimport { wrapDisplayName } from './utils'\nimport ReactReduxFirebaseContext from './ReactReduxFirebaseContext'\nimport ReduxFirestoreContext from './ReduxFirestoreContext'\n\n/**\n * @augments React.Component\n * @description Higher Order Component that attaches `firestore`, `firebase`\n * and `dispatch` as props to React Components.\n * @param {React.Component} WrappedComponent - React component to wrap\n * @returns {Function} - Which accepts a component to wrap and returns the\n * wrapped component\n * @see http://react-redux-firebase.com/docs/api/withFirestore.html\n * @example <caption>Basic</caption>\n * import React from 'react'\n * import { withFirestore } from 'react-redux-firebase'\n *\n * function AddTodo({ firestore: { add } }) {\n *   return (\n *     <div>\n *       <button onClick={() => add('todos', { done: false, text: 'Sample' })}>\n *         Add Sample Todo\n *       </button>\n *     </div>\n *   )\n * }\n *\n * export default withFirestore(AddTodo)\n * @example <caption>Within HOC Composition</caption>\n * import React from 'react'\n * import { compose } from 'redux' // can also come from recompose\n * import { withHandlers } from 'recompose'\n * import { withFirestore } from 'react-redux-firebase'\n *\n * function AddTodo({ addTodo }) {\n *   return (\n *     <div>\n *       <button onClick={addTodo}>\n *         Add Sample Todo\n *       </button>\n *     </div>\n *   )\n * }\n *\n * const enhance = compose(\n *   withFirestore,\n *   withHandlers({\n *     addTodo: props => () => {\n *       const newTodo = { done: false, text: 'Sample' }\n *       return props.firestore.add({ collection: 'todos' }, newTodo)\n *     }\n *   })\n * )\n *\n * export default enhance(AddTodo)\n */\nexport default function withFirestore(WrappedComponent) {\n  /**\n   * WithFirebase wrapper component\n   * @param {object} props - Component props\n   * @returns {React.Component} WrappedComponent wrapped with firebase context\n   */\n  function WithFirestore(props) {\n    return (\n      <ReactReduxFirebaseContext.Consumer>\n        {firebase => (\n          <ReduxFirestoreContext.Consumer>\n            {firestore => (\n              <WrappedComponent\n                firestore={firestore}\n                firebase={firebase}\n                dispatch={firebase.dispatch}\n                {...props}\n              />\n            )}\n          </ReduxFirestoreContext.Consumer>\n        )}\n      </ReactReduxFirebaseContext.Consumer>\n    )\n  }\n\n  WithFirestore.displayName = wrapDisplayName(WrappedComponent, 'withFirestore')\n  WithFirestore.wrappedComponent = WrappedComponent\n\n  return hoistStatics(WithFirestore, WrappedComponent)\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"5a11584055be74c0f7741f91ff280cf0748400c7","contentHash":"c21fd0c55fcd53cb48eb0ed496f50c999677b61e3155a6c33cbd64ab2eb48cc9"},"/Users/scott/Dev/Code/react-redux-firebase/src/useFirebaseConnect.js":{"path":"/Users/scott/Dev/Code/react-redux-firebase/src/useFirebaseConnect.js","statementMap":{"0":{"start":{"line":1,"column":40},"end":{"line":1,"column":95}},"1":{"start":{"line":1,"column":96},"end":{"line":1,"column":186}},"2":{"start":{"line":1,"column":207},"end":{"line":1,"column":263}},"3":{"start":{"line":1,"column":274},"end":{"line":1,"column":323}},"4":{"start":{"line":1,"column":331},"end":{"line":1,"column":347}},"5":{"start":{"line":1,"column":355},"end":{"line":1,"column":381}},"6":{"start":{"line":1,"column":389},"end":{"line":1,"column":407}},"7":{"start":{"line":1,"column":421},"end":{"line":1,"column":469}},"8":{"start":{"line":57,"column":59},"end":{"line":57,"column":85}},"9":{"start":{"line":57,"column":95},"end":{"line":57,"column":114}},"10":{"start":{"line":57,"column":123},"end":{"line":57,"column":142}},"11":{"start":{"line":57,"column":148},"end":{"line":57,"column":244}},"12":{"start":{"line":57,"column":178},"end":{"line":57,"column":226}},"13":{"start":{"line":58,"column":0},"end":{"line":61,"column":411}},"14":{"start":{"line":58,"column":32},"end":{"line":61,"column":276}},"15":{"start":{"line":58,"column":115},"end":{"line":58,"column":183}},"16":{"start":{"line":58,"column":203},"end":{"line":58,"column":271}},"17":{"start":{"line":61,"column":0},"end":{"line":61,"column":275}},"18":{"start":{"line":61,"column":318},"end":{"line":61,"column":406}},"19":{"start":{"line":61,"column":336},"end":{"line":61,"column":405}},"20":{"start":{"line":61,"column":412},"end":{"line":61,"column":443}}},"fnMap":{"0":{"name":"useFirebaseConnect","decl":{"start":{"line":57,"column":12},"end":{"line":57,"column":30}},"loc":{"start":{"line":57,"column":45},"end":{"line":61,"column":412}},"line":57},"1":{"name":"(anonymous_1)","decl":{"start":{"line":57,"column":167},"end":{"line":57,"column":168}},"loc":{"start":{"line":57,"column":177},"end":{"line":57,"column":227}},"line":57},"2":{"name":"(anonymous_2)","decl":{"start":{"line":58,"column":21},"end":{"line":58,"column":22}},"loc":{"start":{"line":58,"column":31},"end":{"line":61,"column":277}},"line":58},"3":{"name":"(anonymous_3)","decl":{"start":{"line":61,"column":307},"end":{"line":61,"column":308}},"loc":{"start":{"line":61,"column":317},"end":{"line":61,"column":407}},"line":61},"4":{"name":"(anonymous_4)","decl":{"start":{"line":61,"column":325},"end":{"line":61,"column":326}},"loc":{"start":{"line":61,"column":335},"end":{"line":61,"column":406}},"line":61}},"branchMap":{"0":{"loc":{"start":{"line":58,"column":32},"end":{"line":61,"column":276}},"type":"if","locations":[{"start":{"line":58,"column":32},"end":{"line":61,"column":276}},{"start":{"line":58,"column":32},"end":{"line":61,"column":276}}],"line":58},"1":{"loc":{"start":{"line":58,"column":35},"end":{"line":58,"column":92}},"type":"binary-expr","locations":[{"start":{"line":58,"column":35},"end":{"line":58,"column":46}},{"start":{"line":58,"column":48},"end":{"line":58,"column":92}}],"line":58}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":9,"9":9,"10":9,"11":9,"12":7,"13":9,"14":7,"15":7,"16":7,"17":7,"18":6,"19":1,"20":1},"f":{"0":9,"1":7,"2":7,"3":6,"4":1},"b":{"0":[7,0],"1":[7,7]},"inputSourceMap":{"version":3,"sources":["useFirebaseConnect.js"],"names":["useFirebaseConnect","queriesConfig","firebase","eventRef","dataRef","data","current","itemsToSubscribe","itemsToUnsubscribe","dispatch"],"mappings":"sdAMA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;GAyDe,QAASA,CAAAA,kBAAT,CAA4BC,aAA5B,CAA2C,IAClDC,CAAAA,QAAQ,CAAG,0BADuC,CAElDC,QAAQ,CAAG,mBAFuC,CAGlDC,OAAO,CAAG,mBAHwC,CAKlDC,IAAI,CAAG,mBAAQ,iBAAM,4BAAiBJ,aAAjB,CAAN,CAAR,CAA+C,CAACA,aAAD,CAA/C,CAL2C,CAsCxD;AA/BA,qBACE,UAAM,CACJ,GAAa,IAAT,GAAAI,IAAI,EAAa,CAAC,sBAAQA,IAAR,CAAcD,OAAO,CAACE,OAAtB,CAAtB,CAAsD,IAC9CC,CAAAA,gBAAgB,CAAG,6BAAeF,IAAf,CAAqBD,OAAO,CAACE,OAA7B,mBAD2B,CAE9CE,kBAAkB,CAAG,6BACzBJ,OAAO,CAACE,OADiB,CAEzBD,IAFyB,mBAFyB,CASpD;AAMA;AAGA;AAVAD,OAAO,CAACE,OAAR,CAAkBD,IARkC,CAUpD,yBACEH,QADF,CAEEA,QAAQ,CAACO,QAFX,CAGE,8BAAmBD,kBAAnB,CAHF,CAVoD,CAgBpDL,QAAQ,CAACG,OAAT,CAAmB,8BAAmBD,IAAnB,CAhBiC,CAmBpD,uBACEH,QADF,CAEEA,QAAQ,CAACO,QAFX,CAGE,8BAAmBF,gBAAnB,CAHF,CAKD,CACF,CA3BH,CA4BE,CAACF,IAAD,CA5BF,CAPwD,CAuCxD,qBAAU,UAAM,CACd,MAAO,WAAM,CACX,yBAAcH,QAAd,CAAwBA,QAAQ,CAACO,QAAjC,CAA2CN,QAAQ,CAACG,OAApD,CACD,CACF,CAJD,CAIG,EAJH,CAKD,C","sourceRoot":"/Users/scott/Dev/Code/react-redux-firebase/src","sourcesContent":["import { isEqual, differenceWith } from 'lodash'\nimport { useMemo, useEffect, useRef } from 'react'\nimport { watchEvents, unWatchEvents } from './actions/query'\nimport { getEventsFromInput, invokeArrayQuery } from './utils'\nimport useFirebase from './useFirebase'\n\n/**\n * @description Hook that automatically listens/unListens to provided firebase paths\n * using React's useEffect hook.\n * @param {object|string|Function|Array} queriesConfig - Object, string, or\n * array contains object or string for path to sync from Firebase or null if\n * hook doesn't need to sync. Can also be a function that returns an object,\n * a path string, or array of an object or a path string.\n * @see https://react-redux-firebase.com/docs/api/useFirebaseConnect.html\n * @example <caption>Ordered Data</caption>\n * import React from 'react'\n * import { useSelector } from 'react-redux'\n * import { useFirebaseConnect } from 'react-redux-firebase'\n *\n * export default function Todos() {\n *   // sync /todos from firebase into redux\n *   useFirebaseConnect('todos')\n *   // Connect to redux state using selector hook\n *   const todos = useSelector(state => state.firebase.data.todos)\n *   return (\n *     <div>\n *       {JSON.stringify(todos, null, 2)}\n *     </div>\n *   )\n * }\n * @example <caption>Data that depends on props</caption>\n * import React from 'react'\n * import { compose } from 'redux'\n * import { useSelector } from 'react-redux'\n * import { useFirebaseConnect } from 'react-redux-firebase'\n *\n * export default function Post({ postId }) {\n *   useFirebaseConnect(`posts/${postId}`) // sync /posts/postId from firebase into redux\n *   const post = useSelector(({ firebase: { ordered: { posts } } }) => posts && posts[postId])\n *   return (\n *     <div>\n *       {JSON.stringify(post, null, 2)}\n *     </div>\n *   )\n * }\n * @example <caption>Data that depends on props, an array as a query</caption>\n * import React from 'react'\n * import { compose } from 'redux'\n * import { useSelector } from 'react-redux'\n * import { useFirebaseConnect, getVal } from 'react-redux-firebase'\n *\n * export default function Post({ postId }) {\n *   useFirebaseConnect([`posts/${postId}`], [postId]) // sync /posts/postId from firebase into redux\n *   const post = useSelector(state => {\n *     return state.firebase.ordered.posts && state.firebase.ordered.posts[postId]\n *   })\n *   return (\n *     <div>\n *       {JSON.stringify(post, null, 2)}\n *     </div>\n *   )\n * }\n */\nexport default function useFirebaseConnect(queriesConfig) {\n  const firebase = useFirebase()\n  const eventRef = useRef()\n  const dataRef = useRef()\n\n  const data = useMemo(() => invokeArrayQuery(queriesConfig), [queriesConfig])\n\n  useEffect(\n    () => {\n      if (data !== null && !isEqual(data, dataRef.current)) {\n        const itemsToSubscribe = differenceWith(data, dataRef.current, isEqual)\n        const itemsToUnsubscribe = differenceWith(\n          dataRef.current,\n          data,\n          isEqual\n        )\n\n        dataRef.current = data\n        // UnWatch all current events\n        unWatchEvents(\n          firebase,\n          firebase.dispatch,\n          getEventsFromInput(itemsToUnsubscribe)\n        )\n        // Get watch events from new data\n        eventRef.current = getEventsFromInput(data)\n\n        // Watch new events\n        watchEvents(\n          firebase,\n          firebase.dispatch,\n          getEventsFromInput(itemsToSubscribe)\n        )\n      }\n    },\n    [data]\n  )\n\n  // Emulate componentWillUnmount\n  useEffect(() => {\n    return () => {\n      unWatchEvents(firebase, firebase.dispatch, eventRef.current)\n    }\n  }, [])\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"d2605f9cf8e03ccb9046cb59a82a207c91b2ed8a","contentHash":"f10e7835cabafae8fc22996949ac053964dd007744f8e234a38e459483c37fdb"},"/Users/scott/Dev/Code/react-redux-firebase/src/useFirebase.js":{"path":"/Users/scott/Dev/Code/react-redux-firebase/src/useFirebase.js","statementMap":{"0":{"start":{"line":1,"column":40},"end":{"line":1,"column":95}},"1":{"start":{"line":1,"column":96},"end":{"line":1,"column":179}},"2":{"start":{"line":1,"column":190},"end":{"line":1,"column":206}},"3":{"start":{"line":1,"column":234},"end":{"line":1,"column":296}},"4":{"start":{"line":30,"column":26},"end":{"line":30,"column":89}},"5":{"start":{"line":30,"column":90},"end":{"line":30,"column":121}}},"fnMap":{"0":{"name":"useFirebase","decl":{"start":{"line":30,"column":12},"end":{"line":30,"column":23}},"loc":{"start":{"line":30,"column":25},"end":{"line":30,"column":90}},"line":30}},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":10,"5":1},"f":{"0":10},"b":{},"inputSourceMap":{"version":3,"sources":["useFirebase.js"],"names":["useFirebase","ReactReduxFirebaseContext"],"mappings":"ySAGA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;GA8Be,QAASA,CAAAA,WAAT,EAAuB,CACpC,MAAO,sBAAWC,kCAAX,CACR,C","sourceRoot":"/Users/scott/Dev/Code/react-redux-firebase/src","sourcesContent":["import { useContext } from 'react'\nimport ReactReduxFirebaseContext from './ReactReduxFirebaseContext'\n\n/**\n * @name useFirebase\n * @description React hook that provides `firebase` object.\n * Firebase is gathered from ReactReduxFirebaseContext, which is\n * set by createFirebaseInstance during setup.\n * **NOTE**: This version of the Firebase library has extra methods, config,\n * and functionality which give it it's capabilities such as dispatching\n * actions.\n * @returns {object} - Extended Firebase instance\n * @see https://react-redux-firebase.com/docs/api/useFirebase.html\n * @example <caption>Basic</caption>\n * import { useFirebase } from 'react-redux-firebase'\n *\n * function AddData() {\n *   const firebase = useFirebase()\n *\n *   function addTodo() {\n *     const exampleTodo = { done: false, text: 'Sample' }\n *     return firebase.push('todos', exampleTodo)\n *   }\n *\n *   return (\n *     <div>\n *       <button onClick={addTodo}>\n *         Add Sample Todo\n *       </button>\n *     </div>\n *   )\n * }\n */\nexport default function useFirebase() {\n  return useContext(ReactReduxFirebaseContext)\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"256d9ce29650f9e0638723a41bbafa07be3f7995","contentHash":"74c33768db6563c5a5795f0eefcbf97eeeac8b60c288dc4312bed53c0f018914"},"/Users/scott/Dev/Code/react-redux-firebase/src/useFirestoreConnect.js":{"path":"/Users/scott/Dev/Code/react-redux-firebase/src/useFirestoreConnect.js","statementMap":{"0":{"start":{"line":1,"column":40},"end":{"line":1,"column":95}},"1":{"start":{"line":1,"column":96},"end":{"line":1,"column":187}},"2":{"start":{"line":1,"column":201},"end":{"line":1,"column":250}},"3":{"start":{"line":1,"column":258},"end":{"line":1,"column":274}},"4":{"start":{"line":1,"column":282},"end":{"line":1,"column":300}},"5":{"start":{"line":1,"column":315},"end":{"line":1,"column":364}},"6":{"start":{"line":42,"column":62},"end":{"line":42,"column":89}},"7":{"start":{"line":42,"column":109},"end":{"line":42,"column":120}},"8":{"start":{"line":42,"column":130},"end":{"line":42,"column":149}},"9":{"start":{"line":42,"column":155},"end":{"line":42,"column":253}},"10":{"start":{"line":42,"column":185},"end":{"line":42,"column":234}},"11":{"start":{"line":43,"column":0},"end":{"line":45,"column":248}},"12":{"start":{"line":43,"column":32},"end":{"line":45,"column":102}},"13":{"start":{"line":43,"column":114},"end":{"line":43,"column":158}},"14":{"start":{"line":45,"column":0},"end":{"line":45,"column":101}},"15":{"start":{"line":45,"column":144},"end":{"line":45,"column":243}},"16":{"start":{"line":45,"column":162},"end":{"line":45,"column":242}},"17":{"start":{"line":45,"column":249},"end":{"line":45,"column":280}}},"fnMap":{"0":{"name":"useFirestoreConnect","decl":{"start":{"line":42,"column":12},"end":{"line":42,"column":31}},"loc":{"start":{"line":42,"column":47},"end":{"line":45,"column":249}},"line":42},"1":{"name":"(anonymous_1)","decl":{"start":{"line":42,"column":174},"end":{"line":42,"column":175}},"loc":{"start":{"line":42,"column":184},"end":{"line":42,"column":235}},"line":42},"2":{"name":"(anonymous_2)","decl":{"start":{"line":43,"column":21},"end":{"line":43,"column":22}},"loc":{"start":{"line":43,"column":31},"end":{"line":45,"column":103}},"line":43},"3":{"name":"(anonymous_3)","decl":{"start":{"line":45,"column":133},"end":{"line":45,"column":134}},"loc":{"start":{"line":45,"column":143},"end":{"line":45,"column":244}},"line":45},"4":{"name":"(anonymous_4)","decl":{"start":{"line":45,"column":151},"end":{"line":45,"column":152}},"loc":{"start":{"line":45,"column":161},"end":{"line":45,"column":243}},"line":45}},"branchMap":{"0":{"loc":{"start":{"line":43,"column":32},"end":{"line":45,"column":102}},"type":"if","locations":[{"start":{"line":43,"column":32},"end":{"line":45,"column":102}},{"start":{"line":43,"column":32},"end":{"line":45,"column":102}}],"line":43},"1":{"loc":{"start":{"line":43,"column":35},"end":{"line":43,"column":100}},"type":"binary-expr","locations":[{"start":{"line":43,"column":35},"end":{"line":43,"column":53}},{"start":{"line":43,"column":55},"end":{"line":43,"column":100}}],"line":43},"2":{"loc":{"start":{"line":45,"column":162},"end":{"line":45,"column":242}},"type":"binary-expr","locations":[{"start":{"line":45,"column":162},"end":{"line":45,"column":180}},{"start":{"line":45,"column":182},"end":{"line":45,"column":198}},{"start":{"line":45,"column":200},"end":{"line":45,"column":242}}],"line":45}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":9,"7":9,"8":9,"9":9,"10":8,"11":9,"12":8,"13":8,"14":8,"15":6,"16":1,"17":1},"f":{"0":9,"1":8,"2":8,"3":6,"4":1},"b":{"0":[8,0],"1":[8,8],"2":[1,1,1]},"inputSourceMap":{"version":3,"sources":["useFirestoreConnect.js"],"names":["useFirestoreConnect","queriesConfigs","firestore","firestoreIsEnabled","queryRef","data","current","changes","unsetListeners","removed","setListeners","added"],"mappings":"6WAKA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;GA0Ce,QAASA,CAAAA,mBAAT,CAA6BC,cAA7B,CAA6C,IACpDC,CAAAA,SAAS,CAAG,2BADwC,CAEpDC,kBAAkB,CAAG,CAAC,CAACD,SAF6B,CAGpDE,QAAQ,CAAG,mBAHyC,CAKpDC,IAAI,CAAG,mBAAQ,iBAAM,4BAAiBJ,cAAjB,CAAN,CAAR,CAAgD,CAACA,cAAD,CAAhD,CAL6C,CAwB1D;AAjBA,qBACE,UAAM,CACJ,GAAIE,kBAAkB,EAAI,CAAC,sBAAQE,IAAR,CAAcD,QAAQ,CAACE,OAAvB,CAA3B,CAA4D,CAC1D,GAAMC,CAAAA,OAAO,CAAG,sBAAWF,IAAX,CAAiBD,QAAQ,CAACE,OAA1B,CAAhB,CAIA;AAGA;AALAF,QAAQ,CAACE,OAAT,CAAmBD,IAHuC,CAM1DH,SAAS,CAACM,cAAV,CAAyBD,OAAO,CAACE,OAAjC,CAN0D,CAS1DP,SAAS,CAACQ,YAAV,CAAuBH,OAAO,CAACI,KAA/B,CACD,CACF,CAbH,CAcE,CAACN,IAAD,CAdF,CAP0D,CAyB1D,qBAAU,UAAM,CACd,MAAO,WAAM,CACPF,kBAAkB,EAAIC,QAAQ,CAACE,OADxB,EAETJ,SAAS,CAACM,cAAV,CAAyBJ,QAAQ,CAACE,OAAlC,CAEH,CACF,CAND,CAMG,EANH,CAOD,C","sourceRoot":"/Users/scott/Dev/Code/react-redux-firebase/src","sourcesContent":["import { isEqual } from 'lodash'\nimport { useRef, useMemo, useEffect } from 'react'\nimport { invokeArrayQuery, getChanges } from './utils'\nimport useFirestore from './useFirestore'\n\n/**\n * @description React hook that automatically listens/unListens\n * to provided Cloud Firestore paths. Make sure you have required/imported\n * Cloud Firestore, including it's reducer, before attempting to use.\n * **Note** Populate is not yet supported.\n * @param {object|string|Array|Function} queriesConfigs - An object, string,\n * or array of object or string for paths to sync from firestore. Can also be\n * a function that returns the object, string, or array of object or string.\n * @see https://react-redux-firebase.com/docs/api/useFirestoreConnect.html\n * @example <caption>Basic</caption>\n * import React from 'react'\n * import { map } from 'lodash'\n * import { useSelector } from 'react-redux'\n * import { useFirebaseConnect } from 'react-redux-firebase'\n *\n * export default function TodosList() {\n *   useFirebaseConnect('todos') // sync todos collection from Firestore into redux\n *   const todos = useSelector(state => state.firebase.data.todos)\n *   return (\n *     <ul>\n *       {map(todos, (todo, todoId) => (\n *        <li>id: {todoId} todo: {JSON.stringify(todo)}</li>\n *       ))}\n *    </ul>\n *   )\n * }\n * @example <caption>Object as query</caption>\n * import React, { useMemo } from 'react'\n * import { get } from 'lodash'\n * import { connect } from 'react-redux'\n * import { useFirebaseConnect } from 'react-redux-firebase'\n *\n * export default function TodoItem({ todoId }) {\n *   useFirebaseConnect(() => ({\n *     collection: 'todos',\n *     doc: todoId\n *   }))\n *   const todo = useSelector(({ firebase: { data } }) => data.todos && data.todos[todoId])\n *\n *   return <div>{JSON.stringify(todoData)}</div>\n * }\n */\nexport default function useFirestoreConnect(queriesConfigs) {\n  const firestore = useFirestore()\n  const firestoreIsEnabled = !!firestore\n  const queryRef = useRef()\n\n  const data = useMemo(() => invokeArrayQuery(queriesConfigs), [queriesConfigs])\n\n  useEffect(\n    () => {\n      if (firestoreIsEnabled && !isEqual(data, queryRef.current)) {\n        const changes = getChanges(data, queryRef.current)\n\n        queryRef.current = data\n\n        // Remove listeners for inactive subscriptions\n        firestore.unsetListeners(changes.removed)\n\n        // Add listeners for new subscriptions\n        firestore.setListeners(changes.added)\n      }\n    },\n    [data]\n  )\n\n  // Emulate componentWillUnmount\n  useEffect(() => {\n    return () => {\n      if (firestoreIsEnabled && queryRef.current) {\n        firestore.unsetListeners(queryRef.current)\n      }\n    }\n  }, [])\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"73c372a1e8f02b50bf9091b4afde7626a72bd87c","contentHash":"fa94f0f2af737625b404e702cdae848455ba2742ac0c20078bfabd91a383d493"},"/Users/scott/Dev/Code/react-redux-firebase/src/useFirestore.js":{"path":"/Users/scott/Dev/Code/react-redux-firebase/src/useFirestore.js","statementMap":{"0":{"start":{"line":1,"column":40},"end":{"line":1,"column":95}},"1":{"start":{"line":1,"column":96},"end":{"line":1,"column":180}},"2":{"start":{"line":1,"column":191},"end":{"line":1,"column":207}},"3":{"start":{"line":1,"column":231},"end":{"line":1,"column":289}},"4":{"start":{"line":26,"column":27},"end":{"line":26,"column":86}},"5":{"start":{"line":26,"column":87},"end":{"line":26,"column":118}}},"fnMap":{"0":{"name":"useFirestore","decl":{"start":{"line":26,"column":12},"end":{"line":26,"column":24}},"loc":{"start":{"line":26,"column":26},"end":{"line":26,"column":87}},"line":26}},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":10,"5":1},"f":{"0":10},"b":{},"inputSourceMap":{"version":3,"sources":["useFirestore.js"],"names":["useFirestore","ReduxFirestoreContext"],"mappings":"kSAGA;;;;;;;;;;;;;;;;;;;;;;;;;GA0Be,QAASA,CAAAA,YAAT,EAAwB,CACrC,MAAO,sBAAWC,8BAAX,CACR,C","sourceRoot":"/Users/scott/Dev/Code/react-redux-firebase/src","sourcesContent":["import { useContext } from 'react'\nimport ReduxFirestoreContext from './ReduxFirestoreContext'\n\n/**\n * @name useFirestore\n * @description React hook that return firestore object.\n * @returns {object} - Extended Firestore instance\n * @see https://react-redux-firebase.com/docs/api/useFirestore.html\n * @example <caption>Basic</caption>\n * import React from 'react'\n * import { useFirestore } from 'react-redux-firebase'\n *\n * export default function AddData({ firebase: { add } }) {\n *   const firestore = useFirestore()\n *\n *   function addTodo() {\n *     const exampleTodo = { done: false, text: 'Sample' }\n *     return firestore.collection('todos').add(exampleTodo)\n *   }\n *\n *   return (\n *     <div>\n *       <button onClick={addTodo}>\n *         Add Sample Todo\n *       </button>\n *     </div>\n *   )\n * }\n */\nexport default function useFirestore() {\n  return useContext(ReduxFirestoreContext)\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"0a27cf80d202ab654fa651bf37247b1201948a1f","contentHash":"4b0b456a1d357e56820252c765eac0ddee5a7fe21fffe9764068631a425de205"},"/Users/scott/Dev/Code/react-redux-firebase/src/reducer.js":{"path":"/Users/scott/Dev/Code/react-redux-firebase/src/reducer.js","statementMap":{"0":{"start":{"line":1,"column":13},"end":{"line":1,"column":91}},"1":{"start":{"line":1,"column":105},"end":{"line":1,"column":132}},"2":{"start":{"line":1,"column":144},"end":{"line":1,"column":165}},"3":{"start":{"line":1,"column":175},"end":{"line":1,"column":605}},"4":{"start":{"line":1,"column":606},"end":{"line":1,"column":662}}},"fnMap":{},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":1},"f":{},"b":{},"inputSourceMap":{"version":3,"sources":["reducer.js"],"names":["requesting","requestingReducer","requested","requestedReducer","timestamps","timestampsReducer","data","dataReducer","ordered","orderedReducer","auth","authReducer","authError","authErrorReducer","profile","profileReducer","listeners","listenersReducer","isInitializing","isInitializingReducer","errors","errorsReducer"],"mappings":"+KAgCe,8BAAgB,CAC7BA,UAAU,CAAEC,4BADiB,CAE7BC,SAAS,CAAEC,2BAFkB,CAG7BC,UAAU,CAAEC,4BAHiB,CAI7BC,IAAI,CAAEC,sBAJuB,CAK7BC,OAAO,CAAEC,yBALoB,CAM7BC,IAAI,CAAEC,sBANuB,CAO7BC,SAAS,CAAEC,2BAPkB,CAQ7BC,OAAO,CAAEC,yBARoB,CAS7BC,SAAS,CAAEC,2BATkB,CAU7BC,cAAc,CAAEC,gCAVa,CAW7BC,MAAM,CAAEC,wBAXqB,CAAhB,C","sourceRoot":"/Users/scott/Dev/Code/react-redux-firebase/src","sourcesContent":["import { combineReducers } from './utils/reducers'\nimport {\n  requestingReducer,\n  requestedReducer,\n  timestampsReducer,\n  dataReducer,\n  orderedReducer,\n  authReducer,\n  authErrorReducer,\n  profileReducer,\n  listenersReducer,\n  isInitializingReducer,\n  errorsReducer\n} from './reducers'\n\n/**\n * @name firebaseReducer\n * Main reducer for react-redux-firebase. This function is called\n * automatically by redux every time an action is fired. Based on which action\n * is called and its payload, the reducer will update redux state with relevant\n * changes. `firebaseReducer` is made up of multiple \"slice reducers\"\n * ([outlined in reducers docs](/docs/recipes/reducers.md)) combined using\n * [`combineReducers`](https://redux.js.org/docs/api/combineReducers.html)\n * following the patterns outlined in\n * [the redux docs](https://redux.js.org/docs/recipes/StructuringReducers.html).\n * @param {object} state - Current Firebase Redux State (state.firebase)\n * @param {object} action - Action which will modify state\n * @param {string} action.type - Type of Action being called\n * @param  {string} action.path - Path of action that was dispatched\n * @param {string} action.data - Data associated with action\n * @returns {object} Firebase redux state\n */\nexport default combineReducers({\n  requesting: requestingReducer,\n  requested: requestedReducer,\n  timestamps: timestampsReducer,\n  data: dataReducer,\n  ordered: orderedReducer,\n  auth: authReducer,\n  authError: authErrorReducer,\n  profile: profileReducer,\n  listeners: listenersReducer,\n  isInitializing: isInitializingReducer,\n  errors: errorsReducer\n})\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"5709c8457a79af510123c2dd504990b774a2e761","contentHash":"6c5185bc0a713311e2e5e4bd4e090b734f83e61c97a4ee5b7484d74bdada462b"},"/Users/scott/Dev/Code/react-redux-firebase/src/reducers.js":{"path":"/Users/scott/Dev/Code/react-redux-firebase/src/reducers.js","statementMap":{"0":{"start":{"line":1,"column":40},"end":{"line":1,"column":95}},"1":{"start":{"line":1,"column":96},"end":{"line":1,"column":556}},"2":{"start":{"line":1,"column":580},"end":{"line":1,"column":655}},"3":{"start":{"line":1,"column":673},"end":{"line":1,"column":745}},"4":{"start":{"line":1,"column":755},"end":{"line":1,"column":806}},"5":{"start":{"line":1,"column":817},"end":{"line":1,"column":869}},"6":{"start":{"line":1,"column":881},"end":{"line":1,"column":931}},"7":{"start":{"line":1,"column":938},"end":{"line":1,"column":983}},"8":{"start":{"line":1,"column":991},"end":{"line":1,"column":1037}},"9":{"start":{"line":1,"column":1045},"end":{"line":1,"column":1091}},"10":{"start":{"line":1,"column":1103},"end":{"line":1,"column":1125}},"11":{"start":{"line":1,"column":1136},"end":{"line":1,"column":1163}},"12":{"start":{"line":1,"column":1213},"end":{"line":1,"column":1232}},"13":{"start":{"line":1,"column":1233},"end":{"line":1,"column":1464}},"14":{"start":{"line":1,"column":1278},"end":{"line":1,"column":1314}},"15":{"start":{"line":1,"column":1315},"end":{"line":1,"column":1463}},"16":{"start":{"line":1,"column":1369},"end":{"line":1,"column":1430}},"17":{"start":{"line":1,"column":1464},"end":{"line":1,"column":1475}},"18":{"start":{"line":1,"column":1507},"end":{"line":1,"column":1915}},"19":{"start":{"line":1,"column":1524},"end":{"line":1,"column":1525}},"20":{"start":{"line":1,"column":1549},"end":{"line":1,"column":1915}},"21":{"start":{"line":1,"column":1636},"end":{"line":1,"column":1688}},"22":{"start":{"line":1,"column":1835},"end":{"line":1,"column":1912}},"23":{"start":{"line":1,"column":1915},"end":{"line":1,"column":1928}},"24":{"start":{"line":1,"column":1939},"end":{"line":1,"column":1967}},"25":{"start":{"line":1,"column":1972},"end":{"line":1,"column":1998}},"26":{"start":{"line":1,"column":2011},"end":{"line":1,"column":2045}},"27":{"start":{"line":1,"column":2052},"end":{"line":1,"column":2080}},"28":{"start":{"line":1,"column":2087},"end":{"line":1,"column":2115}},"29":{"start":{"line":1,"column":2123},"end":{"line":1,"column":2152}},"30":{"start":{"line":1,"column":2165},"end":{"line":1,"column":2199}},"31":{"start":{"line":1,"column":2213},"end":{"line":1,"column":2248}},"32":{"start":{"line":1,"column":2256},"end":{"line":1,"column":2285}},"33":{"start":{"line":1,"column":2295},"end":{"line":1,"column":2326}},"34":{"start":{"line":1,"column":2340},"end":{"line":1,"column":2375}},"35":{"start":{"line":1,"column":2391},"end":{"line":1,"column":2428}},"36":{"start":{"line":1,"column":2457},"end":{"line":1,"column":2507}},"37":{"start":{"line":1,"column":2537},"end":{"line":1,"column":2588}},"38":{"start":{"line":1,"column":2607},"end":{"line":1,"column":2647}},"39":{"start":{"line":1,"column":2666},"end":{"line":1,"column":2706}},"40":{"start":{"line":1,"column":2726},"end":{"line":1,"column":2767}},"41":{"start":{"line":1,"column":2788},"end":{"line":1,"column":2830}},"42":{"start":{"line":1,"column":2851},"end":{"line":1,"column":2893}},"43":{"start":{"line":1,"column":2917},"end":{"line":1,"column":2962}},"44":{"start":{"line":8,"column":46},"end":{"line":8,"column":105}},"45":{"start":{"line":8,"column":113},"end":{"line":8,"column":151}},"46":{"start":{"line":8,"column":152},"end":{"line":8,"column":279}},"47":{"start":{"line":8,"column":205},"end":{"line":8,"column":214}},"48":{"start":{"line":8,"column":248},"end":{"line":8,"column":257}},"49":{"start":{"line":8,"column":265},"end":{"line":8,"column":278}},"50":{"start":{"line":15,"column":42},"end":{"line":15,"column":99}},"51":{"start":{"line":15,"column":105},"end":{"line":15,"column":143}},"52":{"start":{"line":15,"column":149},"end":{"line":15,"column":158}},"53":{"start":{"line":15,"column":164},"end":{"line":15,"column":173}},"54":{"start":{"line":15,"column":174},"end":{"line":15,"column":419}},"55":{"start":{"line":22,"column":41},"end":{"line":22,"column":98}},"56":{"start":{"line":22,"column":105},"end":{"line":22,"column":143}},"57":{"start":{"line":22,"column":149},"end":{"line":22,"column":159}},"58":{"start":{"line":22,"column":165},"end":{"line":22,"column":175}},"59":{"start":{"line":22,"column":176},"end":{"line":22,"column":421}},"60":{"start":{"line":29,"column":42},"end":{"line":29,"column":99}},"61":{"start":{"line":29,"column":106},"end":{"line":29,"column":144}},"62":{"start":{"line":29,"column":150},"end":{"line":29,"column":160}},"63":{"start":{"line":29,"column":166},"end":{"line":29,"column":176}},"64":{"start":{"line":29,"column":177},"end":{"line":29,"column":335}},"65":{"start":{"line":36,"column":46},"end":{"line":36,"column":107}},"66":{"start":{"line":46,"column":5},"end":{"line":48,"column":267}},"67":{"start":{"line":46,"column":33},"end":{"line":46,"column":90}},"68":{"start":{"line":46,"column":98},"end":{"line":46,"column":136}},"69":{"start":{"line":46,"column":137},"end":{"line":48,"column":266}},"70":{"start":{"line":46,"column":166},"end":{"line":46,"column":267}},"71":{"start":{"line":46,"column":295},"end":{"line":46,"column":363}},"72":{"start":{"line":46,"column":375},"end":{"line":46,"column":427}},"73":{"start":{"line":46,"column":428},"end":{"line":46,"column":522}},"74":{"start":{"line":46,"column":536},"end":{"line":46,"column":624}},"75":{"start":{"line":46,"column":636},"end":{"line":46,"column":744}},"76":{"start":{"line":47,"column":0},"end":{"line":48,"column":235}},"77":{"start":{"line":47,"column":20},"end":{"line":47,"column":102}},"78":{"start":{"line":47,"column":54},"end":{"line":47,"column":102}},"79":{"start":{"line":48,"column":0},"end":{"line":48,"column":155}},"80":{"start":{"line":48,"column":43},"end":{"line":48,"column":155}},"81":{"start":{"line":48,"column":155},"end":{"line":48,"column":234}},"82":{"start":{"line":48,"column":235},"end":{"line":48,"column":244}},"83":{"start":{"line":48,"column":252},"end":{"line":48,"column":265}},"84":{"start":{"line":54,"column":36},"end":{"line":54,"column":115}},"85":{"start":{"line":54,"column":123},"end":{"line":54,"column":161}},"86":{"start":{"line":54,"column":162},"end":{"line":56,"column":183}},"87":{"start":{"line":54,"column":218},"end":{"line":54,"column":265}},"88":{"start":{"line":54,"column":234},"end":{"line":54,"column":265}},"89":{"start":{"line":54,"column":274},"end":{"line":54,"column":325}},"90":{"start":{"line":55,"column":0},"end":{"line":55,"column":207}},"91":{"start":{"line":55,"column":255},"end":{"line":55,"column":406}},"92":{"start":{"line":56,"column":0},"end":{"line":56,"column":161}},"93":{"start":{"line":56,"column":169},"end":{"line":56,"column":182}},"94":{"start":{"line":63,"column":41},"end":{"line":63,"column":100}},"95":{"start":{"line":63,"column":108},"end":{"line":63,"column":146}},"96":{"start":{"line":63,"column":147},"end":{"line":63,"column":289}},"97":{"start":{"line":63,"column":190},"end":{"line":63,"column":202}},"98":{"start":{"line":63,"column":243},"end":{"line":63,"column":267}},"99":{"start":{"line":63,"column":275},"end":{"line":63,"column":288}},"100":{"start":{"line":70,"column":39},"end":{"line":70,"column":118}},"101":{"start":{"line":70,"column":126},"end":{"line":70,"column":164}},"102":{"start":{"line":70,"column":165},"end":{"line":72,"column":189}},"103":{"start":{"line":70,"column":202},"end":{"line":70,"column":331}},"104":{"start":{"line":70,"column":359},"end":{"line":70,"column":405}},"105":{"start":{"line":71,"column":0},"end":{"line":71,"column":167}},"106":{"start":{"line":72,"column":0},"end":{"line":72,"column":167}},"107":{"start":{"line":72,"column":175},"end":{"line":72,"column":188}},"108":{"start":{"line":81,"column":38},"end":{"line":81,"column":95}},"109":{"start":{"line":81,"column":103},"end":{"line":81,"column":141}},"110":{"start":{"line":81,"column":142},"end":{"line":83,"column":32}},"111":{"start":{"line":81,"column":203},"end":{"line":81,"column":277}},"112":{"start":{"line":81,"column":228},"end":{"line":81,"column":277}},"113":{"start":{"line":81,"column":277},"end":{"line":81,"column":352}},"114":{"start":{"line":82,"column":0},"end":{"line":83,"column":1}},"115":{"start":{"line":82,"column":44},"end":{"line":82,"column":172}},"116":{"start":{"line":82,"column":89},"end":{"line":82,"column":172}},"117":{"start":{"line":82,"column":172},"end":{"line":82,"column":216}},"118":{"start":{"line":83,"column":1},"end":{"line":83,"column":10}},"119":{"start":{"line":83,"column":18},"end":{"line":83,"column":31}},"120":{"start":{"line":91,"column":38},"end":{"line":91,"column":95}},"121":{"start":{"line":91,"column":102},"end":{"line":91,"column":140}},"122":{"start":{"line":91,"column":146},"end":{"line":91,"column":156}},"123":{"start":{"line":91,"column":162},"end":{"line":91,"column":172}},"124":{"start":{"line":91,"column":181},"end":{"line":91,"column":194}},"125":{"start":{"line":91,"column":195},"end":{"line":91,"column":382}},"126":{"start":{"line":99,"column":37},"end":{"line":99,"column":94}},"127":{"start":{"line":99,"column":101},"end":{"line":99,"column":139}},"128":{"start":{"line":99,"column":145},"end":{"line":99,"column":155}},"129":{"start":{"line":99,"column":161},"end":{"line":99,"column":171}},"130":{"start":{"line":99,"column":180},"end":{"line":99,"column":193}},"131":{"start":{"line":99,"column":194},"end":{"line":99,"column":364}},"132":{"start":{"line":99,"column":333},"end":{"line":99,"column":356}},"133":{"start":{"line":106,"column":24},"end":{"line":106,"column":95}},"134":{"start":{"line":114,"column":3},"end":{"line":114,"column":45}},"135":{"start":{"line":114,"column":61},"end":{"line":114,"column":80}},"136":{"start":{"line":122,"column":3},"end":{"line":122,"column":35}},"137":{"start":{"line":122,"column":54},"end":{"line":122,"column":82}},"138":{"start":{"line":122,"column":83},"end":{"line":122,"column":121}}},"fnMap":{"0":{"name":"ownKeys","decl":{"start":{"line":1,"column":1173},"end":{"line":1,"column":1180}},"loc":{"start":{"line":1,"column":1203},"end":{"line":1,"column":1476}},"line":1},"1":{"name":"(anonymous_1)","decl":{"start":{"line":1,"column":1355},"end":{"line":1,"column":1356}},"loc":{"start":{"line":1,"column":1368},"end":{"line":1,"column":1431}},"line":1},"2":{"name":"_objectSpread","decl":{"start":{"line":1,"column":1485},"end":{"line":1,"column":1498}},"loc":{"start":{"line":1,"column":1506},"end":{"line":1,"column":1929}},"line":1},"3":{"name":"(anonymous_3)","decl":{"start":{"line":1,"column":1622},"end":{"line":1,"column":1623}},"loc":{"start":{"line":1,"column":1635},"end":{"line":1,"column":1689}},"line":1},"4":{"name":"(anonymous_4)","decl":{"start":{"line":1,"column":1821},"end":{"line":1,"column":1822}},"loc":{"start":{"line":1,"column":1834},"end":{"line":1,"column":1913}},"line":1},"5":{"name":"isInitializingReducer","decl":{"start":{"line":8,"column":12},"end":{"line":8,"column":33}},"loc":{"start":{"line":8,"column":35},"end":{"line":8,"column":280}},"line":8},"6":{"name":"requestingReducer","decl":{"start":{"line":15,"column":12},"end":{"line":15,"column":29}},"loc":{"start":{"line":15,"column":31},"end":{"line":15,"column":420}},"line":15},"7":{"name":"requestedReducer","decl":{"start":{"line":22,"column":12},"end":{"line":22,"column":28}},"loc":{"start":{"line":22,"column":30},"end":{"line":22,"column":422}},"line":22},"8":{"name":"timestampsReducer","decl":{"start":{"line":29,"column":12},"end":{"line":29,"column":29}},"loc":{"start":{"line":29,"column":31},"end":{"line":29,"column":336}},"line":29},"9":{"name":"createDataReducer","decl":{"start":{"line":36,"column":12},"end":{"line":36,"column":29}},"loc":{"start":{"line":36,"column":31},"end":{"line":48,"column":268}},"line":36},"10":{"name":"(anonymous_10)","decl":{"start":{"line":46,"column":12},"end":{"line":46,"column":13}},"loc":{"start":{"line":46,"column":22},"end":{"line":48,"column":267}},"line":46},"11":{"name":"authReducer","decl":{"start":{"line":54,"column":12},"end":{"line":54,"column":23}},"loc":{"start":{"line":54,"column":25},"end":{"line":56,"column":184}},"line":54},"12":{"name":"authErrorReducer","decl":{"start":{"line":63,"column":12},"end":{"line":63,"column":28}},"loc":{"start":{"line":63,"column":30},"end":{"line":63,"column":290}},"line":63},"13":{"name":"profileReducer","decl":{"start":{"line":70,"column":12},"end":{"line":70,"column":26}},"loc":{"start":{"line":70,"column":28},"end":{"line":72,"column":190}},"line":70},"14":{"name":"errorsReducer","decl":{"start":{"line":81,"column":12},"end":{"line":81,"column":25}},"loc":{"start":{"line":81,"column":27},"end":{"line":83,"column":33}},"line":81},"15":{"name":"listenersById","decl":{"start":{"line":91,"column":12},"end":{"line":91,"column":25}},"loc":{"start":{"line":91,"column":27},"end":{"line":91,"column":383}},"line":91},"16":{"name":"allListeners","decl":{"start":{"line":99,"column":12},"end":{"line":99,"column":24}},"loc":{"start":{"line":99,"column":26},"end":{"line":99,"column":365}},"line":99},"17":{"name":"(anonymous_17)","decl":{"start":{"line":99,"column":319},"end":{"line":99,"column":320}},"loc":{"start":{"line":99,"column":332},"end":{"line":99,"column":357}},"line":99}},"branchMap":{"0":{"loc":{"start":{"line":1,"column":1233},"end":{"line":1,"column":1464}},"type":"if","locations":[{"start":{"line":1,"column":1233},"end":{"line":1,"column":1464}},{"start":{"line":1,"column":1233},"end":{"line":1,"column":1464}}],"line":1},"1":{"loc":{"start":{"line":1,"column":1315},"end":{"line":1,"column":1433}},"type":"binary-expr","locations":[{"start":{"line":1,"column":1315},"end":{"line":1,"column":1329}},{"start":{"line":1,"column":1332},"end":{"line":1,"column":1432}}],"line":1},"2":{"loc":{"start":{"line":1,"column":1556},"end":{"line":1,"column":1590}},"type":"cond-expr","locations":[{"start":{"line":1,"column":1575},"end":{"line":1,"column":1577}},{"start":{"line":1,"column":1578},"end":{"line":1,"column":1590}}],"line":1},"3":{"loc":{"start":{"line":1,"column":1591},"end":{"line":1,"column":1914}},"type":"cond-expr","locations":[{"start":{"line":1,"column":1595},"end":{"line":1,"column":1690}},{"start":{"line":1,"column":1691},"end":{"line":1,"column":1914}}],"line":1},"4":{"loc":{"start":{"line":1,"column":1691},"end":{"line":1,"column":1914}},"type":"cond-expr","locations":[{"start":{"line":1,"column":1724},"end":{"line":1,"column":1796}},{"start":{"line":1,"column":1797},"end":{"line":1,"column":1914}}],"line":1},"5":{"loc":{"start":{"line":8,"column":46},"end":{"line":8,"column":105}},"type":"binary-expr","locations":[{"start":{"line":8,"column":46},"end":{"line":8,"column":91}},{"start":{"line":8,"column":93},"end":{"line":8,"column":105}}],"line":8},"6":{"loc":{"start":{"line":8,"column":49},"end":{"line":8,"column":90}},"type":"binary-expr","locations":[{"start":{"line":8,"column":49},"end":{"line":8,"column":67}},{"start":{"line":8,"column":69},"end":{"line":8,"column":90}}],"line":8},"7":{"loc":{"start":{"line":8,"column":113},"end":{"line":8,"column":151}},"type":"cond-expr","locations":[{"start":{"line":8,"column":132},"end":{"line":8,"column":144}},{"start":{"line":8,"column":145},"end":{"line":8,"column":151}}],"line":8},"8":{"loc":{"start":{"line":8,"column":152},"end":{"line":8,"column":279}},"type":"switch","locations":[{"start":{"line":8,"column":172},"end":{"line":8,"column":214}},{"start":{"line":8,"column":214},"end":{"line":8,"column":257}},{"start":{"line":8,"column":257},"end":{"line":8,"column":278}}],"line":8},"9":{"loc":{"start":{"line":15,"column":42},"end":{"line":15,"column":99}},"type":"cond-expr","locations":[{"start":{"line":15,"column":84},"end":{"line":15,"column":96}},{"start":{"line":15,"column":97},"end":{"line":15,"column":99}}],"line":15},"10":{"loc":{"start":{"line":15,"column":42},"end":{"line":15,"column":83}},"type":"binary-expr","locations":[{"start":{"line":15,"column":42},"end":{"line":15,"column":60}},{"start":{"line":15,"column":62},"end":{"line":15,"column":83}}],"line":15},"11":{"loc":{"start":{"line":15,"column":105},"end":{"line":15,"column":143}},"type":"cond-expr","locations":[{"start":{"line":15,"column":124},"end":{"line":15,"column":136}},{"start":{"line":15,"column":137},"end":{"line":15,"column":143}}],"line":15},"12":{"loc":{"start":{"line":15,"column":181},"end":{"line":15,"column":419}},"type":"cond-expr","locations":[{"start":{"line":15,"column":194},"end":{"line":15,"column":289}},{"start":{"line":15,"column":290},"end":{"line":15,"column":419}}],"line":15},"13":{"loc":{"start":{"line":15,"column":290},"end":{"line":15,"column":419}},"type":"cond-expr","locations":[{"start":{"line":15,"column":318},"end":{"line":15,"column":413}},{"start":{"line":15,"column":414},"end":{"line":15,"column":419}}],"line":15},"14":{"loc":{"start":{"line":15,"column":290},"end":{"line":15,"column":317}},"type":"binary-expr","locations":[{"start":{"line":15,"column":290},"end":{"line":15,"column":305}},{"start":{"line":15,"column":307},"end":{"line":15,"column":317}}],"line":15},"15":{"loc":{"start":{"line":22,"column":41},"end":{"line":22,"column":98}},"type":"cond-expr","locations":[{"start":{"line":22,"column":83},"end":{"line":22,"column":95}},{"start":{"line":22,"column":96},"end":{"line":22,"column":98}}],"line":22},"16":{"loc":{"start":{"line":22,"column":41},"end":{"line":22,"column":82}},"type":"binary-expr","locations":[{"start":{"line":22,"column":41},"end":{"line":22,"column":59}},{"start":{"line":22,"column":61},"end":{"line":22,"column":82}}],"line":22},"17":{"loc":{"start":{"line":22,"column":105},"end":{"line":22,"column":143}},"type":"cond-expr","locations":[{"start":{"line":22,"column":124},"end":{"line":22,"column":136}},{"start":{"line":22,"column":137},"end":{"line":22,"column":143}}],"line":22},"18":{"loc":{"start":{"line":22,"column":183},"end":{"line":22,"column":421}},"type":"cond-expr","locations":[{"start":{"line":22,"column":196},"end":{"line":22,"column":291}},{"start":{"line":22,"column":292},"end":{"line":22,"column":421}}],"line":22},"19":{"loc":{"start":{"line":22,"column":292},"end":{"line":22,"column":421}},"type":"cond-expr","locations":[{"start":{"line":22,"column":320},"end":{"line":22,"column":415}},{"start":{"line":22,"column":416},"end":{"line":22,"column":421}}],"line":22},"20":{"loc":{"start":{"line":22,"column":292},"end":{"line":22,"column":319}},"type":"binary-expr","locations":[{"start":{"line":22,"column":292},"end":{"line":22,"column":307}},{"start":{"line":22,"column":309},"end":{"line":22,"column":319}}],"line":22},"21":{"loc":{"start":{"line":29,"column":42},"end":{"line":29,"column":99}},"type":"cond-expr","locations":[{"start":{"line":29,"column":84},"end":{"line":29,"column":96}},{"start":{"line":29,"column":97},"end":{"line":29,"column":99}}],"line":29},"22":{"loc":{"start":{"line":29,"column":42},"end":{"line":29,"column":83}},"type":"binary-expr","locations":[{"start":{"line":29,"column":42},"end":{"line":29,"column":60}},{"start":{"line":29,"column":62},"end":{"line":29,"column":83}}],"line":29},"23":{"loc":{"start":{"line":29,"column":106},"end":{"line":29,"column":144}},"type":"cond-expr","locations":[{"start":{"line":29,"column":125},"end":{"line":29,"column":137}},{"start":{"line":29,"column":138},"end":{"line":29,"column":144}}],"line":29},"24":{"loc":{"start":{"line":29,"column":184},"end":{"line":29,"column":335}},"type":"cond-expr","locations":[{"start":{"line":29,"column":226},"end":{"line":29,"column":329}},{"start":{"line":29,"column":330},"end":{"line":29,"column":335}}],"line":29},"25":{"loc":{"start":{"line":29,"column":184},"end":{"line":29,"column":225}},"type":"binary-expr","locations":[{"start":{"line":29,"column":184},"end":{"line":29,"column":196}},{"start":{"line":29,"column":198},"end":{"line":29,"column":213}},{"start":{"line":29,"column":215},"end":{"line":29,"column":225}}],"line":29},"26":{"loc":{"start":{"line":36,"column":46},"end":{"line":36,"column":107}},"type":"cond-expr","locations":[{"start":{"line":36,"column":88},"end":{"line":36,"column":100}},{"start":{"line":36,"column":101},"end":{"line":36,"column":107}}],"line":36},"27":{"loc":{"start":{"line":36,"column":46},"end":{"line":36,"column":87}},"type":"binary-expr","locations":[{"start":{"line":36,"column":46},"end":{"line":36,"column":64}},{"start":{"line":36,"column":66},"end":{"line":36,"column":87}}],"line":36},"28":{"loc":{"start":{"line":46,"column":33},"end":{"line":46,"column":90}},"type":"cond-expr","locations":[{"start":{"line":46,"column":75},"end":{"line":46,"column":87}},{"start":{"line":46,"column":88},"end":{"line":46,"column":90}}],"line":46},"29":{"loc":{"start":{"line":46,"column":33},"end":{"line":46,"column":74}},"type":"binary-expr","locations":[{"start":{"line":46,"column":33},"end":{"line":46,"column":51}},{"start":{"line":46,"column":53},"end":{"line":46,"column":74}}],"line":46},"30":{"loc":{"start":{"line":46,"column":98},"end":{"line":46,"column":136}},"type":"cond-expr","locations":[{"start":{"line":46,"column":117},"end":{"line":46,"column":129}},{"start":{"line":46,"column":130},"end":{"line":46,"column":136}}],"line":46},"31":{"loc":{"start":{"line":46,"column":137},"end":{"line":48,"column":266}},"type":"switch","locations":[{"start":{"line":46,"column":157},"end":{"line":46,"column":267}},{"start":{"line":46,"column":267},"end":{"line":46,"column":522}},{"start":{"line":46,"column":522},"end":{"line":46,"column":624}},{"start":{"line":46,"column":624},"end":{"line":46,"column":744}},{"start":{"line":46,"column":744},"end":{"line":48,"column":244}},{"start":{"line":48,"column":244},"end":{"line":48,"column":265}}],"line":46},"32":{"loc":{"start":{"line":46,"column":642},"end":{"line":46,"column":743}},"type":"cond-expr","locations":[{"start":{"line":46,"column":661},"end":{"line":46,"column":737}},{"start":{"line":46,"column":738},"end":{"line":46,"column":743}}],"line":46},"33":{"loc":{"start":{"line":47,"column":0},"end":{"line":48,"column":235}},"type":"if","locations":[{"start":{"line":47,"column":0},"end":{"line":48,"column":235}},{"start":{"line":47,"column":0},"end":{"line":48,"column":235}}],"line":47},"34":{"loc":{"start":{"line":47,"column":20},"end":{"line":47,"column":102}},"type":"if","locations":[{"start":{"line":47,"column":20},"end":{"line":47,"column":102}},{"start":{"line":47,"column":20},"end":{"line":47,"column":102}}],"line":47},"35":{"loc":{"start":{"line":48,"column":0},"end":{"line":48,"column":155}},"type":"if","locations":[{"start":{"line":48,"column":0},"end":{"line":48,"column":155}},{"start":{"line":48,"column":0},"end":{"line":48,"column":155}}],"line":48},"36":{"loc":{"start":{"line":48,"column":50},"end":{"line":48,"column":154}},"type":"cond-expr","locations":[{"start":{"line":48,"column":77},"end":{"line":48,"column":151}},{"start":{"line":48,"column":152},"end":{"line":48,"column":154}}],"line":48},"37":{"loc":{"start":{"line":54,"column":36},"end":{"line":54,"column":115}},"type":"cond-expr","locations":[{"start":{"line":54,"column":78},"end":{"line":54,"column":90}},{"start":{"line":54,"column":91},"end":{"line":54,"column":115}}],"line":54},"38":{"loc":{"start":{"line":54,"column":36},"end":{"line":54,"column":77}},"type":"binary-expr","locations":[{"start":{"line":54,"column":36},"end":{"line":54,"column":54}},{"start":{"line":54,"column":56},"end":{"line":54,"column":77}}],"line":54},"39":{"loc":{"start":{"line":54,"column":123},"end":{"line":54,"column":161}},"type":"cond-expr","locations":[{"start":{"line":54,"column":142},"end":{"line":54,"column":154}},{"start":{"line":54,"column":155},"end":{"line":54,"column":161}}],"line":54},"40":{"loc":{"start":{"line":54,"column":162},"end":{"line":56,"column":183}},"type":"switch","locations":[{"start":{"line":54,"column":182},"end":{"line":54,"column":193}},{"start":{"line":54,"column":193},"end":{"line":55,"column":207}},{"start":{"line":55,"column":207},"end":{"line":55,"column":230}},{"start":{"line":55,"column":230},"end":{"line":55,"column":406}},{"start":{"line":55,"column":406},"end":{"line":55,"column":423}},{"start":{"line":55,"column":423},"end":{"line":55,"column":446}},{"start":{"line":55,"column":446},"end":{"line":56,"column":161}},{"start":{"line":56,"column":161},"end":{"line":56,"column":182}}],"line":54},"41":{"loc":{"start":{"line":54,"column":218},"end":{"line":54,"column":265}},"type":"if","locations":[{"start":{"line":54,"column":218},"end":{"line":54,"column":265}},{"start":{"line":54,"column":218},"end":{"line":54,"column":265}}],"line":54},"42":{"loc":{"start":{"line":54,"column":274},"end":{"line":54,"column":325}},"type":"cond-expr","locations":[{"start":{"line":54,"column":293},"end":{"line":54,"column":313}},{"start":{"line":54,"column":314},"end":{"line":54,"column":325}}],"line":54},"43":{"loc":{"start":{"line":55,"column":7},"end":{"line":55,"column":206}},"type":"cond-expr","locations":[{"start":{"line":55,"column":45},"end":{"line":55,"column":158}},{"start":{"line":55,"column":159},"end":{"line":55,"column":206}}],"line":55},"44":{"loc":{"start":{"line":55,"column":7},"end":{"line":55,"column":44}},"type":"binary-expr","locations":[{"start":{"line":55,"column":7},"end":{"line":55,"column":22}},{"start":{"line":55,"column":24},"end":{"line":55,"column":44}}],"line":55},"45":{"loc":{"start":{"line":55,"column":262},"end":{"line":55,"column":405}},"type":"cond-expr","locations":[{"start":{"line":55,"column":277},"end":{"line":55,"column":380}},{"start":{"line":55,"column":381},"end":{"line":55,"column":405}}],"line":55},"46":{"loc":{"start":{"line":55,"column":294},"end":{"line":55,"column":354}},"type":"cond-expr","locations":[{"start":{"line":55,"column":316},"end":{"line":55,"column":339}},{"start":{"line":55,"column":340},"end":{"line":55,"column":354}}],"line":55},"47":{"loc":{"start":{"line":56,"column":7},"end":{"line":56,"column":160}},"type":"cond-expr","locations":[{"start":{"line":56,"column":45},"end":{"line":56,"column":135}},{"start":{"line":56,"column":136},"end":{"line":56,"column":160}}],"line":56},"48":{"loc":{"start":{"line":56,"column":7},"end":{"line":56,"column":44}},"type":"binary-expr","locations":[{"start":{"line":56,"column":7},"end":{"line":56,"column":22}},{"start":{"line":56,"column":24},"end":{"line":56,"column":44}}],"line":56},"49":{"loc":{"start":{"line":63,"column":41},"end":{"line":63,"column":100}},"type":"cond-expr","locations":[{"start":{"line":63,"column":83},"end":{"line":63,"column":95}},{"start":{"line":63,"column":96},"end":{"line":63,"column":100}}],"line":63},"50":{"loc":{"start":{"line":63,"column":41},"end":{"line":63,"column":82}},"type":"binary-expr","locations":[{"start":{"line":63,"column":41},"end":{"line":63,"column":59}},{"start":{"line":63,"column":61},"end":{"line":63,"column":82}}],"line":63},"51":{"loc":{"start":{"line":63,"column":108},"end":{"line":63,"column":146}},"type":"cond-expr","locations":[{"start":{"line":63,"column":127},"end":{"line":63,"column":139}},{"start":{"line":63,"column":140},"end":{"line":63,"column":146}}],"line":63},"52":{"loc":{"start":{"line":63,"column":147},"end":{"line":63,"column":289}},"type":"switch","locations":[{"start":{"line":63,"column":167},"end":{"line":63,"column":178}},{"start":{"line":63,"column":178},"end":{"line":63,"column":202}},{"start":{"line":63,"column":202},"end":{"line":63,"column":219}},{"start":{"line":63,"column":219},"end":{"line":63,"column":267}},{"start":{"line":63,"column":267},"end":{"line":63,"column":288}}],"line":63},"53":{"loc":{"start":{"line":70,"column":39},"end":{"line":70,"column":118}},"type":"cond-expr","locations":[{"start":{"line":70,"column":81},"end":{"line":70,"column":93}},{"start":{"line":70,"column":94},"end":{"line":70,"column":118}}],"line":70},"54":{"loc":{"start":{"line":70,"column":39},"end":{"line":70,"column":80}},"type":"binary-expr","locations":[{"start":{"line":70,"column":39},"end":{"line":70,"column":57}},{"start":{"line":70,"column":59},"end":{"line":70,"column":80}}],"line":70},"55":{"loc":{"start":{"line":70,"column":126},"end":{"line":70,"column":164}},"type":"cond-expr","locations":[{"start":{"line":70,"column":145},"end":{"line":70,"column":157}},{"start":{"line":70,"column":158},"end":{"line":70,"column":164}}],"line":70},"56":{"loc":{"start":{"line":70,"column":165},"end":{"line":72,"column":189}},"type":"switch","locations":[{"start":{"line":70,"column":185},"end":{"line":70,"column":331}},{"start":{"line":70,"column":331},"end":{"line":70,"column":405}},{"start":{"line":70,"column":405},"end":{"line":71,"column":167}},{"start":{"line":71,"column":167},"end":{"line":71,"column":179}},{"start":{"line":71,"column":179},"end":{"line":72,"column":167}},{"start":{"line":72,"column":167},"end":{"line":72,"column":188}}],"line":70},"57":{"loc":{"start":{"line":70,"column":209},"end":{"line":70,"column":330}},"type":"cond-expr","locations":[{"start":{"line":70,"column":224},"end":{"line":70,"column":281}},{"start":{"line":70,"column":282},"end":{"line":70,"column":330}}],"line":70},"58":{"loc":{"start":{"line":71,"column":7},"end":{"line":71,"column":166}},"type":"cond-expr","locations":[{"start":{"line":71,"column":48},"end":{"line":71,"column":141}},{"start":{"line":71,"column":142},"end":{"line":71,"column":166}}],"line":71},"59":{"loc":{"start":{"line":71,"column":7},"end":{"line":71,"column":47}},"type":"binary-expr","locations":[{"start":{"line":71,"column":7},"end":{"line":71,"column":22}},{"start":{"line":71,"column":24},"end":{"line":71,"column":47}}],"line":71},"60":{"loc":{"start":{"line":72,"column":7},"end":{"line":72,"column":166}},"type":"cond-expr","locations":[{"start":{"line":72,"column":48},"end":{"line":72,"column":141}},{"start":{"line":72,"column":142},"end":{"line":72,"column":166}}],"line":72},"61":{"loc":{"start":{"line":72,"column":7},"end":{"line":72,"column":47}},"type":"binary-expr","locations":[{"start":{"line":72,"column":7},"end":{"line":72,"column":22}},{"start":{"line":72,"column":24},"end":{"line":72,"column":47}}],"line":72},"62":{"loc":{"start":{"line":81,"column":38},"end":{"line":81,"column":95}},"type":"cond-expr","locations":[{"start":{"line":81,"column":80},"end":{"line":81,"column":92}},{"start":{"line":81,"column":93},"end":{"line":81,"column":95}}],"line":81},"63":{"loc":{"start":{"line":81,"column":38},"end":{"line":81,"column":79}},"type":"binary-expr","locations":[{"start":{"line":81,"column":38},"end":{"line":81,"column":56}},{"start":{"line":81,"column":58},"end":{"line":81,"column":79}}],"line":81},"64":{"loc":{"start":{"line":81,"column":103},"end":{"line":81,"column":141}},"type":"cond-expr","locations":[{"start":{"line":81,"column":122},"end":{"line":81,"column":134}},{"start":{"line":81,"column":135},"end":{"line":81,"column":141}}],"line":81},"65":{"loc":{"start":{"line":81,"column":142},"end":{"line":83,"column":32}},"type":"switch","locations":[{"start":{"line":81,"column":162},"end":{"line":81,"column":179}},{"start":{"line":81,"column":179},"end":{"line":81,"column":352}},{"start":{"line":81,"column":352},"end":{"line":81,"column":364}},{"start":{"line":81,"column":364},"end":{"line":83,"column":10}},{"start":{"line":83,"column":10},"end":{"line":83,"column":31}}],"line":81},"66":{"loc":{"start":{"line":81,"column":203},"end":{"line":81,"column":277}},"type":"if","locations":[{"start":{"line":81,"column":203},"end":{"line":81,"column":277}},{"start":{"line":81,"column":203},"end":{"line":81,"column":277}}],"line":81},"67":{"loc":{"start":{"line":82,"column":0},"end":{"line":83,"column":1}},"type":"if","locations":[{"start":{"line":82,"column":0},"end":{"line":83,"column":1}},{"start":{"line":82,"column":0},"end":{"line":83,"column":1}}],"line":82},"68":{"loc":{"start":{"line":82,"column":3},"end":{"line":82,"column":42}},"type":"binary-expr","locations":[{"start":{"line":82,"column":3},"end":{"line":82,"column":18}},{"start":{"line":82,"column":20},"end":{"line":82,"column":42}}],"line":82},"69":{"loc":{"start":{"line":82,"column":44},"end":{"line":82,"column":172}},"type":"if","locations":[{"start":{"line":82,"column":44},"end":{"line":82,"column":172}},{"start":{"line":82,"column":44},"end":{"line":82,"column":172}}],"line":82},"70":{"loc":{"start":{"line":91,"column":38},"end":{"line":91,"column":95}},"type":"cond-expr","locations":[{"start":{"line":91,"column":80},"end":{"line":91,"column":92}},{"start":{"line":91,"column":93},"end":{"line":91,"column":95}}],"line":91},"71":{"loc":{"start":{"line":91,"column":38},"end":{"line":91,"column":79}},"type":"binary-expr","locations":[{"start":{"line":91,"column":38},"end":{"line":91,"column":56}},{"start":{"line":91,"column":58},"end":{"line":91,"column":79}}],"line":91},"72":{"loc":{"start":{"line":91,"column":102},"end":{"line":91,"column":140}},"type":"cond-expr","locations":[{"start":{"line":91,"column":121},"end":{"line":91,"column":133}},{"start":{"line":91,"column":134},"end":{"line":91,"column":140}}],"line":91},"73":{"loc":{"start":{"line":91,"column":202},"end":{"line":91,"column":382}},"type":"cond-expr","locations":[{"start":{"line":91,"column":222},"end":{"line":91,"column":315}},{"start":{"line":91,"column":316},"end":{"line":91,"column":382}}],"line":91},"74":{"loc":{"start":{"line":91,"column":316},"end":{"line":91,"column":382}},"type":"cond-expr","locations":[{"start":{"line":91,"column":338},"end":{"line":91,"column":376}},{"start":{"line":91,"column":377},"end":{"line":91,"column":382}}],"line":91},"75":{"loc":{"start":{"line":99,"column":37},"end":{"line":99,"column":94}},"type":"cond-expr","locations":[{"start":{"line":99,"column":79},"end":{"line":99,"column":91}},{"start":{"line":99,"column":92},"end":{"line":99,"column":94}}],"line":99},"76":{"loc":{"start":{"line":99,"column":37},"end":{"line":99,"column":78}},"type":"binary-expr","locations":[{"start":{"line":99,"column":37},"end":{"line":99,"column":55}},{"start":{"line":99,"column":57},"end":{"line":99,"column":78}}],"line":99},"77":{"loc":{"start":{"line":99,"column":101},"end":{"line":99,"column":139}},"type":"cond-expr","locations":[{"start":{"line":99,"column":120},"end":{"line":99,"column":132}},{"start":{"line":99,"column":133},"end":{"line":99,"column":139}}],"line":99},"78":{"loc":{"start":{"line":99,"column":201},"end":{"line":99,"column":364}},"type":"cond-expr","locations":[{"start":{"line":99,"column":221},"end":{"line":99,"column":283}},{"start":{"line":99,"column":284},"end":{"line":99,"column":364}}],"line":99},"79":{"loc":{"start":{"line":99,"column":284},"end":{"line":99,"column":364}},"type":"cond-expr","locations":[{"start":{"line":99,"column":306},"end":{"line":99,"column":358}},{"start":{"line":99,"column":359},"end":{"line":99,"column":364}}],"line":99}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":46,"13":46,"14":46,"15":46,"16":0,"17":46,"18":46,"19":46,"20":92,"21":16,"22":0,"23":46,"24":1,"25":1,"26":1,"27":1,"28":1,"29":1,"30":1,"31":1,"32":1,"33":1,"34":1,"35":1,"36":1,"37":1,"38":1,"39":1,"40":1,"41":1,"42":1,"43":1,"44":74,"45":74,"46":74,"47":1,"48":1,"49":72,"50":75,"51":75,"52":75,"53":75,"54":75,"55":75,"56":75,"57":75,"58":75,"59":75,"60":75,"61":75,"62":75,"63":75,"64":75,"65":2,"66":2,"67":149,"68":149,"69":149,"70":12,"71":12,"72":12,"73":12,"74":2,"75":8,"76":27,"77":21,"78":2,"79":19,"80":18,"81":1,"82":6,"83":88,"84":74,"85":74,"86":74,"87":14,"88":5,"89":9,"90":9,"91":5,"92":17,"93":38,"94":74,"95":74,"96":74,"97":23,"98":3,"99":48,"100":74,"101":74,"102":74,"103":2,"104":1,"105":10,"106":16,"107":45,"108":74,"109":74,"110":74,"111":3,"112":1,"113":2,"114":17,"115":2,"116":1,"117":1,"118":15,"119":54,"120":74,"121":74,"122":74,"123":74,"124":74,"125":74,"126":74,"127":74,"128":74,"129":74,"130":74,"131":74,"132":1,"133":1,"134":1,"135":1,"136":1,"137":1,"138":1},"f":{"0":46,"1":0,"2":46,"3":16,"4":0,"5":74,"6":75,"7":75,"8":75,"9":2,"10":149,"11":74,"12":74,"13":74,"14":74,"15":74,"16":74,"17":1},"b":{"0":[46,0],"1":[46,46],"2":[0,92],"3":[46,46],"4":[46,0],"5":[74,4],"6":[74,74],"7":[74,0],"8":[1,1,72],"9":[4,71],"10":[75,75],"11":[75,0],"12":[3,72],"13":[7,65],"14":[72,71],"15":[4,71],"16":[75,75],"17":[75,0],"18":[3,72],"19":[7,65],"20":[72,71],"21":[4,71],"22":[75,75],"23":[75,0],"24":[10,65],"25":[75,72,71],"26":[1,1],"27":[2,1],"28":[23,126],"29":[149,149],"30":[149,0],"31":[12,12,2,8,27,88],"32":[4,4],"33":[21,6],"34":[2,19],"35":[18,1],"36":[3,15],"37":[17,57],"38":[74,74],"39":[74,0],"40":[10,14,5,5,1,4,17,38],"41":[5,9],"42":[1,8],"43":[4,5],"44":[9,4],"45":[3,2],"46":[1,2],"47":[3,14],"48":[17,10],"49":[4,70],"50":[74,74],"51":[74,0],"52":[10,23,1,3,48],"53":[10,64],"54":[74,74],"55":[74,0],"56":[2,1,10,13,16,45],"57":[1,1],"58":[3,7],"59":[10,7],"60":[3,13],"61":[16,10],"62":[9,65],"63":[74,74],"64":[74,0],"65":[1,3,13,17,54],"66":[1,2],"67":[2,15],"68":[17,13],"69":[1,1],"70":[5,69],"71":[74,74],"72":[74,0],"73":[2,72],"74":[3,69],"75":[5,69],"76":[74,74],"77":[74,0],"78":[2,72],"79":[3,69]},"inputSourceMap":{"version":3,"sources":["reducers.js"],"names":["START","actionTypes","SET","SET_PROFILE","MERGE","LOGIN","LOGOUT","LOGIN_ERROR","CLEAR_ERRORS","REMOVE","NO_VALUE","SET_LISTENER","UNSET_LISTENER","AUTHENTICATION_INIT_STARTED","AUTHENTICATION_INIT_FINISHED","AUTH_EMPTY_CHANGE","AUTH_LINK_SUCCESS","UNAUTHORIZED_ERROR","AUTH_UPDATE_SUCCESS","AUTH_RELOAD_SUCCESS","PROFILE_UPDATE_SUCCESS","isInitializingReducer","state","action","type","requestingReducer","path","requestedReducer","timestampsReducer","Date","now","createDataReducer","actionKey","Object","previousData","mergedData","preserve","Array","isArray","Error","authReducer","isLoaded","isEmpty","auth","toJSON","payload","authErrorReducer","authError","profileReducer","profile","assign","errorsReducer","errors","filter","listenersById","id","allListeners","lId","listenersReducer","byId","allIds","dataReducer","orderedReducer"],"mappings":"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","sourceRoot":"/Users/scott/Dev/Code/react-redux-firebase/src","sourcesContent":["import { pick, omit, get, isObject } from 'lodash'\nimport { setWith, assign } from 'lodash/fp'\nimport { actionTypes } from './constants'\nimport {\n  getSlashStrPath,\n  getDotStrPath,\n  recursiveUnset,\n  combineReducers,\n  preserveValuesFromState\n} from './utils/reducers'\n\nconst {\n  START,\n  SET,\n  SET_PROFILE,\n  MERGE,\n  LOGIN,\n  LOGOUT,\n  LOGIN_ERROR,\n  CLEAR_ERRORS,\n  REMOVE,\n  NO_VALUE,\n  SET_LISTENER,\n  UNSET_LISTENER,\n  AUTHENTICATION_INIT_STARTED,\n  AUTHENTICATION_INIT_FINISHED,\n  AUTH_EMPTY_CHANGE,\n  AUTH_LINK_SUCCESS,\n  UNAUTHORIZED_ERROR,\n  AUTH_UPDATE_SUCCESS,\n  AUTH_RELOAD_SUCCESS,\n  PROFILE_UPDATE_SUCCESS\n} = actionTypes\n\n/**\n * Reducer for isInitializing state. Changed by `AUTHENTICATION_INIT_STARTED`\n * and `AUTHENTICATION_INIT_FINISHED` actions.\n * @param  {object} [state=false] - Current isInitializing redux state\n * @param  {object} action - Object containing the action that was dispatched\n * @param  {string} action.type - Type of action that was dispatched\n * @returns {object} Profile state after reduction\n */\nexport function isInitializingReducer(state = false, action) {\n  switch (action.type) {\n    case AUTHENTICATION_INIT_STARTED:\n      return true\n    case AUTHENTICATION_INIT_FINISHED:\n      return false\n    default:\n      return state\n  }\n}\n\n/**\n * Reducer for requesting state.Changed by `START`, `NO_VALUE`, and `SET` actions.\n * @param  {object} [state={}] - Current requesting redux state\n * @param  {object} action - Object containing the action that was dispatched\n * @param  {string} action.type - Type of action that was dispatched\n * @param  {string} action.path - Path of action that was dispatched\n * @returns {object} Profile state after reduction\n */\nexport function requestingReducer(state = {}, { type, path }) {\n  switch (type) {\n    case START:\n      return {\n        ...state,\n        [getSlashStrPath(path)]: true\n      }\n    case NO_VALUE:\n    case SET:\n      return {\n        ...state,\n        [getSlashStrPath(path)]: false\n      }\n    default:\n      return state\n  }\n}\n\n/**\n * Reducer for requested state. Changed by `START`, `NO_VALUE`, and `SET` actions.\n * @param  {object} [state={}] - Current requested redux state\n * @param  {object} action - Object containing the action that was dispatched\n * @param  {string} action.type - Type of action that was dispatched\n * @param  {string} action.path - Path of action that was dispatched\n * @returns {object} Profile state after reduction\n */\nexport function requestedReducer(state = {}, { type, path }) {\n  switch (type) {\n    case START:\n      return {\n        ...state,\n        [getSlashStrPath(path)]: false\n      }\n    case NO_VALUE:\n    case SET:\n      return {\n        ...state,\n        [getSlashStrPath(path)]: true\n      }\n    default:\n      return state\n  }\n}\n\n/**\n * Reducer for timestamps state. Changed by `START`, `NO_VALUE`, and `SET` actions.\n * @param  {object} [state={}] - Current timestamps redux state\n * @param  {object} action - Object containing the action that was dispatched\n * @param  {string} action.type - Type of action that was dispatched\n * @param  {string} action.path - Path of action that was dispatched\n * @returns {object} Profile state after reduction\n */\nexport function timestampsReducer(state = {}, { type, path }) {\n  switch (type) {\n    case START:\n    case NO_VALUE:\n    case SET:\n      return {\n        ...state,\n        [getSlashStrPath(path)]: Date.now()\n      }\n    default:\n      return state\n  }\n}\n\n/**\n * Creates reducer for data state. Used to create data and ordered reducers.\n * Changed by `SET` or `SET_ORDERED` (if actionKey === 'ordered'), `MERGE`,\n * `NO_VALUE`, and `LOGOUT` actions.\n * @param {string} actionKey - Key of state for which to make reducer (data or ordered)\n * @returns {Function} Data reducer\n * @private\n */\nfunction createDataReducer(actionKey = 'data') {\n  /**\n   * Creates reducer for data state. Used to create data and ordered reducers.\n   * Changed by `SET` or `SET_ORDERED` (if actionKey === 'ordered'), `MERGE`,\n   * `NO_VALUE`, and `LOGOUT` actions.\n   * @param {object} [state={}] - Current data redux state\n   * @param {object} action - Object containing the action that was dispatched\n   * @param {string} action.type - Type of action that was dispatched\n   * @param {string} action.path - Path of action that was dispatched\n   * @returns {object} Data state after reduction\n   * @private\n   */\n  return function dataReducer(state = {}, action) {\n    switch (action.type) {\n      case SET:\n        return setWith(\n          Object,\n          getDotStrPath(action.path),\n          action[actionKey],\n          state\n        )\n      case MERGE:\n        const previousData = get(state, getDotStrPath(action.path), {})\n        const mergedData = assign(previousData, action[actionKey])\n        return setWith(Object, getDotStrPath(action.path), mergedData, state)\n      case NO_VALUE:\n        return setWith(Object, getDotStrPath(action.path), null, state)\n      case REMOVE:\n        if (actionKey === 'data') {\n          return recursiveUnset(getDotStrPath(action.path), state)\n        }\n        return state\n      case LOGOUT:\n        // support keeping data when logging out - #125\n        if (action.preserve) {\n          if (Array.isArray(action.preserve)) {\n            return pick(state, action.preserve) // pick returns a new object\n          } else if (isObject(action.preserve)) {\n            return action.preserve[actionKey]\n              ? preserveValuesFromState(state, action.preserve[actionKey], {})\n              : {}\n          }\n          throw new Error(\n            'Invalid preserve parameter. It must be an Object or an Array'\n          )\n        }\n        return {}\n      default:\n        return state\n    }\n  }\n}\n\n/**\n * Reducer for auth state. Changed by `LOGIN`, `LOGOUT`, and `LOGIN_ERROR` actions.\n * @param  {object} [state={isLoaded: false}] - Current auth redux state\n * @param  {object} action - Object containing the action that was dispatched\n * @param  {string} action.type - Type of action that was dispatched\n * @returns {object} Profile state after reduction\n */\nexport function authReducer(\n  state = { isLoaded: false, isEmpty: true },\n  action\n) {\n  switch (action.type) {\n    case LOGIN:\n    case AUTH_UPDATE_SUCCESS:\n      if (!action.auth) {\n        return {\n          isEmpty: true,\n          isLoaded: true\n        }\n      }\n      const auth = action.auth.toJSON ? action.auth.toJSON() : action.auth\n      // Support keeping data\n      if (action.preserve && action.preserve.auth) {\n        return preserveValuesFromState(state, action.preserve.auth, {\n          ...auth,\n          isEmpty: false,\n          isLoaded: true\n        })\n      }\n      return { ...auth, isEmpty: false, isLoaded: true }\n    case AUTH_LINK_SUCCESS:\n    case AUTH_RELOAD_SUCCESS:\n      if (!action.payload) {\n        return {\n          isEmpty: true,\n          isLoaded: true\n        }\n      }\n      return {\n        ...(action.payload.toJSON ? action.payload.toJSON() : action.payload),\n        isEmpty: false,\n        isLoaded: true\n      }\n    case LOGIN_ERROR:\n    case AUTH_EMPTY_CHANGE:\n    case LOGOUT:\n      // Support keeping data when logging out\n      if (action.preserve && action.preserve.auth) {\n        return preserveValuesFromState(state, action.preserve.auth, {\n          isLoaded: true,\n          isEmpty: true\n        })\n      }\n      return { isLoaded: true, isEmpty: true }\n    default:\n      return state\n  }\n}\n\n/**\n * Reducer for authError state. Changed by `LOGIN`, `LOGOUT`, `LOGIN_ERROR`, and\n * `UNAUTHORIZED_ERROR` actions.\n * @param  {object} [state={}] - Current authError redux state\n * @param  {object} action - Object containing the action that was dispatched\n * @param  {string} action.type - Type of action that was dispatched\n * @returns {object} authError state after reduction\n */\nexport function authErrorReducer(state = null, action) {\n  switch (action.type) {\n    case LOGIN:\n    case LOGOUT:\n      return null\n    case LOGIN_ERROR:\n    case UNAUTHORIZED_ERROR:\n      return action.authError\n    default:\n      return state\n  }\n}\n\n/**\n * Reducer for profile state. Changed by `SET_PROFILE`, `LOGOUT`, and\n * `LOGIN_ERROR` actions.\n * @param  {object} [state={isLoaded: false}] - Current profile redux state\n * @param  {object} action - Object containing the action that was dispatched\n * @param  {string} action.type - Type of action that was dispatched\n * @returns {object} Profile state after reduction\n */\nexport function profileReducer(\n  state = { isLoaded: false, isEmpty: true },\n  action\n) {\n  switch (action.type) {\n    case SET_PROFILE:\n      if (!action.profile) {\n        return {\n          ...state,\n          isEmpty: true,\n          isLoaded: true\n        }\n      }\n      return {\n        ...action.profile,\n        isEmpty: false,\n        isLoaded: true\n      }\n    case PROFILE_UPDATE_SUCCESS:\n      return Object.assign({}, state, action.payload)\n    case LOGIN:\n      // Support keeping data when logging out\n      if (action.preserve && action.preserve.profile) {\n        return preserveValuesFromState(state, action.preserve.profile, {\n          isLoaded: true,\n          isEmpty: true\n        })\n      }\n      return {\n        isEmpty: true,\n        isLoaded: false\n      }\n    case LOGOUT:\n    case AUTH_EMPTY_CHANGE:\n      // Support keeping data when logging out\n      if (action.preserve && action.preserve.profile) {\n        return preserveValuesFromState(state, action.preserve.profile, {\n          isLoaded: true,\n          isEmpty: true\n        })\n      }\n      return { isLoaded: true, isEmpty: true }\n    default:\n      return state\n  }\n}\n\n/**\n * Reducer for errors state. Changed by `UNAUTHORIZED_ERROR`, `CLEAR_ERRORS`,\n * and `LOGOUT` actions.\n * @param  {object} [state=[]] - Current errors redux state\n * @param  {object} action - Object containing the action that was dispatched\n * @param  {string} action.type - Type of action that was dispatched\n * @param  {Function} action.preserve - `not required` Filter function for\n * preserving errors\n * @returns {object} Profile state after reduction\n */\nexport function errorsReducer(state = [], action) {\n  switch (action.type) {\n    case LOGIN_ERROR:\n    case UNAUTHORIZED_ERROR:\n      if (!Array.isArray(state)) {\n        throw new Error('Errors state must be an array')\n      }\n      return [...state, action.authError]\n    case LOGOUT:\n    case CLEAR_ERRORS:\n      // Support keeping errors through a filter function\n      if (action.preserve && action.preserve.errors) {\n        if (typeof action.preserve.errors !== 'function') {\n          throw new Error(\n            'Preserve for the errors state currently only supports functions'\n          )\n        }\n        return state.filter(action.preserve.errors) // run filter function on state\n      }\n      return []\n    default:\n      return state\n  }\n}\n\n/**\n * Reducer for listeners ids. Changed by `SET_LISTENER` and `UNSET_LISTENER`\n * actions.\n * @param  {object} [state={}] - Current listenersById redux state\n * @param  {object} action - Object containing the action that was dispatched\n * @param  {string} action.type - Type of action that was dispatched\n * @returns {object} listenersById state after reduction (used in listeners)\n * @private\n */\nfunction listenersById(state = {}, { type, path, payload }) {\n  switch (type) {\n    case SET_LISTENER:\n      return {\n        ...state,\n        [payload.id]: {\n          id: payload.id,\n          path\n        }\n      }\n    case UNSET_LISTENER:\n      return omit(state, [payload.id])\n    default:\n      return state\n  }\n}\n\n/**\n * Reducer for listeners state. Changed by `UNAUTHORIZED_ERROR`\n * and `LOGOUT` actions.\n * @param  {object} [state=[]] - Current allListeners redux state\n * @param  {object} action - Object containing the action that was dispatched\n * @param  {string} action.type - Type of action that was dispatched\n * @returns {object} allListeners state after reduction (used in listeners)\n * @private\n */\nfunction allListeners(state = [], { type, path, payload }) {\n  switch (type) {\n    case SET_LISTENER:\n      return [...state, payload.id]\n    case UNSET_LISTENER:\n      return state.filter(lId => lId !== payload.id)\n    default:\n      return state\n  }\n}\n\n/**\n * Reducer for listeners state. Changed by `UNAUTHORIZED_ERROR`\n * and `LOGOUT` actions.\n * @param  {object} [state=[]] - Current listeners redux state\n * @param  {object} action - Object containing the action that was dispatched\n * @param  {string} action.type - Type of action that was dispatched\n * @returns {object} Profile state after reduction\n */\nexport const listenersReducer = combineReducers({\n  byId: listenersById,\n  allIds: allListeners\n})\n\n/**\n * Reducer for data state. Changed by `SET`, `SET_ORDERED`,`NO_VALUE`, and\n * `LOGOUT` actions.\n * @param  {object} [state={}] - Current data redux state\n * @param  {object} action - Object containing the action that was dispatched\n * @param  {string} action.type - Type of action that was dispatched\n * @param  {string} action.path - Path of action that was dispatched\n * @returns {object} Data state after reduction\n */\nexport const dataReducer = createDataReducer()\n\n/**\n * Reducer for ordered state. Changed by `SET`, `SET_ORDERED`,`NO_VALUE`, and\n * `LOGOUT` actions.\n * @param  {object} [state={}] - Current data redux state\n * @param  {object} action - Object containing the action that was dispatched\n * @param  {string} action.type - Type of action that was dispatched\n * @param  {string} action.path - Path of action that was dispatched\n * @returns {object} Data state after reduction\n */\nexport const orderedReducer = createDataReducer('ordered')\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"d70ba19de68cf3b49e08e66ff2c88456417ee5b5","contentHash":"b49542af42c44fbc247f0bafc4c69efc2e5a55c0c36b24b0d7db9c81b7b7add9"}}